(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function g1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var cm={exports:{}},xl={};var kv;function y1(){if(kv)return xl;kv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return xl.Fragment=e,xl.jsx=n,xl.jsxs=n,xl}var Vv;function _1(){return Vv||(Vv=1,cm.exports=y1()),cm.exports}var M=_1(),hm={exports:{}},Ce={};var Uv;function v1(){if(Uv)return Ce;Uv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),A=Symbol.iterator;function I(U){return U===null||typeof U!="object"?null:(U=A&&U[A]||U["@@iterator"],typeof U=="function"?U:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,D={};function P(U,ee,le){this.props=U,this.context=ee,this.refs=D,this.updater=le||F}P.prototype.isReactComponent={},P.prototype.setState=function(U,ee){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ee,"setState")},P.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function B(){}B.prototype=P.prototype;function Z(U,ee,le){this.props=U,this.context=ee,this.refs=D,this.updater=le||F}var se=Z.prototype=new B;se.constructor=Z,H(se,P.prototype),se.isPureReactComponent=!0;var de=Array.isArray;function pe(){}var C={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function w(U,ee,le){var ce=le.ref;return{$$typeof:r,type:U,key:ee,ref:ce!==void 0?ce:null,props:le}}function O(U,ee){return w(U.type,ee,U.props)}function k(U){return typeof U=="object"&&U!==null&&U.$$typeof===r}function j(U){var ee={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(le){return ee[le]})}var x=/\/+/g;function it(U,ee){return typeof U=="object"&&U!==null&&U.key!=null?j(""+U.key):ee.toString(36)}function gt(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(pe,pe):(U.status="pending",U.then(function(ee){U.status==="pending"&&(U.status="fulfilled",U.value=ee)},function(ee){U.status==="pending"&&(U.status="rejected",U.reason=ee)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function $(U,ee,le,ce,ge){var Re=typeof U;(Re==="undefined"||Re==="boolean")&&(U=null);var re=!1;if(U===null)re=!0;else switch(Re){case"bigint":case"string":case"number":re=!0;break;case"object":switch(U.$$typeof){case r:case e:re=!0;break;case E:return re=U._init,$(re(U._payload),ee,le,ce,ge)}}if(re)return ge=ge(U),re=ce===""?"."+it(U,0):ce,de(ge)?(le="",re!=null&&(le=re.replace(x,"$&/")+"/"),$(ge,ee,le,"",function(Ve){return Ve})):ge!=null&&(k(ge)&&(ge=O(ge,le+(ge.key==null||U&&U.key===ge.key?"":(""+ge.key).replace(x,"$&/")+"/")+re)),ee.push(ge)),1;re=0;var ue=ce===""?".":ce+":";if(de(U))for(var _e=0;_e<U.length;_e++)ce=U[_e],Re=ue+it(ce,_e),re+=$(ce,ee,le,Re,ge);else if(_e=I(U),typeof _e=="function")for(U=_e.call(U),_e=0;!(ce=U.next()).done;)ce=ce.value,Re=ue+it(ce,_e++),re+=$(ce,ee,le,Re,ge);else if(Re==="object"){if(typeof U.then=="function")return $(gt(U),ee,le,ce,ge);throw ee=String(U),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return re}function oe(U,ee,le){if(U==null)return U;var ce=[],ge=0;return $(U,ce,"","",function(Re){return ee.call(le,Re,ge++)}),ce}function ve(U){if(U._status===-1){var ee=U._result;ee=ee(),ee.then(function(le){(U._status===0||U._status===-1)&&(U._status=1,U._result=le)},function(le){(U._status===0||U._status===-1)&&(U._status=2,U._result=le)}),U._status===-1&&(U._status=0,U._result=ee)}if(U._status===1)return U._result.default;throw U._result}var ke=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},qe={map:oe,forEach:function(U,ee,le){oe(U,function(){ee.apply(this,arguments)},le)},count:function(U){var ee=0;return oe(U,function(){ee++}),ee},toArray:function(U){return oe(U,function(ee){return ee})||[]},only:function(U){if(!k(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Ce.Activity=T,Ce.Children=qe,Ce.Component=P,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=Z,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(U){return C.H.useMemoCache(U)}},Ce.cache=function(U){return function(){return U.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(U,ee,le){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ce=H({},U.props),ge=U.key;if(ee!=null)for(Re in ee.key!==void 0&&(ge=""+ee.key),ee)!R.call(ee,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ee.ref===void 0||(ce[Re]=ee[Re]);var Re=arguments.length-2;if(Re===1)ce.children=le;else if(1<Re){for(var re=Array(Re),ue=0;ue<Re;ue++)re[ue]=arguments[ue+2];ce.children=re}return w(U.type,ge,ce)},Ce.createContext=function(U){return U={$$typeof:h,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:u,_context:U},U},Ce.createElement=function(U,ee,le){var ce,ge={},Re=null;if(ee!=null)for(ce in ee.key!==void 0&&(Re=""+ee.key),ee)R.call(ee,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(ge[ce]=ee[ce]);var re=arguments.length-2;if(re===1)ge.children=le;else if(1<re){for(var ue=Array(re),_e=0;_e<re;_e++)ue[_e]=arguments[_e+2];ge.children=ue}if(U&&U.defaultProps)for(ce in re=U.defaultProps,re)ge[ce]===void 0&&(ge[ce]=re[ce]);return w(U,Re,ge)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(U){return{$$typeof:m,render:U}},Ce.isValidElement=k,Ce.lazy=function(U){return{$$typeof:E,_payload:{_status:-1,_result:U},_init:ve}},Ce.memo=function(U,ee){return{$$typeof:g,type:U,compare:ee===void 0?null:ee}},Ce.startTransition=function(U){var ee=C.T,le={};C.T=le;try{var ce=U(),ge=C.S;ge!==null&&ge(le,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(pe,ke)}catch(Re){ke(Re)}finally{ee!==null&&le.types!==null&&(ee.types=le.types),C.T=ee}},Ce.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ce.use=function(U){return C.H.use(U)},Ce.useActionState=function(U,ee,le){return C.H.useActionState(U,ee,le)},Ce.useCallback=function(U,ee){return C.H.useCallback(U,ee)},Ce.useContext=function(U){return C.H.useContext(U)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(U,ee){return C.H.useDeferredValue(U,ee)},Ce.useEffect=function(U,ee){return C.H.useEffect(U,ee)},Ce.useEffectEvent=function(U){return C.H.useEffectEvent(U)},Ce.useId=function(){return C.H.useId()},Ce.useImperativeHandle=function(U,ee,le){return C.H.useImperativeHandle(U,ee,le)},Ce.useInsertionEffect=function(U,ee){return C.H.useInsertionEffect(U,ee)},Ce.useLayoutEffect=function(U,ee){return C.H.useLayoutEffect(U,ee)},Ce.useMemo=function(U,ee){return C.H.useMemo(U,ee)},Ce.useOptimistic=function(U,ee){return C.H.useOptimistic(U,ee)},Ce.useReducer=function(U,ee,le){return C.H.useReducer(U,ee,le)},Ce.useRef=function(U){return C.H.useRef(U)},Ce.useState=function(U){return C.H.useState(U)},Ce.useSyncExternalStore=function(U,ee,le){return C.H.useSyncExternalStore(U,ee,le)},Ce.useTransition=function(){return C.H.useTransition()},Ce.version="19.2.4",Ce}var Lv;function lp(){return Lv||(Lv=1,hm.exports=v1()),hm.exports}var L=lp();const E1=g1(L);var fm={exports:{}},Nl={},dm={exports:{}},mm={};var Pv;function T1(){return Pv||(Pv=1,(function(r){function e($,oe){var ve=$.length;$.push(oe);e:for(;0<ve;){var ke=ve-1>>>1,qe=$[ke];if(0<o(qe,oe))$[ke]=oe,$[ve]=qe,ve=ke;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var oe=$[0],ve=$.pop();if(ve!==oe){$[0]=ve;e:for(var ke=0,qe=$.length,U=qe>>>1;ke<U;){var ee=2*(ke+1)-1,le=$[ee],ce=ee+1,ge=$[ce];if(0>o(le,ve))ce<qe&&0>o(ge,le)?($[ke]=ge,$[ce]=ve,ke=ce):($[ke]=le,$[ee]=ve,ke=ee);else if(ce<qe&&0>o(ge,ve))$[ke]=ge,$[ce]=ve,ke=ce;else break e}}return oe}function o($,oe){var ve=$.sortIndex-oe.sortIndex;return ve!==0?ve:$.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,T=null,A=3,I=!1,F=!1,H=!1,D=!1,P=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function se($){for(var oe=n(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=$)s(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=n(g)}}function de($){if(H=!1,se($),!F)if(n(p)!==null)F=!0,pe||(pe=!0,j());else{var oe=n(g);oe!==null&&gt(de,oe.startTime-$)}}var pe=!1,C=-1,R=5,w=-1;function O(){return D?!0:!(r.unstable_now()-w<R)}function k(){if(D=!1,pe){var $=r.unstable_now();w=$;var oe=!0;try{e:{F=!1,H&&(H=!1,B(C),C=-1),I=!0;var ve=A;try{t:{for(se($),T=n(p);T!==null&&!(T.expirationTime>$&&O());){var ke=T.callback;if(typeof ke=="function"){T.callback=null,A=T.priorityLevel;var qe=ke(T.expirationTime<=$);if($=r.unstable_now(),typeof qe=="function"){T.callback=qe,se($),oe=!0;break t}T===n(p)&&s(p),se($)}else s(p);T=n(p)}if(T!==null)oe=!0;else{var U=n(g);U!==null&&gt(de,U.startTime-$),oe=!1}}break e}finally{T=null,A=ve,I=!1}oe=void 0}}finally{oe?j():pe=!1}}}var j;if(typeof Z=="function")j=function(){Z(k)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,it=x.port2;x.port1.onmessage=k,j=function(){it.postMessage(null)}}else j=function(){P(k,0)};function gt($,oe){C=P(function(){$(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function($){switch(A){case 1:case 2:case 3:var oe=3;break;default:oe=A}var ve=A;A=oe;try{return $()}finally{A=ve}},r.unstable_requestPaint=function(){D=!0},r.unstable_runWithPriority=function($,oe){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ve=A;A=$;try{return oe()}finally{A=ve}},r.unstable_scheduleCallback=function($,oe,ve){var ke=r.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?ke+ve:ke):ve=ke,$){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=ve+qe,$={id:E++,callback:oe,priorityLevel:$,startTime:ve,expirationTime:qe,sortIndex:-1},ve>ke?($.sortIndex=ve,e(g,$),n(p)===null&&$===n(g)&&(H?(B(C),C=-1):H=!0,gt(de,ve-ke))):($.sortIndex=qe,e(p,$),F||I||(F=!0,pe||(pe=!0,j()))),$},r.unstable_shouldYield=O,r.unstable_wrapCallback=function($){var oe=A;return function(){var ve=A;A=oe;try{return $.apply(this,arguments)}finally{A=ve}}}})(mm)),mm}var zv;function S1(){return zv||(zv=1,dm.exports=T1()),dm.exports}var pm={exports:{}},tn={};var jv;function b1(){if(jv)return tn;jv=1;var r=lp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,tn.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},tn.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},tn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},tn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},tn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:I}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:A,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},tn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},tn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},tn.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},tn.requestFormReset=function(p){s.d.r(p)},tn.unstable_batchedUpdates=function(p,g){return p(g)},tn.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},tn.useFormStatus=function(){return h.H.useHostTransitionStatus()},tn.version="19.2.4",tn}var Bv;function A1(){if(Bv)return pm.exports;Bv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),pm.exports=b1(),pm.exports}var Hv;function w1(){if(Hv)return Nl;Hv=1;var r=S1(),e=lp(),n=A1();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,S=f.child;S;){if(S===a){_=!0,a=f,l=d;break}if(S===l){_=!0,l=f,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=f;break}if(S===l){_=!0,l=d,a=f;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function it(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case H:return"Fragment";case P:return"Profiler";case D:return"StrictMode";case de:return"Suspense";case pe:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case Z:return t.displayName||"Context";case B:return(t._context.displayName||"Context")+".Consumer";case se:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return i=t.displayName||null,i!==null?i:it(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return it(t(i))}catch{}}return null}var gt=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},ke=[],qe=-1;function U(t){return{current:t}}function ee(t){0>qe||(t.current=ke[qe],ke[qe]=null,qe--)}function le(t,i){qe++,ke[qe]=t.current,t.current=i}var ce=U(null),ge=U(null),Re=U(null),re=U(null);function ue(t,i){switch(le(Re,i),le(ge,t),le(ce,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?iv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=iv(i),t=rv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ee(ce),le(ce,t)}function _e(){ee(ce),ee(ge),ee(Re)}function Ve(t){t.memoizedState!==null&&le(re,t);var i=ce.current,a=rv(i,t.type);i!==a&&(le(ge,t),le(ce,a))}function bt(t){ge.current===t&&(ee(ce),ee(ge)),re.current===t&&(ee(re),Rl._currentValue=ve)}var Tn,Fi;function Ft(t){if(Tn===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Tn=i&&i[1]||"",Fi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Tn+t+Fi}var Ro=!1;function bs(t,i){if(!t||Ro)return"";Ro=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(X){var Y=X}Reflect.construct(t,[],te)}else{try{te.call()}catch(X){Y=X}t.call(te.prototype)}}else{try{throw Error()}catch(X){Y=X}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var N=_.split(`
`),K=S.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===K.length)for(l=N.length-1,f=K.length-1;1<=l&&0<=f&&N[l]!==K[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==K[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==K[f]){var W=`
`+N[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=f);break}}}finally{Ro=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ft(a):""}function Co(t,i){switch(t.tag){case 26:case 27:case 5:return Ft(t.type);case 16:return Ft("Lazy");case 13:return t.child!==i&&i!==null?Ft("Suspense Fallback"):Ft("Suspense");case 19:return Ft("SuspenseList");case 0:case 15:return bs(t.type,!1);case 11:return bs(t.type.render,!1);case 1:return bs(t.type,!0);case 31:return Ft("Activity");default:return""}}function Io(t){try{var i="",a=null;do i+=Co(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var At=Object.prototype.hasOwnProperty,Vt=r.unstable_scheduleCallback,Er=r.unstable_cancelCallback,ff=r.unstable_shouldYield,Au=r.unstable_requestPaint,on=r.unstable_now,As=r.unstable_getCurrentPriorityLevel,Do=r.unstable_ImmediatePriority,xo=r.unstable_UserBlockingPriority,Tr=r.unstable_NormalPriority,df=r.unstable_LowPriority,wu=r.unstable_IdlePriority,Ru=r.log,Cu=r.unstable_setDisableYieldValue,Xn=null,Gt=null;function Mn(t){if(typeof Ru=="function"&&Cu(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Xn,t)}catch{}}var yt=Math.clz32?Math.clz32:Du,Iu=Math.log,ga=Math.LN2;function Du(t){return t>>>=0,t===0?32:31-(Iu(t)/ga|0)|0}var hi=256,ws=262144,wt=4194304;function fi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function di(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=fi(l):(_&=S,_!==0?f=fi(_):a||(a=S&~t,a!==0&&(f=fi(a))))):(S=l&~d,S!==0?f=fi(S):_!==0?f=fi(_):a||(a=l&~t,a!==0&&(f=fi(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function $n(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function mf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xu(){var t=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),t}function mi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Rs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function pf(t,i,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,N=t.expirationTimes,K=t.hiddenUpdates;for(a=_&~a;0<a;){var W=31-yt(a),te=1<<W;S[W]=0,N[W]=-1;var Y=K[W];if(Y!==null)for(K[W]=null,W=0;W<Y.length;W++){var X=Y[W];X!==null&&(X.lane&=-536870913)}a&=~te}l!==0&&Cs(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Cs(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-yt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function No(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-yt(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function Oo(t,i){var a=i&-i;return a=(a&42)!==0?1:Is(a),(a&(t.suspendedLanes|i))!==0?0:a}function Is(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Gi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Nu(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:Cv(t.type))}function Wn(t,i){var a=oe.p;try{return oe.p=t,i()}finally{oe.p=a}}var Jn=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Jn,jt="__reactProps$"+Jn,pi="__reactContainer$"+Jn,ya="__reactEvents$"+Jn,gf="__reactListeners$"+Jn,Ou="__reactHandles$"+Jn,Mu="__reactResources$"+Jn,gi="__reactMarker$"+Jn;function _a(t){delete t[Rt],delete t[jt],delete t[ya],delete t[gf],delete t[Ou]}function yi(t){var i=t[Rt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[pi]||a[Rt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=hv(t);t!==null;){if(a=t[Rt])return a;t=hv(t)}return i}t=a,a=t.parentNode}return null}function kn(t){if(t=t[Rt]||t[pi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Sn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function _i(t){var i=t[Mu];return i||(i=t[Mu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ct(t){t[gi]=!0}var Mo=new Set,ko={};function vi(t,i){Ei(t,i),Ei(t+"Capture",i)}function Ei(t,i){for(ko[t]=i,t=0;t<i.length;t++)Mo.add(i[t])}var Vo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uo={},Lo={};function ku(t){return At.call(Lo,t)?!0:At.call(Uo,t)?!1:Vo.test(t)?Lo[t]=!0:(Uo[t]=!0,!1)}function va(t,i,a){if(ku(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function bn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function It(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Bt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Sr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Po(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Xe(t){if(!t._valueTracker){var i=Sr(t)?"checked":"value";t._valueTracker=Po(t,i,""+t[i])}}function Ds(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Sr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ti(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var xs=/[\n"\\]/g;function hn(t){return t.replace(xs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ea(t,i,a,l,f,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Bt(i)):t.value!==""+Bt(i)&&(t.value=""+Bt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?zo(t,_,Bt(i)):a!=null?zo(t,_,Bt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Bt(S):t.removeAttribute("name")}function Vu(t,i,a,l,f,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Xe(t);return}a=a!=null?""+Bt(a):"",i=i!=null?""+Bt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Xe(t)}function zo(t,i,a){i==="number"&&Ti(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function br(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Bt(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Uu(t,i,a){if(i!=null&&(i=""+Bt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Bt(a):""}function Ar(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(gt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Bt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Xe(t)}function fn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Lu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Lu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Bo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&jo(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&jo(t,d,i[d])}function Ta(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sa(t){return wr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Zn(){}var Ho=null;function Vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rr=null,Si=null;function Ns(t){var i=kn(t);if(i&&(t=i.stateNode)){var a=t[jt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ea(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+hn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[jt]||null;if(!f)throw Error(s(90));Ea(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Ds(l)}break e;case"textarea":Uu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&br(t,!!a.multiple,i,!1)}}}var ba=!1;function Cr(t,i,a){if(ba)return t(i,a);ba=!0;try{var l=t(i);return l}finally{if(ba=!1,(Rr!==null||Si!==null)&&(Nc(),Rr&&(i=Rr,t=Si,Si=Rr=null,Ns(i),t)))for(i=0;i<t.length;i++)Ns(t[i])}}function ei(t,i){var a=t.stateNode;if(a===null)return null;var l=a[jt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Os=!1;if(Un)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){Os=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{Os=!1}var bi=null,qo=null,Ms=null;function Fo(){if(Ms)return Ms;var t,i=qo,a=i.length,l,f="value"in bi?bi.value:bi.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===f[d-l];l++);return Ms=f.slice(t,1<l?1-l:void 0)}function ks(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ki(){return!0}function ti(){return!1}function Kt(t){function i(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ki:ti,this.isPropagationStopped=ti,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),i}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=Kt(Yi),Ir=T({},Yi,{view:0,detail:0}),Go=Kt(Ir),Dr,Aa,wi,wa=T({},Ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wi&&(wi&&t.type==="mousemove"?(Dr=t.screenX-wi.screenX,Aa=t.screenY-wi.screenY):Aa=Dr=0,wi=t),Dr)},movementY:function(t){return"movementY"in t?t.movementY:Aa}}),Ko=Kt(wa),Vs=T({},wa,{dataTransfer:0}),zu=Kt(Vs),ju=T({},Ir,{relatedTarget:0}),Us=Kt(ju),Yo=T({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),Bu=Kt(Yo),Ra=T({},Yi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Hu=Kt(Ra),qu=T({},Yi,{data:0}),Ri=Kt(qu),Fu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Ku[t])?!!i[t]:!1}function xr(){return Yu}var ln=T({},Ir,{key:function(t){if(t.key){var i=Fu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ks(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Gu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xr,charCode:function(t){return t.type==="keypress"?ks(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ks(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Qu=Kt(ln),Xu=T({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qi=Kt(Xu),c=T({},Ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xr}),y=Kt(c),v=T({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Kt(v),q=T({},wa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Kt(q),ae=T({},Yi,{newState:0,oldState:0}),De=Kt(ae),_t=[9,13,27,32],Ke=Un&&"CompositionEvent"in window,ot=null;Un&&"documentMode"in document&&(ot=document.documentMode);var Ln=Un&&"TextEvent"in window&&!ot,Ci=Un&&(!Ke||ot&&8<ot&&11>=ot),ni=" ",ii=!1;function Ls(t,i){switch(t){case"keyup":return _t.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ca(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ia=!1;function jb(t,i){switch(t){case"compositionend":return Ca(i);case"keypress":return i.which!==32?null:(ii=!0,ni);case"textInput":return t=i.data,t===ni&&ii?null:t;default:return null}}function Bb(t,i){if(Ia)return t==="compositionend"||!Ke&&Ls(t,i)?(t=Fo(),Ms=qo=bi=null,Ia=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ci&&i.locale!=="ko"?null:i.data;default:return null}}var Hb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Hb[t.type]:i==="textarea"}function pg(t,i,a,l){Rr?Si?Si.push(l):Si=[l]:Rr=l,i=Pc(i,"onChange"),0<i.length&&(a=new Ai("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Qo=null,Xo=null;function qb(t){W_(t,0)}function $u(t){var i=Sn(t);if(Ds(i))return t}function gg(t,i){if(t==="change")return i}var yg=!1;if(Un){var yf;if(Un){var _f="oninput"in document;if(!_f){var _g=document.createElement("div");_g.setAttribute("oninput","return;"),_f=typeof _g.oninput=="function"}yf=_f}else yf=!1;yg=yf&&(!document.documentMode||9<document.documentMode)}function vg(){Qo&&(Qo.detachEvent("onpropertychange",Eg),Xo=Qo=null)}function Eg(t){if(t.propertyName==="value"&&$u(Xo)){var i=[];pg(i,Xo,t,Vn(t)),Cr(qb,i)}}function Fb(t,i,a){t==="focusin"?(vg(),Qo=i,Xo=a,Qo.attachEvent("onpropertychange",Eg)):t==="focusout"&&vg()}function Gb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $u(Xo)}function Kb(t,i){if(t==="click")return $u(i)}function Yb(t,i){if(t==="input"||t==="change")return $u(i)}function Qb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var An=typeof Object.is=="function"?Object.is:Qb;function $o(t,i){if(An(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!At.call(i,f)||!An(t[f],i[f]))return!1}return!0}function Tg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sg(t,i){var a=Tg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Tg(a)}}function bg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?bg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ag(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ti(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ti(t.document)}return i}function vf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Xb=Un&&"documentMode"in document&&11>=document.documentMode,Da=null,Ef=null,Wo=null,Tf=!1;function wg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Tf||Da==null||Da!==Ti(l)||(l=Da,"selectionStart"in l&&vf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Wo&&$o(Wo,l)||(Wo=l,l=Pc(Ef,"onSelect"),0<l.length&&(i=new Ai("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Da)))}function Ps(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var xa={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionrun:Ps("Transition","TransitionRun"),transitionstart:Ps("Transition","TransitionStart"),transitioncancel:Ps("Transition","TransitionCancel"),transitionend:Ps("Transition","TransitionEnd")},Sf={},Rg={};Un&&(Rg=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function zs(t){if(Sf[t])return Sf[t];if(!xa[t])return t;var i=xa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Rg)return Sf[t]=i[a];return t}var Cg=zs("animationend"),Ig=zs("animationiteration"),Dg=zs("animationstart"),$b=zs("transitionrun"),Wb=zs("transitionstart"),Jb=zs("transitioncancel"),xg=zs("transitionend"),Ng=new Map,bf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bf.push("scrollEnd");function ri(t,i){Ng.set(t,i),vi(i,[t])}var Wu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Pn=[],Na=0,Af=0;function Ju(){for(var t=Na,i=Af=Na=0;i<t;){var a=Pn[i];Pn[i++]=null;var l=Pn[i];Pn[i++]=null;var f=Pn[i];Pn[i++]=null;var d=Pn[i];if(Pn[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&Og(a,f,d)}}function Zu(t,i,a,l){Pn[Na++]=t,Pn[Na++]=i,Pn[Na++]=a,Pn[Na++]=l,Af|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function wf(t,i,a,l){return Zu(t,i,a,l),ec(t)}function js(t,i){return Zu(t,null,null,i),ec(t)}function Og(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-yt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function ec(t){if(50<vl)throw vl=0,kd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Oa={};function Zb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,i,a,l){return new Zb(t,i,a,l)}function Rf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xi(t,i){var a=t.alternate;return a===null?(a=wn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Mg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function tc(t,i,a,l,f,d){var _=0;if(l=t,typeof t=="function")Rf(t)&&(_=1);else if(typeof t=="string")_=r1(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case w:return t=wn(31,a,i,f),t.elementType=w,t.lanes=d,t;case H:return Bs(a.children,f,d,i);case D:_=8,f|=24;break;case P:return t=wn(12,a,i,f|2),t.elementType=P,t.lanes=d,t;case de:return t=wn(13,a,i,f),t.elementType=de,t.lanes=d,t;case pe:return t=wn(19,a,i,f),t.elementType=pe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Z:_=10;break e;case B:_=9;break e;case se:_=11;break e;case C:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=wn(_,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function Bs(t,i,a,l){return t=wn(7,t,l,i),t.lanes=a,t}function Cf(t,i,a){return t=wn(6,t,null,i),t.lanes=a,t}function kg(t){var i=wn(18,null,null,0);return i.stateNode=t,i}function If(t,i,a){return i=wn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Vg=new WeakMap;function zn(t,i){if(typeof t=="object"&&t!==null){var a=Vg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Io(i)},Vg.set(t,i),i)}return{value:t,source:i,stack:Io(i)}}var Ma=[],ka=0,nc=null,Jo=0,jn=[],Bn=0,Nr=null,Ii=1,Di="";function $i(t,i){Ma[ka++]=Jo,Ma[ka++]=nc,nc=t,Jo=i}function Ug(t,i,a){jn[Bn++]=Ii,jn[Bn++]=Di,jn[Bn++]=Nr,Nr=t;var l=Ii;t=Di;var f=32-yt(l)-1;l&=~(1<<f),a+=1;var d=32-yt(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Ii=1<<32-yt(i)+f|a<<f|l,Di=d+t}else Ii=1<<d|a<<f|l,Di=t}function Df(t){t.return!==null&&($i(t,1),Ug(t,1,0))}function xf(t){for(;t===nc;)nc=Ma[--ka],Ma[ka]=null,Jo=Ma[--ka],Ma[ka]=null;for(;t===Nr;)Nr=jn[--Bn],jn[Bn]=null,Di=jn[--Bn],jn[Bn]=null,Ii=jn[--Bn],jn[Bn]=null}function Lg(t,i){jn[Bn++]=Ii,jn[Bn++]=Di,jn[Bn++]=Nr,Ii=i.id,Di=i.overflow,Nr=t}var Yt=null,rt=null,Be=!1,Or=null,Hn=!1,Nf=Error(s(519));function Mr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zo(zn(i,t)),Nf}function Pg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Rt]=t,i[jt]=l,a){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(a=0;a<Tl.length;a++)Me(Tl[a],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),Vu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),Ar(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||tv(i.textContent,a)?(l.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),l.onScroll!=null&&Me("scroll",i),l.onScrollEnd!=null&&Me("scrollend",i),l.onClick!=null&&(i.onclick=Zn),i=!0):i=!1,i||Mr(t,!0)}function zg(t){for(Yt=t.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Yt=Yt.return}}function Va(t){if(t!==Yt)return!1;if(!Be)return zg(t),Be=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Xd(t.type,t.memoizedProps)),a=!a),a&&rt&&Mr(t),zg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));rt=cv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));rt=cv(t)}else i===27?(i=rt,Yr(t.type)?(t=em,em=null,rt=t):rt=i):rt=Yt?Fn(t.stateNode.nextSibling):null;return!0}function Hs(){rt=Yt=null,Be=!1}function Of(){var t=Or;return t!==null&&(gn===null?gn=t:gn.push.apply(gn,t),Or=null),t}function Zo(t){Or===null?Or=[t]:Or.push(t)}var Mf=U(null),qs=null,Wi=null;function kr(t,i,a){le(Mf,i._currentValue),i._currentValue=a}function Ji(t){t._currentValue=Mf.current,ee(Mf)}function kf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Vf(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=f;for(var N=0;N<i.length;N++)if(S.context===i[N]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),kf(d.return,a,t),l||(_=null);break e}d=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),kf(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ua(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=f.type;An(f.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(f===re.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Rl):t=[Rl])}f=f.return}t!==null&&Vf(i,t,a,l),i.flags|=262144}function ic(t){for(t=t.firstContext;t!==null;){if(!An(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fs(t){qs=t,Wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return jg(qs,t)}function rc(t,i){return qs===null&&Fs(t),jg(t,i)}function jg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Wi===null){if(t===null)throw Error(s(308));Wi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Wi=Wi.next=i;return a}var eA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},tA=r.unstable_scheduleCallback,nA=r.unstable_NormalPriority,Dt={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uf(){return{controller:new eA,data:new Map,refCount:0}}function el(t){t.refCount--,t.refCount===0&&tA(nA,function(){t.controller.abort()})}var tl=null,Lf=0,La=0,Pa=null;function iA(t,i){if(tl===null){var a=tl=[];Lf=0,La=jd(),Pa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Lf++,i.then(Bg,Bg),i}function Bg(){if(--Lf===0&&tl!==null){Pa!==null&&(Pa.status="fulfilled");var t=tl;tl=null,La=0,Pa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function rA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Hg=$.S;$.S=function(t,i){w_=on(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&iA(t,i),Hg!==null&&Hg(t,i)};var Gs=U(null);function Pf(){var t=Gs.current;return t!==null?t:nt.pooledCache}function sc(t,i){i===null?le(Gs,Gs.current):le(Gs,i.pool)}function qg(){var t=Pf();return t===null?null:{parent:Dt._currentValue,pool:t}}var za=Error(s(460)),zf=Error(s(474)),ac=Error(s(542)),oc={then:function(){}};function Fg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Gg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Zn,Zn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Yg(t),t;default:if(typeof i.status=="string")i.then(Zn,Zn);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Yg(t),t}throw Ys=i,za}}function Ks(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ys=a,za):a}}var Ys=null;function Kg(){if(Ys===null)throw Error(s(459));var t=Ys;return Ys=null,t}function Yg(t){if(t===za||t===ac)throw Error(s(483))}var ja=null,nl=0;function lc(t){var i=nl;return nl+=1,ja===null&&(ja=[]),Gg(ja,t,i)}function il(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function uc(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Qg(t){function i(z,V){if(t){var G=z.deletions;G===null?(z.deletions=[V],z.flags|=16):G.push(V)}}function a(z,V){if(!t)return null;for(;V!==null;)i(z,V),V=V.sibling;return null}function l(z){for(var V=new Map;z!==null;)z.key!==null?V.set(z.key,z):V.set(z.index,z),z=z.sibling;return V}function f(z,V){return z=Xi(z,V),z.index=0,z.sibling=null,z}function d(z,V,G){return z.index=G,t?(G=z.alternate,G!==null?(G=G.index,G<V?(z.flags|=67108866,V):G):(z.flags|=67108866,V)):(z.flags|=1048576,V)}function _(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function S(z,V,G,J){return V===null||V.tag!==6?(V=Cf(G,z.mode,J),V.return=z,V):(V=f(V,G),V.return=z,V)}function N(z,V,G,J){var Ee=G.type;return Ee===H?W(z,V,G.props.children,J,G.key):V!==null&&(V.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===R&&Ks(Ee)===V.type)?(V=f(V,G.props),il(V,G),V.return=z,V):(V=tc(G.type,G.key,G.props,null,z.mode,J),il(V,G),V.return=z,V)}function K(z,V,G,J){return V===null||V.tag!==4||V.stateNode.containerInfo!==G.containerInfo||V.stateNode.implementation!==G.implementation?(V=If(G,z.mode,J),V.return=z,V):(V=f(V,G.children||[]),V.return=z,V)}function W(z,V,G,J,Ee){return V===null||V.tag!==7?(V=Bs(G,z.mode,J,Ee),V.return=z,V):(V=f(V,G),V.return=z,V)}function te(z,V,G){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Cf(""+V,z.mode,G),V.return=z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case I:return G=tc(V.type,V.key,V.props,null,z.mode,G),il(G,V),G.return=z,G;case F:return V=If(V,z.mode,G),V.return=z,V;case R:return V=Ks(V),te(z,V,G)}if(gt(V)||j(V))return V=Bs(V,z.mode,G,null),V.return=z,V;if(typeof V.then=="function")return te(z,lc(V),G);if(V.$$typeof===Z)return te(z,rc(z,V),G);uc(z,V)}return null}function Y(z,V,G,J){var Ee=V!==null?V.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Ee!==null?null:S(z,V,""+G,J);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case I:return G.key===Ee?N(z,V,G,J):null;case F:return G.key===Ee?K(z,V,G,J):null;case R:return G=Ks(G),Y(z,V,G,J)}if(gt(G)||j(G))return Ee!==null?null:W(z,V,G,J,null);if(typeof G.then=="function")return Y(z,V,lc(G),J);if(G.$$typeof===Z)return Y(z,V,rc(z,G),J);uc(z,G)}return null}function X(z,V,G,J,Ee){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return z=z.get(G)||null,S(V,z,""+J,Ee);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case I:return z=z.get(J.key===null?G:J.key)||null,N(V,z,J,Ee);case F:return z=z.get(J.key===null?G:J.key)||null,K(V,z,J,Ee);case R:return J=Ks(J),X(z,V,G,J,Ee)}if(gt(J)||j(J))return z=z.get(G)||null,W(V,z,J,Ee,null);if(typeof J.then=="function")return X(z,V,G,lc(J),Ee);if(J.$$typeof===Z)return X(z,V,G,rc(V,J),Ee);uc(V,J)}return null}function fe(z,V,G,J){for(var Ee=null,Fe=null,me=V,Ne=V=0,Le=null;me!==null&&Ne<G.length;Ne++){me.index>Ne?(Le=me,me=null):Le=me.sibling;var Ge=Y(z,me,G[Ne],J);if(Ge===null){me===null&&(me=Le);break}t&&me&&Ge.alternate===null&&i(z,me),V=d(Ge,V,Ne),Fe===null?Ee=Ge:Fe.sibling=Ge,Fe=Ge,me=Le}if(Ne===G.length)return a(z,me),Be&&$i(z,Ne),Ee;if(me===null){for(;Ne<G.length;Ne++)me=te(z,G[Ne],J),me!==null&&(V=d(me,V,Ne),Fe===null?Ee=me:Fe.sibling=me,Fe=me);return Be&&$i(z,Ne),Ee}for(me=l(me);Ne<G.length;Ne++)Le=X(me,z,Ne,G[Ne],J),Le!==null&&(t&&Le.alternate!==null&&me.delete(Le.key===null?Ne:Le.key),V=d(Le,V,Ne),Fe===null?Ee=Le:Fe.sibling=Le,Fe=Le);return t&&me.forEach(function(Jr){return i(z,Jr)}),Be&&$i(z,Ne),Ee}function Se(z,V,G,J){if(G==null)throw Error(s(151));for(var Ee=null,Fe=null,me=V,Ne=V=0,Le=null,Ge=G.next();me!==null&&!Ge.done;Ne++,Ge=G.next()){me.index>Ne?(Le=me,me=null):Le=me.sibling;var Jr=Y(z,me,Ge.value,J);if(Jr===null){me===null&&(me=Le);break}t&&me&&Jr.alternate===null&&i(z,me),V=d(Jr,V,Ne),Fe===null?Ee=Jr:Fe.sibling=Jr,Fe=Jr,me=Le}if(Ge.done)return a(z,me),Be&&$i(z,Ne),Ee;if(me===null){for(;!Ge.done;Ne++,Ge=G.next())Ge=te(z,Ge.value,J),Ge!==null&&(V=d(Ge,V,Ne),Fe===null?Ee=Ge:Fe.sibling=Ge,Fe=Ge);return Be&&$i(z,Ne),Ee}for(me=l(me);!Ge.done;Ne++,Ge=G.next())Ge=X(me,z,Ne,Ge.value,J),Ge!==null&&(t&&Ge.alternate!==null&&me.delete(Ge.key===null?Ne:Ge.key),V=d(Ge,V,Ne),Fe===null?Ee=Ge:Fe.sibling=Ge,Fe=Ge);return t&&me.forEach(function(p1){return i(z,p1)}),Be&&$i(z,Ne),Ee}function tt(z,V,G,J){if(typeof G=="object"&&G!==null&&G.type===H&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case I:e:{for(var Ee=G.key;V!==null;){if(V.key===Ee){if(Ee=G.type,Ee===H){if(V.tag===7){a(z,V.sibling),J=f(V,G.props.children),J.return=z,z=J;break e}}else if(V.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===R&&Ks(Ee)===V.type){a(z,V.sibling),J=f(V,G.props),il(J,G),J.return=z,z=J;break e}a(z,V);break}else i(z,V);V=V.sibling}G.type===H?(J=Bs(G.props.children,z.mode,J,G.key),J.return=z,z=J):(J=tc(G.type,G.key,G.props,null,z.mode,J),il(J,G),J.return=z,z=J)}return _(z);case F:e:{for(Ee=G.key;V!==null;){if(V.key===Ee)if(V.tag===4&&V.stateNode.containerInfo===G.containerInfo&&V.stateNode.implementation===G.implementation){a(z,V.sibling),J=f(V,G.children||[]),J.return=z,z=J;break e}else{a(z,V);break}else i(z,V);V=V.sibling}J=If(G,z.mode,J),J.return=z,z=J}return _(z);case R:return G=Ks(G),tt(z,V,G,J)}if(gt(G))return fe(z,V,G,J);if(j(G)){if(Ee=j(G),typeof Ee!="function")throw Error(s(150));return G=Ee.call(G),Se(z,V,G,J)}if(typeof G.then=="function")return tt(z,V,lc(G),J);if(G.$$typeof===Z)return tt(z,V,rc(z,G),J);uc(z,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,V!==null&&V.tag===6?(a(z,V.sibling),J=f(V,G),J.return=z,z=J):(a(z,V),J=Cf(G,z.mode,J),J.return=z,z=J),_(z)):a(z,V)}return function(z,V,G,J){try{nl=0;var Ee=tt(z,V,G,J);return ja=null,Ee}catch(me){if(me===za||me===ac)throw me;var Fe=wn(29,me,null,z.mode);return Fe.lanes=J,Fe.return=z,Fe}}}var Qs=Qg(!0),Xg=Qg(!1),Vr=!1;function jf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ur(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Lr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=ec(t),Og(t,null,a),i}return Zu(t,l,i,a),ec(t)}function rl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,No(t,a)}}function Hf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var qf=!1;function sl(){if(qf){var t=Pa;if(t!==null)throw t}}function al(t,i,a,l){qf=!1;var f=t.updateQueue;Vr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var N=S,K=N.next;N.next=null,_===null?d=K:_.next=K,_=N;var W=t.alternate;W!==null&&(W=W.updateQueue,S=W.lastBaseUpdate,S!==_&&(S===null?W.firstBaseUpdate=K:S.next=K,W.lastBaseUpdate=N))}if(d!==null){var te=f.baseState;_=0,W=K=N=null,S=d;do{var Y=S.lane&-536870913,X=Y!==S.lane;if(X?(Ue&Y)===Y:(l&Y)===Y){Y!==0&&Y===La&&(qf=!0),W!==null&&(W=W.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var fe=t,Se=S;Y=i;var tt=a;switch(Se.tag){case 1:if(fe=Se.payload,typeof fe=="function"){te=fe.call(tt,te,Y);break e}te=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=Se.payload,Y=typeof fe=="function"?fe.call(tt,te,Y):fe,Y==null)break e;te=T({},te,Y);break e;case 2:Vr=!0}}Y=S.callback,Y!==null&&(t.flags|=64,X&&(t.flags|=8192),X=f.callbacks,X===null?f.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},W===null?(K=W=X,N=te):W=W.next=X,_|=Y;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;X=S,S=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);W===null&&(N=te),f.baseState=N,f.firstBaseUpdate=K,f.lastBaseUpdate=W,d===null&&(f.shared.lanes=0),Hr|=_,t.lanes=_,t.memoizedState=te}}function $g(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Wg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)$g(a[t],i)}var Ba=U(null),cc=U(0);function Jg(t,i){t=or,le(cc,t),le(Ba,i),or=t|i.baseLanes}function Ff(){le(cc,or),le(Ba,Ba.current)}function Gf(){or=cc.current,ee(Ba),ee(cc)}var Rn=U(null),qn=null;function Pr(t){var i=t.alternate;le(vt,vt.current&1),le(Rn,t),qn===null&&(i===null||Ba.current!==null||i.memoizedState!==null)&&(qn=t)}function Kf(t){le(vt,vt.current),le(Rn,t),qn===null&&(qn=t)}function Zg(t){t.tag===22?(le(vt,vt.current),le(Rn,t),qn===null&&(qn=t)):zr()}function zr(){le(vt,vt.current),le(Rn,Rn.current)}function Cn(t){ee(Rn),qn===t&&(qn=null),ee(vt)}var vt=U(0);function hc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Jd(a)||Zd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Zi=0,xe=null,Ze=null,xt=null,fc=!1,Ha=!1,Xs=!1,dc=0,ol=0,qa=null,sA=0;function ft(){throw Error(s(321))}function Yf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!An(t[a],i[a]))return!1;return!0}function Qf(t,i,a,l,f,d){return Zi=d,xe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=t===null||t.memoizedState===null?Uy:ud,Xs=!1,d=a(l,f),Xs=!1,Ha&&(d=ty(i,a,l,f)),ey(t),d}function ey(t){$.H=cl;var i=Ze!==null&&Ze.next!==null;if(Zi=0,xt=Ze=xe=null,fc=!1,ol=0,qa=null,i)throw Error(s(300));t===null||Nt||(t=t.dependencies,t!==null&&ic(t)&&(Nt=!0))}function ty(t,i,a,l){xe=t;var f=0;do{if(Ha&&(qa=null),ol=0,Ha=!1,25<=f)throw Error(s(301));if(f+=1,xt=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=Ly,d=i(a,l)}while(Ha);return d}function aA(){var t=$.H,i=t.useState()[0];return i=typeof i.then=="function"?ll(i):i,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(xe.flags|=1024),i}function Xf(){var t=dc!==0;return dc=0,t}function $f(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Wf(t){if(fc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}fc=!1}Zi=0,xt=Ze=xe=null,Ha=!1,ol=dc=0,qa=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?xe.memoizedState=xt=t:xt=xt.next=t,xt}function Et(){if(Ze===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var i=xt===null?xe.memoizedState:xt.next;if(i!==null)xt=i,Ze=t;else{if(t===null)throw xe.alternate===null?Error(s(467)):Error(s(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},xt===null?xe.memoizedState=xt=t:xt=xt.next=t}return xt}function mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(t){var i=ol;return ol+=1,qa===null&&(qa=[]),t=Gg(qa,t,i),i=xe,(xt===null?i.memoizedState:xt.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?Uy:ud),t}function pc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ll(t);if(t.$$typeof===Z)return Qt(t)}throw Error(s(438,String(t)))}function Jf(t){var i=null,a=xe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=mc(),xe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=O;return i.index++,a}function er(t,i){return typeof i=="function"?i(t):i}function gc(t){var i=Et();return Zf(i,Ze,t)}function Zf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var S=_=null,N=null,K=i,W=!1;do{var te=K.lane&-536870913;if(te!==K.lane?(Ue&te)===te:(Zi&te)===te){var Y=K.revertLane;if(Y===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),te===La&&(W=!0);else if((Zi&Y)===Y){K=K.next,Y===La&&(W=!0);continue}else te={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},N===null?(S=N=te,_=d):N=N.next=te,xe.lanes|=Y,Hr|=Y;te=K.action,Xs&&a(d,te),d=K.hasEagerState?K.eagerState:a(d,te)}else Y={lane:te,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},N===null?(S=N=Y,_=d):N=N.next=Y,xe.lanes|=te,Hr|=te;K=K.next}while(K!==null&&K!==i);if(N===null?_=d:N.next=S,!An(d,t.memoizedState)&&(Nt=!0,W&&(a=Pa,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ed(t){var i=Et(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);An(d,i.memoizedState)||(Nt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function ny(t,i,a){var l=xe,f=Et(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!An((Ze||f).memoizedState,a);if(_&&(f.memoizedState=a,Nt=!0),f=f.queue,id(sy.bind(null,l,f,t),[t]),f.getSnapshot!==i||_||xt!==null&&xt.memoizedState.tag&1){if(l.flags|=2048,Fa(9,{destroy:void 0},ry.bind(null,l,f,a,i),null),nt===null)throw Error(s(349));d||(Zi&127)!==0||iy(l,i,a)}return a}function iy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=xe.updateQueue,i===null?(i=mc(),xe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function ry(t,i,a,l){i.value=a,i.getSnapshot=l,ay(i)&&oy(t)}function sy(t,i,a){return a(function(){ay(i)&&oy(t)})}function ay(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!An(t,a)}catch{return!0}}function oy(t){var i=js(t,2);i!==null&&yn(i,t,2)}function td(t){var i=un();if(typeof t=="function"){var a=t;if(t=a(),Xs){Mn(!0);try{a()}finally{Mn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:t},i}function ly(t,i,a,l){return t.baseState=a,Zf(t,Ze,typeof l=="function"?l:er)}function oA(t,i,a,l,f){if(vc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,uy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function uy(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=$.T,_={};$.T=_;try{var S=a(f,l),N=$.S;N!==null&&N(_,S),cy(t,i,S)}catch(K){nd(t,i,K)}finally{d!==null&&_.types!==null&&(d.types=_.types),$.T=d}}else try{d=a(f,l),cy(t,i,d)}catch(K){nd(t,i,K)}}function cy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){hy(t,i,l)},function(l){return nd(t,i,l)}):hy(t,i,a)}function hy(t,i,a){i.status="fulfilled",i.value=a,fy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,uy(t,a)))}function nd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,fy(i),i=i.next;while(i!==l)}t.action=null}function fy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function dy(t,i){return i}function my(t,i){if(Be){var a=nt.formState;if(a!==null){e:{var l=xe;if(Be){if(rt){t:{for(var f=rt,d=Hn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Fn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){rt=Fn(f.nextSibling),l=f.data==="F!";break e}}Mr(l)}l=!1}l&&(i=a[0])}}return a=un(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dy,lastRenderedState:i},a.queue=l,a=My.bind(null,xe,l),l.dispatch=a,l=td(!1),d=ld.bind(null,xe,!1,l.queue),l=un(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=oA.bind(null,xe,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function py(t){var i=Et();return gy(i,Ze,t)}function gy(t,i,a){if(i=Zf(t,i,dy)[0],t=gc(er)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ll(i)}catch(_){throw _===za?ac:_}else l=i;i=Et();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(xe.flags|=2048,Fa(9,{destroy:void 0},lA.bind(null,f,a),null)),[l,d,t]}function lA(t,i){t.action=i}function yy(t){var i=Et(),a=Ze;if(a!==null)return gy(i,a,t);Et(),i=i.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Fa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=xe.updateQueue,i===null&&(i=mc(),xe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function _y(){return Et().memoizedState}function yc(t,i,a,l){var f=un();xe.flags|=t,f.memoizedState=Fa(1|i,{destroy:void 0},a,l===void 0?null:l)}function _c(t,i,a,l){var f=Et();l=l===void 0?null:l;var d=f.memoizedState.inst;Ze!==null&&l!==null&&Yf(l,Ze.memoizedState.deps)?f.memoizedState=Fa(i,d,a,l):(xe.flags|=t,f.memoizedState=Fa(1|i,d,a,l))}function vy(t,i){yc(8390656,8,t,i)}function id(t,i){_c(2048,8,t,i)}function uA(t){xe.flags|=4;var i=xe.updateQueue;if(i===null)i=mc(),xe.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Ey(t){var i=Et().memoizedState;return uA({ref:i,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Ty(t,i){return _c(4,2,t,i)}function Sy(t,i){return _c(4,4,t,i)}function by(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Ay(t,i,a){a=a!=null?a.concat([t]):null,_c(4,4,by.bind(null,i,t),a)}function rd(){}function wy(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Yf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Ry(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Yf(i,l[1]))return l[0];if(l=t(),Xs){Mn(!0);try{t()}finally{Mn(!1)}}return a.memoizedState=[l,i],l}function sd(t,i,a){return a===void 0||(Zi&1073741824)!==0&&(Ue&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=C_(),xe.lanes|=t,Hr|=t,a)}function Cy(t,i,a,l){return An(a,i)?a:Ba.current!==null?(t=sd(t,a,l),An(t,i)||(Nt=!0),t):(Zi&42)===0||(Zi&1073741824)!==0&&(Ue&261930)===0?(Nt=!0,t.memoizedState=a):(t=C_(),xe.lanes|=t,Hr|=t,i)}function Iy(t,i,a,l,f){var d=oe.p;oe.p=d!==0&&8>d?d:8;var _=$.T,S={};$.T=S,ld(t,!1,i,a);try{var N=f(),K=$.S;if(K!==null&&K(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var W=rA(N,l);ul(t,i,W,xn(t))}else ul(t,i,l,xn(t))}catch(te){ul(t,i,{then:function(){},status:"rejected",reason:te},xn())}finally{oe.p=d,_!==null&&S.types!==null&&(_.types=S.types),$.T=_}}function cA(){}function ad(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=Dy(t).queue;Iy(t,f,i,ve,a===null?cA:function(){return xy(t),a(l)})}function Dy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:ve},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function xy(t){var i=Dy(t);i.next===null&&(i=t.alternate.memoizedState),ul(t,i.next.queue,{},xn())}function od(){return Qt(Rl)}function Ny(){return Et().memoizedState}function Oy(){return Et().memoizedState}function hA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=xn();t=Ur(a);var l=Lr(i,t,a);l!==null&&(yn(l,i,a),rl(l,i,a)),i={cache:Uf()},t.payload=i;return}i=i.return}}function fA(t,i,a){var l=xn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},vc(t)?ky(i,a):(a=wf(t,i,a,l),a!==null&&(yn(a,t,l),Vy(a,i,l)))}function My(t,i,a){var l=xn();ul(t,i,a,l)}function ul(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(vc(t))ky(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(f.hasEagerState=!0,f.eagerState=S,An(S,_))return Zu(t,i,f,0),nt===null&&Ju(),!1}catch{}if(a=wf(t,i,f,l),a!==null)return yn(a,t,l),Vy(a,i,l),!0}return!1}function ld(t,i,a,l){if(l={lane:2,revertLane:jd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},vc(t)){if(i)throw Error(s(479))}else i=wf(t,a,l,2),i!==null&&yn(i,t,2)}function vc(t){var i=t.alternate;return t===xe||i!==null&&i===xe}function ky(t,i){Ha=fc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Vy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,No(t,a)}}var cl={readContext:Qt,use:pc,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};cl.useEffectEvent=ft;var Uy={readContext:Qt,use:pc,useCallback:function(t,i){return un().memoizedState=[t,i===void 0?null:i],t},useContext:Qt,useEffect:vy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,yc(4194308,4,by.bind(null,i,t),a)},useLayoutEffect:function(t,i){return yc(4194308,4,t,i)},useInsertionEffect:function(t,i){yc(4,2,t,i)},useMemo:function(t,i){var a=un();i=i===void 0?null:i;var l=t();if(Xs){Mn(!0);try{t()}finally{Mn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=un();if(a!==void 0){var f=a(i);if(Xs){Mn(!0);try{a(i)}finally{Mn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=fA.bind(null,xe,t),[l.memoizedState,t]},useRef:function(t){var i=un();return t={current:t},i.memoizedState=t},useState:function(t){t=td(t);var i=t.queue,a=My.bind(null,xe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:rd,useDeferredValue:function(t,i){var a=un();return sd(a,t,i)},useTransition:function(){var t=td(!1);return t=Iy.bind(null,xe,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=xe,f=un();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),nt===null)throw Error(s(349));(Ue&127)!==0||iy(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,vy(sy.bind(null,l,d,t),[t]),l.flags|=2048,Fa(9,{destroy:void 0},ry.bind(null,l,d,a,i),null),a},useId:function(){var t=un(),i=nt.identifierPrefix;if(Be){var a=Di,l=Ii;a=(l&~(1<<32-yt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=dc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=sA++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:od,useFormState:my,useActionState:my,useOptimistic:function(t){var i=un();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ld.bind(null,xe,!0,a),a.dispatch=i,[t,i]},useMemoCache:Jf,useCacheRefresh:function(){return un().memoizedState=hA.bind(null,xe)},useEffectEvent:function(t){var i=un(),a={impl:t};return i.memoizedState=a,function(){if((Ye&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},ud={readContext:Qt,use:pc,useCallback:wy,useContext:Qt,useEffect:id,useImperativeHandle:Ay,useInsertionEffect:Ty,useLayoutEffect:Sy,useMemo:Ry,useReducer:gc,useRef:_y,useState:function(){return gc(er)},useDebugValue:rd,useDeferredValue:function(t,i){var a=Et();return Cy(a,Ze.memoizedState,t,i)},useTransition:function(){var t=gc(er)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:ll(t),i]},useSyncExternalStore:ny,useId:Ny,useHostTransitionStatus:od,useFormState:py,useActionState:py,useOptimistic:function(t,i){var a=Et();return ly(a,Ze,t,i)},useMemoCache:Jf,useCacheRefresh:Oy};ud.useEffectEvent=Ey;var Ly={readContext:Qt,use:pc,useCallback:wy,useContext:Qt,useEffect:id,useImperativeHandle:Ay,useInsertionEffect:Ty,useLayoutEffect:Sy,useMemo:Ry,useReducer:ed,useRef:_y,useState:function(){return ed(er)},useDebugValue:rd,useDeferredValue:function(t,i){var a=Et();return Ze===null?sd(a,t,i):Cy(a,Ze.memoizedState,t,i)},useTransition:function(){var t=ed(er)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:ll(t),i]},useSyncExternalStore:ny,useId:Ny,useHostTransitionStatus:od,useFormState:yy,useActionState:yy,useOptimistic:function(t,i){var a=Et();return Ze!==null?ly(a,Ze,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Jf,useCacheRefresh:Oy};Ly.useEffectEvent=Ey;function cd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var hd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=xn(),f=Ur(l);f.payload=i,a!=null&&(f.callback=a),i=Lr(t,f,l),i!==null&&(yn(i,t,l),rl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=xn(),f=Ur(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Lr(t,f,l),i!==null&&(yn(i,t,l),rl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=xn(),l=Ur(a);l.tag=2,i!=null&&(l.callback=i),i=Lr(t,l,a),i!==null&&(yn(i,t,a),rl(i,t,a))}};function Py(t,i,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!$o(a,l)||!$o(f,d):!0}function zy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&hd.enqueueReplaceState(i,i.state,null)}function $s(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function jy(t){Wu(t)}function By(t){console.error(t)}function Hy(t){Wu(t)}function Ec(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function qy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function fd(t,i,a){return a=Ur(a),a.tag=3,a.payload={element:null},a.callback=function(){Ec(t,i)},a}function Fy(t){return t=Ur(t),t.tag=3,t}function Gy(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){qy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){qy(i,a,l),typeof f!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function dA(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ua(i,a,f,!0),a=Rn.current,a!==null){switch(a.tag){case 31:case 13:return qn===null?Oc():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===oc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Ld(t,l,f)),!1;case 22:return a.flags|=65536,l===oc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Ld(t,l,f)),!1}throw Error(s(435,a.tag))}return Ld(t,l,f),Oc(),!1}if(Be)return i=Rn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Nf&&(t=Error(s(422),{cause:l}),Zo(zn(t,a)))):(l!==Nf&&(i=Error(s(423),{cause:l}),Zo(zn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=zn(l,a),f=fd(t.stateNode,l,f),Hf(t,f),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:l});if(d=zn(d,a),_l===null?_l=[d]:_l.push(d),dt!==4&&(dt=2),i===null)return!0;l=zn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=fd(a.stateNode,l,t),Hf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(qr===null||!qr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Fy(f),Gy(f,t,a,l),Hf(a,f),!1}a=a.return}while(a!==null);return!1}var dd=Error(s(461)),Nt=!1;function Xt(t,i,a,l){i.child=t===null?Xg(i,null,a,l):Qs(i,t.child,a,l)}function Ky(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Fs(i),l=Qf(t,i,a,_,d,f),S=Xf(),t!==null&&!Nt?($f(t,i,f),tr(t,i,f)):(Be&&S&&Df(i),i.flags|=1,Xt(t,i,l,f),i.child)}function Yy(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Rf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Qy(t,i,d,l,f)):(t=tc(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Td(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:$o,a(_,l)&&t.ref===i.ref)return tr(t,i,f)}return i.flags|=1,t=Xi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Qy(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if($o(d,l)&&t.ref===i.ref)if(Nt=!1,i.pendingProps=l=d,Td(t,f))(t.flags&131072)!==0&&(Nt=!0);else return i.lanes=t.lanes,tr(t,i,f)}return md(t,i,a,l,f)}function Xy(t,i,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return $y(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&sc(i,d!==null?d.cachePool:null),d!==null?Jg(i,d):Ff(),Zg(i);else return l=i.lanes=536870912,$y(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(sc(i,d.cachePool),Jg(i,d),zr(),i.memoizedState=null):(t!==null&&sc(i,null),Ff(),zr());return Xt(t,i,f,a),i.child}function hl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function $y(t,i,a,l,f){var d=Pf();return d=d===null?null:{parent:Dt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&sc(i,null),Ff(),Zg(i),t!==null&&Ua(t,i,l,!0),i.childLanes=f,null}function Tc(t,i){return i=bc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Wy(t,i,a){return Qs(i,t.child,null,a),t=Tc(i,i.pendingProps),t.flags|=2,Cn(i),i.memoizedState=null,t}function mA(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Be){if(l.mode==="hidden")return t=Tc(i,l),i.lanes=536870912,hl(null,t);if(Kf(i),(t=rt)?(t=uv(t,Hn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Nr!==null?{id:Ii,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=kg(t),a.return=i,i.child=a,Yt=i,rt=null)):t=null,t===null)throw Mr(i);return i.lanes=536870912,null}return Tc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Kf(i),f)if(i.flags&256)i.flags&=-257,i=Wy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Nt||Ua(t,i,a,!1),f=(a&t.childLanes)!==0,Nt||f){if(l=nt,l!==null&&(_=Oo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,js(t,_),yn(l,t,_),dd;Oc(),i=Wy(t,i,a)}else t=d.treeContext,rt=Fn(_.nextSibling),Yt=i,Be=!0,Or=null,Hn=!1,t!==null&&Lg(i,t),i=Tc(i,l),i.flags|=4096;return i}return t=Xi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Sc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function md(t,i,a,l,f){return Fs(i),a=Qf(t,i,a,l,void 0,f),l=Xf(),t!==null&&!Nt?($f(t,i,f),tr(t,i,f)):(Be&&l&&Df(i),i.flags|=1,Xt(t,i,a,f),i.child)}function Jy(t,i,a,l,f,d){return Fs(i),i.updateQueue=null,a=ty(i,l,a,f),ey(t),l=Xf(),t!==null&&!Nt?($f(t,i,d),tr(t,i,d)):(Be&&l&&Df(i),i.flags|=1,Xt(t,i,a,d),i.child)}function Zy(t,i,a,l,f){if(Fs(i),i.stateNode===null){var d=Oa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Qt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=hd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},jf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Qt(_):Oa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(cd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&hd.enqueueReplaceState(d,d.state,null),al(i,l,d,f),sl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,N=$s(a,S);d.props=N;var K=d.context,W=a.contextType;_=Oa,typeof W=="object"&&W!==null&&(_=Qt(W));var te=a.getDerivedStateFromProps;W=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||K!==_)&&zy(i,d,l,_),Vr=!1;var Y=i.memoizedState;d.state=Y,al(i,l,d,f),sl(),K=i.memoizedState,S||Y!==K||Vr?(typeof te=="function"&&(cd(i,a,te,l),K=i.memoizedState),(N=Vr||Py(i,a,N,l,Y,K,_))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Bf(t,i),_=i.memoizedProps,W=$s(a,_),d.props=W,te=i.pendingProps,Y=d.context,K=a.contextType,N=Oa,typeof K=="object"&&K!==null&&(N=Qt(K)),S=a.getDerivedStateFromProps,(K=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==te||Y!==N)&&zy(i,d,l,N),Vr=!1,Y=i.memoizedState,d.state=Y,al(i,l,d,f),sl();var X=i.memoizedState;_!==te||Y!==X||Vr||t!==null&&t.dependencies!==null&&ic(t.dependencies)?(typeof S=="function"&&(cd(i,a,S,l),X=i.memoizedState),(W=Vr||Py(i,a,W,l,Y,X,N)||t!==null&&t.dependencies!==null&&ic(t.dependencies))?(K||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=X),d.props=l,d.state=X,d.context=N,l=W):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Sc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Qs(i,t.child,null,f),i.child=Qs(i,null,a,f)):Xt(t,i,a,f),i.memoizedState=d.state,t=i.child):t=tr(t,i,f),t}function e_(t,i,a,l){return Hs(),i.flags|=256,Xt(t,i,a,l),i.child}var pd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gd(t){return{baseLanes:t,cachePool:qg()}}function yd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Dn),t}function t_(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(vt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(f?Pr(i):zr(),(t=rt)?(t=uv(t,Hn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Nr!==null?{id:Ii,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=kg(t),a.return=i,i.child=a,Yt=i,rt=null)):t=null,t===null)throw Mr(i);return Zd(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(zr(),f=i.mode,S=bc({mode:"hidden",children:S},f),l=Bs(l,f,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=gd(a),l.childLanes=yd(t,_,a),i.memoizedState=pd,hl(null,l)):(Pr(i),_d(i,S))}var N=t.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(d)i.flags&256?(Pr(i),i.flags&=-257,i=vd(t,i,a)):i.memoizedState!==null?(zr(),i.child=t.child,i.flags|=128,i=null):(zr(),S=l.fallback,f=i.mode,l=bc({mode:"visible",children:l.children},f),S=Bs(S,f,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Qs(i,t.child,null,a),l=i.child,l.memoizedState=gd(a),l.childLanes=yd(t,_,a),i.memoizedState=pd,i=hl(null,l));else if(Pr(i),Zd(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var K=_.dgst;_=K,l=Error(s(419)),l.stack="",l.digest=_,Zo({value:l,source:null,stack:null}),i=vd(t,i,a)}else if(Nt||Ua(t,i,a,!1),_=(a&t.childLanes)!==0,Nt||_){if(_=nt,_!==null&&(l=Oo(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,js(t,l),yn(_,t,l),dd;Jd(S)||Oc(),i=vd(t,i,a)}else Jd(S)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,rt=Fn(S.nextSibling),Yt=i,Be=!0,Or=null,Hn=!1,t!==null&&Lg(i,t),i=_d(i,l.children),i.flags|=4096);return i}return f?(zr(),S=l.fallback,f=i.mode,N=t.child,K=N.sibling,l=Xi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,K!==null?S=Xi(K,S):(S=Bs(S,f,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,hl(null,l),l=i.child,S=t.child.memoizedState,S===null?S=gd(a):(f=S.cachePool,f!==null?(N=Dt._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=qg(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=yd(t,_,a),i.memoizedState=pd,hl(t.child,l)):(Pr(i),a=t.child,t=a.sibling,a=Xi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function _d(t,i){return i=bc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function bc(t,i){return t=wn(22,t,null,i),t.lanes=0,t}function vd(t,i,a){return Qs(i,t.child,null,a),t=_d(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function n_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),kf(t.return,i,a)}function Ed(t,i,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function i_(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=vt.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,le(vt,_),Xt(t,i,l,a),l=Be?Jo:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&n_(t,a,i);else if(t.tag===19)n_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&hc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Ed(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&hc(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Ed(i,!0,a,null,d,l);break;case"together":Ed(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function tr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Hr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ua(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Xi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Xi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Td(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ic(t)))}function pA(t,i,a){switch(i.tag){case 3:ue(i,i.stateNode.containerInfo),kr(i,Dt,t.memoizedState.cache),Hs();break;case 27:case 5:Ve(i);break;case 4:ue(i,i.stateNode.containerInfo);break;case 10:kr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Kf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Pr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?t_(t,i,a):(Pr(i),t=tr(t,i,a),t!==null?t.sibling:null);Pr(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ua(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return i_(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(vt,vt.current),l)break;return null;case 22:return i.lanes=0,Xy(t,i,a,i.pendingProps);case 24:kr(i,Dt,t.memoizedState.cache)}return tr(t,i,a)}function r_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Nt=!0;else{if(!Td(t,a)&&(i.flags&128)===0)return Nt=!1,pA(t,i,a);Nt=(t.flags&131072)!==0}else Nt=!1,Be&&(i.flags&1048576)!==0&&Ug(i,Jo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Ks(i.elementType),i.type=t,typeof t=="function")Rf(t)?(l=$s(t,l),i.tag=1,i=Zy(null,i,t,l,a)):(i.tag=0,i=md(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===se){i.tag=11,i=Ky(null,i,t,l,a);break e}else if(f===C){i.tag=14,i=Yy(null,i,t,l,a);break e}}throw i=it(t)||t,Error(s(306,i,""))}}return i;case 0:return md(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=$s(l,i.pendingProps),Zy(t,i,l,f,a);case 3:e:{if(ue(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,Bf(t,i),al(i,l,null,a);var _=i.memoizedState;if(l=_.cache,kr(i,Dt,l),l!==d.cache&&Vf(i,[Dt],a,!0),sl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=e_(t,i,l,a);break e}else if(l!==f){f=zn(Error(s(424)),i),Zo(f),i=e_(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,rt=Fn(t.firstChild),Yt=i,Be=!0,Or=null,Hn=!0,a=Xg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Hs(),l===f){i=tr(t,i,a);break e}Xt(t,i,l,a)}i=i.child}return i;case 26:return Sc(t,i),t===null?(a=pv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,t=i.pendingProps,l=zc(Re.current).createElement(a),l[Rt]=i,l[jt]=t,$t(l,a,t),Ct(l),i.stateNode=l):i.memoizedState=pv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ve(i),t===null&&Be&&(l=i.stateNode=fv(i.type,i.pendingProps,Re.current),Yt=i,Hn=!0,f=rt,Yr(i.type)?(em=f,rt=Fn(l.firstChild)):rt=f),Xt(t,i,i.pendingProps.children,a),Sc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Be&&((f=l=rt)&&(l=GA(l,i.type,i.pendingProps,Hn),l!==null?(i.stateNode=l,Yt=i,rt=Fn(l.firstChild),Hn=!1,f=!0):f=!1),f||Mr(i)),Ve(i),f=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Xd(f,d)?l=null:_!==null&&Xd(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=Qf(t,i,aA,null,null,a),Rl._currentValue=f),Sc(t,i),Xt(t,i,l,a),i.child;case 6:return t===null&&Be&&((t=a=rt)&&(a=KA(a,i.pendingProps,Hn),a!==null?(i.stateNode=a,Yt=i,rt=null,t=!0):t=!1),t||Mr(i)),null;case 13:return t_(t,i,a);case 4:return ue(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Qs(i,null,l,a):Xt(t,i,l,a),i.child;case 11:return Ky(t,i,i.type,i.pendingProps,a);case 7:return Xt(t,i,i.pendingProps,a),i.child;case 8:return Xt(t,i,i.pendingProps.children,a),i.child;case 12:return Xt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,kr(i,i.type,l.value),Xt(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Fs(i),f=Qt(f),l=l(f),i.flags|=1,Xt(t,i,l,a),i.child;case 14:return Yy(t,i,i.type,i.pendingProps,a);case 15:return Qy(t,i,i.type,i.pendingProps,a);case 19:return i_(t,i,a);case 31:return mA(t,i,a);case 22:return Xy(t,i,a,i.pendingProps);case 24:return Fs(i),l=Qt(Dt),t===null?(f=Pf(),f===null&&(f=nt,d=Uf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},jf(i),kr(i,Dt,f)):((t.lanes&a)!==0&&(Bf(t,i),al(i,null,null,a),sl()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),kr(i,Dt,l)):(l=d.cache,kr(i,Dt,l),l!==f.cache&&Vf(i,[Dt],a,!0))),Xt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function nr(t){t.flags|=4}function Sd(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(N_())t.flags|=8192;else throw Ys=oc,zf}else t.flags&=-16777217}function s_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ev(i))if(N_())t.flags|=8192;else throw Ys=oc,zf}function Ac(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?xu():536870912,t.lanes|=i,Qa|=i)}function fl(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function gA(t,i,a){var l=i.pendingProps;switch(xf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(i),null;case 1:return st(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ji(Dt),_e(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Va(i)?nr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Of())),st(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(nr(i),d!==null?(st(i),s_(i,d)):(st(i),Sd(i,f,null,l,a))):d?d!==t.memoizedState?(nr(i),st(i),s_(i,d)):(st(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&nr(i),st(i),Sd(i,f,t,l,a)),null;case 27:if(bt(i),a=Re.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&nr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}t=ce.current,Va(i)?Pg(i):(t=fv(f,l,a),i.stateNode=t,nr(i))}return st(i),null;case 5:if(bt(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&nr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}if(d=ce.current,Va(i))Pg(i);else{var _=zc(Re.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[Rt]=i,d[jt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch($t(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&nr(i)}}return st(i),Sd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&nr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Re.current,Va(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=Yt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Rt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||tv(t.nodeValue,a)),t||Mr(i,!0)}else t=zc(t).createTextNode(l),t[Rt]=i,i.stateNode=t}return st(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Va(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Rt]=i}else Hs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),t=!1}else a=Of(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Cn(i),i):(Cn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return st(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Va(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Rt]=i}else Hs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),f=!1}else f=Of(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Cn(i),i):(Cn(i),null)}return Cn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Ac(i,i.updateQueue),st(i),null);case 4:return _e(),t===null&&Fd(i.stateNode.containerInfo),st(i),null;case 10:return Ji(i.type),st(i),null;case 19:if(ee(vt),l=i.memoizedState,l===null)return st(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)fl(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=hc(t),d!==null){for(i.flags|=128,fl(l,!1),t=d.updateQueue,i.updateQueue=t,Ac(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Mg(a,t),a=a.sibling;return le(vt,vt.current&1|2),Be&&$i(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&on()>Dc&&(i.flags|=128,f=!0,fl(l,!1),i.lanes=4194304)}else{if(!f)if(t=hc(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Ac(i,t),fl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Be)return st(i),null}else 2*on()-l.renderingStartTime>Dc&&a!==536870912&&(i.flags|=128,f=!0,fl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=on(),t.sibling=null,a=vt.current,le(vt,f?a&1|2:a&1),Be&&$i(i,l.treeForkCount),t):(st(i),null);case 22:case 23:return Cn(i),Gf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(st(i),i.subtreeFlags&6&&(i.flags|=8192)):st(i),a=i.updateQueue,a!==null&&Ac(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ee(Gs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ji(Dt),st(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function yA(t,i){switch(xf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ji(Dt),_e(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return bt(i),null;case 31:if(i.memoizedState!==null){if(Cn(i),i.alternate===null)throw Error(s(340));Hs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Cn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Hs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ee(vt),null;case 4:return _e(),null;case 10:return Ji(i.type),null;case 22:case 23:return Cn(i),Gf(),t!==null&&ee(Gs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ji(Dt),null;case 25:return null;default:return null}}function a_(t,i){switch(xf(i),i.tag){case 3:Ji(Dt),_e();break;case 26:case 27:case 5:bt(i);break;case 4:_e();break;case 31:i.memoizedState!==null&&Cn(i);break;case 13:Cn(i);break;case 19:ee(vt);break;case 10:Ji(i.type);break;case 22:case 23:Cn(i),Gf(),t!==null&&ee(Gs);break;case 24:Ji(Dt)}}function dl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(S){We(i,i.return,S)}}function jr(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=i;var N=a,K=S;try{K()}catch(W){We(f,N,W)}}}l=l.next}while(l!==d)}}catch(W){We(i,i.return,W)}}function o_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Wg(i,a)}catch(l){We(t,t.return,l)}}}function l_(t,i,a){a.props=$s(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,i,l)}}function ml(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){We(t,i,f)}}function xi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){We(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){We(t,i,f)}else a.current=null}function u_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){We(t,t.return,f)}}function bd(t,i,a){try{var l=t.stateNode;zA(l,t.type,a,i),l[jt]=i}catch(f){We(t,t.return,f)}}function c_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Yr(t.type)||t.tag===4}function Ad(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||c_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Yr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Zn));else if(l!==4&&(l===27&&Yr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(wd(t,i,a),t=t.sibling;t!==null;)wd(t,i,a),t=t.sibling}function wc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Yr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(wc(t,i,a),t=t.sibling;t!==null;)wc(t,i,a),t=t.sibling}function h_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);$t(i,l,a),i[Rt]=t,i[jt]=a}catch(d){We(t,t.return,d)}}var ir=!1,Ot=!1,Rd=!1,f_=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function _A(t,i){if(t=t.containerInfo,Yd=Kc,t=Ag(t),vf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,N=-1,K=0,W=0,te=t,Y=null;t:for(;;){for(var X;te!==a||f!==0&&te.nodeType!==3||(S=_+f),te!==d||l!==0&&te.nodeType!==3||(N=_+l),te.nodeType===3&&(_+=te.nodeValue.length),(X=te.firstChild)!==null;)Y=te,te=X;for(;;){if(te===t)break t;if(Y===a&&++K===f&&(S=_),Y===d&&++W===l&&(N=_),(X=te.nextSibling)!==null)break;te=Y,Y=te.parentNode}te=X}a=S===-1||N===-1?null:{start:S,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qd={focusedElem:t,selectionRange:a},Kc=!1,Ht=i;Ht!==null;)if(i=Ht,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ht=t;else for(;Ht!==null;){switch(i=Ht,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=$s(a.type,f);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Se){We(a,a.return,Se)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Wd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Wd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ht=t;break}Ht=i.return}}function d_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:sr(t,a),l&4&&dl(5,a);break;case 1:if(sr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){We(a,a.return,_)}else{var f=$s(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){We(a,a.return,_)}}l&64&&o_(a),l&512&&ml(a,a.return);break;case 3:if(sr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Wg(t,i)}catch(_){We(a,a.return,_)}}break;case 27:i===null&&l&4&&h_(a);case 26:case 5:sr(t,a),i===null&&l&4&&u_(a),l&512&&ml(a,a.return);break;case 12:sr(t,a);break;case 31:sr(t,a),l&4&&g_(t,a);break;case 13:sr(t,a),l&4&&y_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=CA.bind(null,a),YA(t,a))));break;case 22:if(l=a.memoizedState!==null||ir,!l){i=i!==null&&i.memoizedState!==null||Ot,f=ir;var d=Ot;ir=l,(Ot=i)&&!d?ar(t,a,(a.subtreeFlags&8772)!==0):sr(t,a),ir=f,Ot=d}break;case 30:break;default:sr(t,a)}}function m_(t){var i=t.alternate;i!==null&&(t.alternate=null,m_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&_a(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,dn=!1;function rr(t,i,a){for(a=a.child;a!==null;)p_(t,i,a),a=a.sibling}function p_(t,i,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Xn,a)}catch{}switch(a.tag){case 26:Ot||xi(a,i),rr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ot||xi(a,i);var l=lt,f=dn;Yr(a.type)&&(lt=a.stateNode,dn=!1),rr(t,i,a),bl(a.stateNode),lt=l,dn=f;break;case 5:Ot||xi(a,i);case 6:if(l=lt,f=dn,lt=null,rr(t,i,a),lt=l,dn=f,lt!==null)if(dn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){We(a,i,d)}else try{lt.removeChild(a.stateNode)}catch(d){We(a,i,d)}break;case 18:lt!==null&&(dn?(t=lt,ov(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),no(t)):ov(lt,a.stateNode));break;case 4:l=lt,f=dn,lt=a.stateNode.containerInfo,dn=!0,rr(t,i,a),lt=l,dn=f;break;case 0:case 11:case 14:case 15:jr(2,a,i),Ot||jr(4,a,i),rr(t,i,a);break;case 1:Ot||(xi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&l_(a,i,l)),rr(t,i,a);break;case 21:rr(t,i,a);break;case 22:Ot=(l=Ot)||a.memoizedState!==null,rr(t,i,a),Ot=l;break;default:rr(t,i,a)}}function g_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{no(t)}catch(a){We(i,i.return,a)}}}function y_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{no(t)}catch(a){We(i,i.return,a)}}function vA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new f_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new f_),i;default:throw Error(s(435,t.tag))}}function Rc(t,i){var a=vA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=IA.bind(null,t,l);l.then(f,f)}})}function mn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Yr(S.type)){lt=S.stateNode,dn=!1;break e}break;case 5:lt=S.stateNode,dn=!1;break e;case 3:case 4:lt=S.stateNode.containerInfo,dn=!0;break e}S=S.return}if(lt===null)throw Error(s(160));p_(d,_,f),lt=null,dn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)__(i,t),i=i.sibling}var si=null;function __(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(i,t),pn(t),l&4&&(jr(3,t,t.return),dl(3,t),jr(5,t,t.return));break;case 1:mn(i,t),pn(t),l&512&&(Ot||a===null||xi(a,a.return)),l&64&&ir&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=si;if(mn(i,t),pn(t),l&512&&(Ot||a===null||xi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[gi]||d[Rt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),$t(d,l,a),d[Rt]=t,Ct(d),l=d;break e;case"link":var _=_v("link","href",f).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=f.createElement(l),$t(d,l,a),f.head.appendChild(d);break;case"meta":if(_=_v("meta","content",f).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=f.createElement(l),$t(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Rt]=t,Ct(d),l=d}t.stateNode=l}else vv(f,t.type,t.stateNode);else t.stateNode=yv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?vv(f,t.type,t.stateNode):yv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&bd(t,t.memoizedProps,a.memoizedProps)}break;case 27:mn(i,t),pn(t),l&512&&(Ot||a===null||xi(a,a.return)),a!==null&&l&4&&bd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(mn(i,t),pn(t),l&512&&(Ot||a===null||xi(a,a.return)),t.flags&32){f=t.stateNode;try{fn(f,"")}catch(fe){We(t,t.return,fe)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,bd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Rd=!0);break;case 6:if(mn(i,t),pn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){We(t,t.return,fe)}}break;case 3:if(Hc=null,f=si,si=jc(i.containerInfo),mn(i,t),si=f,pn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{no(i.containerInfo)}catch(fe){We(t,t.return,fe)}Rd&&(Rd=!1,v_(t));break;case 4:l=si,si=jc(t.stateNode.containerInfo),mn(i,t),pn(t),si=l;break;case 12:mn(i,t),pn(t);break;case 31:mn(i,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rc(t,l)));break;case 13:mn(i,t),pn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ic=on()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rc(t,l)));break;case 22:f=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,K=ir,W=Ot;if(ir=K||f,Ot=W||N,mn(i,t),Ot=W,ir=K,pn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||N||ir||Ot||Ws(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=N.stateNode;var te=N.memoizedProps.style,Y=te!=null&&te.hasOwnProperty("display")?te.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(fe){We(N,N.return,fe)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(fe){We(N,N.return,fe)}}}else if(i.tag===18){if(a===null){N=i;try{var X=N.stateNode;f?lv(X,!0):lv(N.stateNode,!1)}catch(fe){We(N,N.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Rc(t,a))));break;case 19:mn(i,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rc(t,l)));break;case 30:break;case 21:break;default:mn(i,t),pn(t)}}function pn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(c_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Ad(t);wc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(fn(_,""),a.flags&=-33);var S=Ad(t);wc(t,S,_);break;case 3:case 4:var N=a.stateNode.containerInfo,K=Ad(t);wd(t,K,N);break;default:throw Error(s(161))}}catch(W){We(t,t.return,W)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function v_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;v_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function sr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)d_(t,i.alternate,i),i=i.sibling}function Ws(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:jr(4,i,i.return),Ws(i);break;case 1:xi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&l_(i,i.return,a),Ws(i);break;case 27:bl(i.stateNode);case 26:case 5:xi(i,i.return),Ws(i);break;case 22:i.memoizedState===null&&Ws(i);break;case 30:Ws(i);break;default:Ws(i)}t=t.sibling}}function ar(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:ar(f,d,a),dl(4,d);break;case 1:if(ar(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){We(l,l.return,K)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)$g(N[f],S)}catch(K){We(l,l.return,K)}}a&&_&64&&o_(d),ml(d,d.return);break;case 27:h_(d);case 26:case 5:ar(f,d,a),a&&l===null&&_&4&&u_(d),ml(d,d.return);break;case 12:ar(f,d,a);break;case 31:ar(f,d,a),a&&_&4&&g_(f,d);break;case 13:ar(f,d,a),a&&_&4&&y_(f,d);break;case 22:d.memoizedState===null&&ar(f,d,a),ml(d,d.return);break;case 30:break;default:ar(f,d,a)}i=i.sibling}}function Cd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&el(a))}function Id(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&el(t))}function ai(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)E_(t,i,a,l),i=i.sibling}function E_(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ai(t,i,a,l),f&2048&&dl(9,i);break;case 1:ai(t,i,a,l);break;case 3:ai(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&el(t)));break;case 12:if(f&2048){ai(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){We(i,i.return,N)}}else ai(t,i,a,l);break;case 31:ai(t,i,a,l);break;case 13:ai(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ai(t,i,a,l):pl(t,i):d._visibility&2?ai(t,i,a,l):(d._visibility|=2,Ga(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Cd(_,i);break;case 24:ai(t,i,a,l),f&2048&&Id(i.alternate,i);break;default:ai(t,i,a,l)}}function Ga(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,S=a,N=l,K=_.flags;switch(_.tag){case 0:case 11:case 15:Ga(d,_,S,N,f),dl(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&2?Ga(d,_,S,N,f):pl(d,_):(W._visibility|=2,Ga(d,_,S,N,f)),f&&K&2048&&Cd(_.alternate,_);break;case 24:Ga(d,_,S,N,f),f&&K&2048&&Id(_.alternate,_);break;default:Ga(d,_,S,N,f)}i=i.sibling}}function pl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:pl(a,l),f&2048&&Cd(l.alternate,l);break;case 24:pl(a,l),f&2048&&Id(l.alternate,l);break;default:pl(a,l)}i=i.sibling}}var gl=8192;function Ka(t,i,a){if(t.subtreeFlags&gl)for(t=t.child;t!==null;)T_(t,i,a),t=t.sibling}function T_(t,i,a){switch(t.tag){case 26:Ka(t,i,a),t.flags&gl&&t.memoizedState!==null&&s1(a,si,t.memoizedState,t.memoizedProps);break;case 5:Ka(t,i,a);break;case 3:case 4:var l=si;si=jc(t.stateNode.containerInfo),Ka(t,i,a),si=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=gl,gl=16777216,Ka(t,i,a),gl=l):Ka(t,i,a));break;default:Ka(t,i,a)}}function S_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function yl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ht=l,A_(l,t)}S_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)b_(t),t=t.sibling}function b_(t){switch(t.tag){case 0:case 11:case 15:yl(t),t.flags&2048&&jr(9,t,t.return);break;case 3:yl(t);break;case 12:yl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Cc(t)):yl(t);break;default:yl(t)}}function Cc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ht=l,A_(l,t)}S_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:jr(8,i,i.return),Cc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Cc(i));break;default:Cc(i)}t=t.sibling}}function A_(t,i){for(;Ht!==null;){var a=Ht;switch(a.tag){case 0:case 11:case 15:jr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:el(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ht=l;else e:for(a=t;Ht!==null;){l=Ht;var f=l.sibling,d=l.return;if(m_(l),l===a){Ht=null;break e}if(f!==null){f.return=d,Ht=f;break e}Ht=d}}}var EA={getCacheForType:function(t){var i=Qt(Dt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Qt(Dt).controller.signal}},TA=typeof WeakMap=="function"?WeakMap:Map,Ye=0,nt=null,Oe=null,Ue=0,$e=0,In=null,Br=!1,Ya=!1,Dd=!1,or=0,dt=0,Hr=0,Js=0,xd=0,Dn=0,Qa=0,_l=null,gn=null,Nd=!1,Ic=0,w_=0,Dc=1/0,xc=null,qr=null,Ut=0,Fr=null,Xa=null,lr=0,Od=0,Md=null,R_=null,vl=0,kd=null;function xn(){return(Ye&2)!==0&&Ue!==0?Ue&-Ue:$.T!==null?jd():Nu()}function C_(){if(Dn===0)if((Ue&536870912)===0||Be){var t=ws;ws<<=1,(ws&3932160)===0&&(ws=262144),Dn=t}else Dn=536870912;return t=Rn.current,t!==null&&(t.flags|=32),Dn}function yn(t,i,a){(t===nt&&($e===2||$e===9)||t.cancelPendingCommit!==null)&&($a(t,0),Gr(t,Ue,Dn,!1)),Rs(t,a),((Ye&2)===0||t!==nt)&&(t===nt&&((Ye&2)===0&&(Js|=a),dt===4&&Gr(t,Ue,Dn,!1)),Ni(t))}function I_(t,i,a){if((Ye&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||$n(t,i),f=l?AA(t,i):Ud(t,i,!0),d=l;do{if(f===0){Ya&&!l&&Gr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!SA(a)){f=Ud(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;f=_l;var N=S.current.memoizedState.isDehydrated;if(N&&($a(S,_).flags|=256),_=Ud(S,_,!1),_!==2){if(Dd&&!N){S.errorRecoveryDisabledLanes|=d,Js|=d,f=4;break e}d=gn,gn=f,d!==null&&(gn===null?gn=d:gn.push.apply(gn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){$a(t,0),Gr(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Gr(l,i,Dn,!Br);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Ic+300-on(),10<f)){if(Gr(l,i,Dn,!Br),di(l,0,!0)!==0)break e;lr=i,l.timeoutHandle=sv(D_.bind(null,l,a,gn,xc,Nd,i,Dn,Js,Qa,Br,d,"Throttled",-0,0),f);break e}D_(l,a,gn,xc,Nd,i,Dn,Js,Qa,Br,d,null,-0,0)}}break}while(!0);Ni(t)}function D_(t,i,a,l,f,d,_,S,N,K,W,te,Y,X){if(t.timeoutHandle=-1,te=i.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},T_(i,d,te);var fe=(d&62914560)===d?Ic-on():(d&4194048)===d?w_-on():0;if(fe=a1(te,fe),fe!==null){lr=d,t.cancelPendingCommit=fe(L_.bind(null,t,i,d,a,l,f,_,S,N,W,te,null,Y,X)),Gr(t,d,_,!K);return}}L_(t,i,d,a,l,f,_,S,N)}function SA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!An(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Gr(t,i,a,l){i&=~xd,i&=~Js,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-yt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Cs(t,a,i)}function Nc(){return(Ye&6)===0?(El(0),!1):!0}function Vd(){if(Oe!==null){if($e===0)var t=Oe.return;else t=Oe,Wi=qs=null,Wf(t),ja=null,nl=0,t=Oe;for(;t!==null;)a_(t.alternate,t),t=t.return;Oe=null}}function $a(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,HA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),lr=0,Vd(),nt=t,Oe=a=Xi(t.current,null),Ue=i,$e=0,In=null,Br=!1,Ya=$n(t,i),Dd=!1,Qa=Dn=xd=Js=Hr=dt=0,gn=_l=null,Nd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-yt(l),d=1<<f;i|=t[f],l&=~d}return or=i,Ju(),a}function x_(t,i){xe=null,$.H=cl,i===za||i===ac?(i=Kg(),$e=3):i===zf?(i=Kg(),$e=4):$e=i===dd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,In=i,Oe===null&&(dt=1,Ec(t,zn(i,t.current)))}function N_(){var t=Rn.current;return t===null?!0:(Ue&4194048)===Ue?qn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?t===qn:!1}function O_(){var t=$.H;return $.H=cl,t===null?cl:t}function M_(){var t=$.A;return $.A=EA,t}function Oc(){dt=4,Br||(Ue&4194048)!==Ue&&Rn.current!==null||(Ya=!0),(Hr&134217727)===0&&(Js&134217727)===0||nt===null||Gr(nt,Ue,Dn,!1)}function Ud(t,i,a){var l=Ye;Ye|=2;var f=O_(),d=M_();(nt!==t||Ue!==i)&&(xc=null,$a(t,i)),i=!1;var _=dt;e:do try{if($e!==0&&Oe!==null){var S=Oe,N=In;switch($e){case 8:Vd(),_=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(i=!0);var K=$e;if($e=0,In=null,Wa(t,S,N,K),a&&Ya){_=0;break e}break;default:K=$e,$e=0,In=null,Wa(t,S,N,K)}}bA(),_=dt;break}catch(W){x_(t,W)}while(!0);return i&&t.shellSuspendCounter++,Wi=qs=null,Ye=l,$.H=f,$.A=d,Oe===null&&(nt=null,Ue=0,Ju()),_}function bA(){for(;Oe!==null;)k_(Oe)}function AA(t,i){var a=Ye;Ye|=2;var l=O_(),f=M_();nt!==t||Ue!==i?(xc=null,Dc=on()+500,$a(t,i)):Ya=$n(t,i);e:do try{if($e!==0&&Oe!==null){i=Oe;var d=In;t:switch($e){case 1:$e=0,In=null,Wa(t,i,d,1);break;case 2:case 9:if(Fg(d)){$e=0,In=null,V_(i);break}i=function(){$e!==2&&$e!==9||nt!==t||($e=7),Ni(t)},d.then(i,i);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:Fg(d)?($e=0,In=null,V_(i)):($e=0,In=null,Wa(t,i,d,7));break;case 5:var _=null;switch(Oe.tag){case 26:_=Oe.memoizedState;case 5:case 27:var S=Oe;if(_?Ev(_):S.stateNode.complete){$e=0,In=null;var N=S.sibling;if(N!==null)Oe=N;else{var K=S.return;K!==null?(Oe=K,Mc(K)):Oe=null}break t}}$e=0,In=null,Wa(t,i,d,5);break;case 6:$e=0,In=null,Wa(t,i,d,6);break;case 8:Vd(),dt=6;break e;default:throw Error(s(462))}}wA();break}catch(W){x_(t,W)}while(!0);return Wi=qs=null,$.H=l,$.A=f,Ye=a,Oe!==null?0:(nt=null,Ue=0,Ju(),dt)}function wA(){for(;Oe!==null&&!ff();)k_(Oe)}function k_(t){var i=r_(t.alternate,t,or);t.memoizedProps=t.pendingProps,i===null?Mc(t):Oe=i}function V_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Jy(a,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=Jy(a,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:Wf(i);default:a_(a,i),i=Oe=Mg(i,or),i=r_(a,i,or)}t.memoizedProps=t.pendingProps,i===null?Mc(t):Oe=i}function Wa(t,i,a,l){Wi=qs=null,Wf(i),ja=null,nl=0;var f=i.return;try{if(dA(t,f,i,a,Ue)){dt=1,Ec(t,zn(a,t.current)),Oe=null;return}}catch(d){if(f!==null)throw Oe=f,d;dt=1,Ec(t,zn(a,t.current)),Oe=null;return}i.flags&32768?(Be||l===1?t=!0:Ya||(Ue&536870912)!==0?t=!1:(Br=t=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),U_(i,t)):Mc(i)}function Mc(t){var i=t;do{if((i.flags&32768)!==0){U_(i,Br);return}t=i.return;var a=gA(i.alternate,i,or);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);dt===0&&(dt=5)}function U_(t,i){do{var a=yA(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);dt=6,Oe=null}function L_(t,i,a,l,f,d,_,S,N){t.cancelPendingCommit=null;do kc();while(Ut!==0);if((Ye&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Af,pf(t,a,d,_,S,N),t===nt&&(Oe=nt=null,Ue=0),Xa=i,Fr=t,lr=a,Od=d,Md=f,R_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,DA(Tr,function(){return H_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,f=oe.p,oe.p=2,_=Ye,Ye|=4;try{_A(t,i,a)}finally{Ye=_,oe.p=f,$.T=l}}Ut=1,P_(),z_(),j_()}}function P_(){if(Ut===1){Ut=0;var t=Fr,i=Xa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=oe.p;oe.p=2;var f=Ye;Ye|=4;try{__(i,t);var d=Qd,_=Ag(t.containerInfo),S=d.focusedElem,N=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&bg(S.ownerDocument.documentElement,S)){if(N!==null&&vf(S)){var K=N.start,W=N.end;if(W===void 0&&(W=K),"selectionStart"in S)S.selectionStart=K,S.selectionEnd=Math.min(W,S.value.length);else{var te=S.ownerDocument||document,Y=te&&te.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),fe=S.textContent.length,Se=Math.min(N.start,fe),tt=N.end===void 0?Se:Math.min(N.end,fe);!X.extend&&Se>tt&&(_=tt,tt=Se,Se=_);var z=Sg(S,Se),V=Sg(S,tt);if(z&&V&&(X.rangeCount!==1||X.anchorNode!==z.node||X.anchorOffset!==z.offset||X.focusNode!==V.node||X.focusOffset!==V.offset)){var G=te.createRange();G.setStart(z.node,z.offset),X.removeAllRanges(),Se>tt?(X.addRange(G),X.extend(V.node,V.offset)):(G.setEnd(V.node,V.offset),X.addRange(G))}}}}for(te=[],X=S;X=X.parentNode;)X.nodeType===1&&te.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<te.length;S++){var J=te[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Kc=!!Yd,Qd=Yd=null}finally{Ye=f,oe.p=l,$.T=a}}t.current=i,Ut=2}}function z_(){if(Ut===2){Ut=0;var t=Fr,i=Xa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=oe.p;oe.p=2;var f=Ye;Ye|=4;try{d_(t,i.alternate,i)}finally{Ye=f,oe.p=l,$.T=a}}Ut=3}}function j_(){if(Ut===4||Ut===3){Ut=0,Au();var t=Fr,i=Xa,a=lr,l=R_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ut=5:(Ut=0,Xa=Fr=null,B_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(qr=null),Gi(a),i=i.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Xn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=$.T,f=oe.p,oe.p=2,$.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{$.T=i,oe.p=f}}(lr&3)!==0&&kc(),Ni(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===kd?vl++:(vl=0,kd=t):vl=0,El(0)}}function B_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,el(i)))}function kc(){return P_(),z_(),j_(),H_()}function H_(){if(Ut!==5)return!1;var t=Fr,i=Od;Od=0;var a=Gi(lr),l=$.T,f=oe.p;try{oe.p=32>a?32:a,$.T=null,a=Md,Md=null;var d=Fr,_=lr;if(Ut=0,Xa=Fr=null,lr=0,(Ye&6)!==0)throw Error(s(331));var S=Ye;if(Ye|=4,b_(d.current),E_(d,d.current,_,a),Ye=S,El(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Xn,d)}catch{}return!0}finally{oe.p=f,$.T=l,B_(t,i)}}function q_(t,i,a){i=zn(a,i),i=fd(t.stateNode,i,2),t=Lr(t,i,2),t!==null&&(Rs(t,2),Ni(t))}function We(t,i,a){if(t.tag===3)q_(t,t,a);else for(;i!==null;){if(i.tag===3){q_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(qr===null||!qr.has(l))){t=zn(a,t),a=Fy(2),l=Lr(i,a,2),l!==null&&(Gy(a,l,i,t),Rs(l,2),Ni(l));break}}i=i.return}}function Ld(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new TA;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Dd=!0,f.add(a),t=RA.bind(null,t,i,a),i.then(t,t))}function RA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(Ue&a)===a&&(dt===4||dt===3&&(Ue&62914560)===Ue&&300>on()-Ic?(Ye&2)===0&&$a(t,0):xd|=a,Qa===Ue&&(Qa=0)),Ni(t)}function F_(t,i){i===0&&(i=xu()),t=js(t,i),t!==null&&(Rs(t,i),Ni(t))}function CA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),F_(t,a)}function IA(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),F_(t,a)}function DA(t,i){return Vt(t,i)}var Vc=null,Ja=null,Pd=!1,Uc=!1,zd=!1,Kr=0;function Ni(t){t!==Ja&&t.next===null&&(Ja===null?Vc=Ja=t:Ja=Ja.next=t),Uc=!0,Pd||(Pd=!0,NA())}function El(t,i){if(!zd&&Uc){zd=!0;do for(var a=!1,l=Vc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-yt(42|t)+1)-1,d&=f&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Q_(l,d))}else d=Ue,d=di(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||$n(l,d)||(a=!0,Q_(l,d));l=l.next}while(a);zd=!1}}function xA(){G_()}function G_(){Uc=Pd=!1;var t=0;Kr!==0&&BA()&&(t=Kr);for(var i=on(),a=null,l=Vc;l!==null;){var f=l.next,d=K_(l,i);d===0?(l.next=null,a===null?Vc=f:a.next=f,f===null&&(Ja=a)):(a=l,(t!==0||(d&3)!==0)&&(Uc=!0)),l=f}Ut!==0&&Ut!==5||El(t),Kr!==0&&(Kr=0)}function K_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-yt(d),S=1<<_,N=f[_];N===-1?((S&a)===0||(S&l)!==0)&&(f[_]=mf(S,i)):N<=i&&(t.expiredLanes|=S),d&=~S}if(i=nt,a=Ue,a=di(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&($e===2||$e===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Er(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||$n(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Er(l),Gi(a)){case 2:case 8:a=xo;break;case 32:a=Tr;break;case 268435456:a=wu;break;default:a=Tr}return l=Y_.bind(null,t),a=Vt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Er(l),t.callbackPriority=2,t.callbackNode=null,2}function Y_(t,i){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(kc()&&t.callbackNode!==a)return null;var l=Ue;return l=di(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(I_(t,l,i),K_(t,on()),t.callbackNode!=null&&t.callbackNode===a?Y_.bind(null,t):null)}function Q_(t,i){if(kc())return null;I_(t,i,!0)}function NA(){qA(function(){(Ye&6)!==0?Vt(Do,xA):G_()})}function jd(){if(Kr===0){var t=La;t===0&&(t=hi,hi<<=1,(hi&261888)===0&&(hi=256)),Kr=t}return Kr}function X_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Sa(""+t)}function $_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function OA(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=X_((f[jt]||null).action),_=l.submitter;_&&(i=(i=_[jt]||null)?X_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new Ai("action","action",null,l,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Kr!==0){var N=_?$_(f,_):new FormData(f);ad(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(S.preventDefault(),N=_?$_(f,_):new FormData(f),ad(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var Bd=0;Bd<bf.length;Bd++){var Hd=bf[Bd],MA=Hd.toLowerCase(),kA=Hd[0].toUpperCase()+Hd.slice(1);ri(MA,"on"+kA)}ri(Cg,"onAnimationEnd"),ri(Ig,"onAnimationIteration"),ri(Dg,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri($b,"onTransitionRun"),ri(Wb,"onTransitionStart"),ri(Jb,"onTransitionCancel"),ri(xg,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function W_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],N=S.instance,K=S.currentTarget;if(S=S.listener,N!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=K;try{d(f)}catch(W){Wu(W)}f.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(S=l[_],N=S.instance,K=S.currentTarget,S=S.listener,N!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=K;try{d(f)}catch(W){Wu(W)}f.currentTarget=null,d=N}}}}function Me(t,i){var a=i[ya];a===void 0&&(a=i[ya]=new Set);var l=t+"__bubble";a.has(l)||(J_(i,t,2,!1),a.add(l))}function qd(t,i,a){var l=0;i&&(l|=4),J_(a,t,l,i)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function Fd(t){if(!t[Lc]){t[Lc]=!0,Mo.forEach(function(a){a!=="selectionchange"&&(VA.has(a)||qd(a,!1,t),qd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Lc]||(i[Lc]=!0,qd("selectionchange",!1,i))}}function J_(t,i,a,l){switch(Cv(i)){case 2:var f=u1;break;case 8:f=c1;break;default:f=sm}a=f.bind(null,i,a,t),f=void 0,!Os||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function Gd(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=yi(S),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}S=S.parentNode}}l=l.return}Cr(function(){var K=d,W=Vn(a),te=[];e:{var Y=Ng.get(t);if(Y!==void 0){var X=Ai,fe=t;switch(t){case"keypress":if(ks(a)===0)break e;case"keydown":case"keyup":X=Qu;break;case"focusin":fe="focus",X=Us;break;case"focusout":fe="blur",X=Us;break;case"beforeblur":case"afterblur":X=Us;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=y;break;case Cg:case Ig:case Dg:X=Bu;break;case xg:X=b;break;case"scroll":case"scrollend":X=Go;break;case"wheel":X=Q;break;case"copy":case"cut":case"paste":X=Hu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Qi;break;case"toggle":case"beforetoggle":X=De}var Se=(i&4)!==0,tt=!Se&&(t==="scroll"||t==="scrollend"),z=Se?Y!==null?Y+"Capture":null:Y;Se=[];for(var V=K,G;V!==null;){var J=V;if(G=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||G===null||z===null||(J=ei(V,z),J!=null&&Se.push(Sl(V,J,G))),tt)break;V=V.return}0<Se.length&&(Y=new X(Y,fe,null,a,W),te.push({event:Y,listeners:Se}))}}if((i&7)===0){e:{if(Y=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",Y&&a!==Ho&&(fe=a.relatedTarget||a.fromElement)&&(yi(fe)||fe[pi]))break e;if((X||Y)&&(Y=W.window===W?W:(Y=W.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(fe=a.relatedTarget||a.toElement,X=K,fe=fe?yi(fe):null,fe!==null&&(tt=u(fe),Se=fe.tag,fe!==tt||Se!==5&&Se!==27&&Se!==6)&&(fe=null)):(X=null,fe=K),X!==fe)){if(Se=Ko,J="onMouseLeave",z="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Se=Qi,J="onPointerLeave",z="onPointerEnter",V="pointer"),tt=X==null?Y:Sn(X),G=fe==null?Y:Sn(fe),Y=new Se(J,V+"leave",X,a,W),Y.target=tt,Y.relatedTarget=G,J=null,yi(W)===K&&(Se=new Se(z,V+"enter",fe,a,W),Se.target=G,Se.relatedTarget=tt,J=Se),tt=J,X&&fe)t:{for(Se=UA,z=X,V=fe,G=0,J=z;J;J=Se(J))G++;J=0;for(var Ee=V;Ee;Ee=Se(Ee))J++;for(;0<G-J;)z=Se(z),G--;for(;0<J-G;)V=Se(V),J--;for(;G--;){if(z===V||V!==null&&z===V.alternate){Se=z;break t}z=Se(z),V=Se(V)}Se=null}else Se=null;X!==null&&Z_(te,Y,X,Se,!1),fe!==null&&tt!==null&&Z_(te,tt,fe,Se,!0)}}e:{if(Y=K?Sn(K):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var Fe=gg;else if(mg(Y))if(yg)Fe=Yb;else{Fe=Gb;var me=Fb}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?K&&Ta(K.elementType)&&(Fe=gg):Fe=Kb;if(Fe&&(Fe=Fe(t,K))){pg(te,Fe,a,W);break e}me&&me(t,Y,K),t==="focusout"&&K&&Y.type==="number"&&K.memoizedProps.value!=null&&zo(Y,"number",Y.value)}switch(me=K?Sn(K):window,t){case"focusin":(mg(me)||me.contentEditable==="true")&&(Da=me,Ef=K,Wo=null);break;case"focusout":Wo=Ef=Da=null;break;case"mousedown":Tf=!0;break;case"contextmenu":case"mouseup":case"dragend":Tf=!1,wg(te,a,W);break;case"selectionchange":if(Xb)break;case"keydown":case"keyup":wg(te,a,W)}var Ne;if(Ke)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Ia?Ls(t,a)&&(Le="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Le="onCompositionStart");Le&&(Ci&&a.locale!=="ko"&&(Ia||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Ia&&(Ne=Fo()):(bi=W,qo="value"in bi?bi.value:bi.textContent,Ia=!0)),me=Pc(K,Le),0<me.length&&(Le=new Ri(Le,t,null,a,W),te.push({event:Le,listeners:me}),Ne?Le.data=Ne:(Ne=Ca(a),Ne!==null&&(Le.data=Ne)))),(Ne=Ln?jb(t,a):Bb(t,a))&&(Le=Pc(K,"onBeforeInput"),0<Le.length&&(me=new Ri("onBeforeInput","beforeinput",null,a,W),te.push({event:me,listeners:Le}),me.data=Ne)),OA(te,t,K,a,W)}W_(te,i)})}function Sl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Pc(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ei(t,a),f!=null&&l.unshift(Sl(t,f,d)),f=ei(t,i),f!=null&&l.push(Sl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function UA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Z_(t,i,a,l,f){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,N=S.alternate,K=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||K===null||(N=K,f?(K=ei(a,d),K!=null&&_.unshift(Sl(a,K,N))):f||(K=ei(a,d),K!=null&&_.push(Sl(a,K,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var LA=/\r\n?/g,PA=/\u0000|\uFFFD/g;function ev(t){return(typeof t=="string"?t:""+t).replace(LA,`
`).replace(PA,"")}function tv(t,i){return i=ev(i),ev(t)===i}function et(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||fn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&fn(t,""+l);break;case"className":bn(t,"class",l);break;case"tabIndex":bn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(t,a,l);break;case"style":Bo(t,l,d);break;case"data":if(i!=="object"){bn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Sa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&et(t,i,"name",f.name,f,null),et(t,i,"formEncType",f.formEncType,f,null),et(t,i,"formMethod",f.formMethod,f,null),et(t,i,"formTarget",f.formTarget,f,null)):(et(t,i,"encType",f.encType,f,null),et(t,i,"method",f.method,f,null),et(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Sa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Zn);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Sa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),va(t,"popover",l);break;case"xlinkActuate":It(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":It(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":It(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":It(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":It(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":It(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":It(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":It(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":It(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":va(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Pu.get(a)||a,va(t,a,l))}}function Kd(t,i,a,l,f,d){switch(a){case"style":Bo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?fn(t,l):(typeof l=="number"||typeof l=="bigint")&&fn(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ko.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[jt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):va(t,a,l)}}}function $t(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,d,_,a,null)}}f&&et(t,i,"srcSet",a.srcSet,a,null),l&&et(t,i,"src",a.src,a,null);return;case"input":Me("invalid",t);var S=d=_=f=null,N=null,K=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":_=W;break;case"checked":N=W;break;case"defaultChecked":K=W;break;case"value":d=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:et(t,i,l,W,a,null)}}Vu(t,d,S,N,K,_,f,!1);return;case"select":Me("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:et(t,i,f,S,a,null)}i=d,a=_,t.multiple=!!l,i!=null?br(t,!!l,i,!1):a!=null&&br(t,!!l,a,!0);return;case"textarea":Me("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:et(t,i,_,S,a,null)}Ar(t,l,f,d);return;case"option":for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null)&&(N==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":et(t,i,N,l,a,null));return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<Tl.length;l++)Me(Tl[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in a)if(a.hasOwnProperty(K)&&(l=a[K],l!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,K,l,a,null)}return;default:if(Ta(i)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Kd(t,i,W,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&et(t,i,S,l,a,null))}function zA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,S=null,N=null,K=null,W=null;for(X in a){var te=a[X];if(a.hasOwnProperty(X)&&te!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":N=te;default:l.hasOwnProperty(X)||et(t,i,X,null,l,te)}}for(var Y in l){var X=l[Y];if(te=a[Y],l.hasOwnProperty(Y)&&(X!=null||te!=null))switch(Y){case"type":d=X;break;case"name":f=X;break;case"checked":K=X;break;case"defaultChecked":W=X;break;case"value":_=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:X!==te&&et(t,i,Y,X,l,te)}}Ea(t,_,S,N,K,W,d,f);return;case"select":X=_=S=Y=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":X=N;default:l.hasOwnProperty(d)||et(t,i,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":Y=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==N&&et(t,i,f,d,l,N)}i=S,a=_,l=X,Y!=null?br(t,!!a,Y,!1):!!l!=!!a&&(i!=null?br(t,!!a,i,!0):br(t,!!a,a?[]:"",!1));return;case"textarea":X=Y=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:et(t,i,S,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":Y=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&et(t,i,_,f,l,d)}Uu(t,Y,X);return;case"option":for(var fe in a)Y=a[fe],a.hasOwnProperty(fe)&&Y!=null&&!l.hasOwnProperty(fe)&&(fe==="selected"?t.selected=!1:et(t,i,fe,null,l,Y));for(N in l)Y=l[N],X=a[N],l.hasOwnProperty(N)&&Y!==X&&(Y!=null||X!=null)&&(N==="selected"?t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":et(t,i,N,Y,l,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)Y=a[Se],a.hasOwnProperty(Se)&&Y!=null&&!l.hasOwnProperty(Se)&&et(t,i,Se,null,l,Y);for(K in l)if(Y=l[K],X=a[K],l.hasOwnProperty(K)&&Y!==X&&(Y!=null||X!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:et(t,i,K,Y,l,X)}return;default:if(Ta(i)){for(var tt in a)Y=a[tt],a.hasOwnProperty(tt)&&Y!==void 0&&!l.hasOwnProperty(tt)&&Kd(t,i,tt,void 0,l,Y);for(W in l)Y=l[W],X=a[W],!l.hasOwnProperty(W)||Y===X||Y===void 0&&X===void 0||Kd(t,i,W,Y,l,X);return}}for(var z in a)Y=a[z],a.hasOwnProperty(z)&&Y!=null&&!l.hasOwnProperty(z)&&et(t,i,z,null,l,Y);for(te in l)Y=l[te],X=a[te],!l.hasOwnProperty(te)||Y===X||Y==null&&X==null||et(t,i,te,Y,l,X)}function nv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,S=f.duration;if(d&&S&&nv(_)){for(_=0,S=f.responseEnd,l+=1;l<a.length;l++){var N=a[l],K=N.startTime;if(K>S)break;var W=N.transferSize,te=N.initiatorType;W&&nv(te)&&(N=N.responseEnd,_+=W*(N<S?1:(S-K)/(N-K)))}if(--l,i+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Yd=null,Qd=null;function zc(t){return t.nodeType===9?t:t.ownerDocument}function iv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Xd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var $d=null;function BA(){var t=window.event;return t&&t.type==="popstate"?t===$d?!1:($d=t,!0):($d=null,!1)}var sv=typeof setTimeout=="function"?setTimeout:void 0,HA=typeof clearTimeout=="function"?clearTimeout:void 0,av=typeof Promise=="function"?Promise:void 0,qA=typeof queueMicrotask=="function"?queueMicrotask:typeof av<"u"?function(t){return av.resolve(null).then(t).catch(FA)}:sv;function FA(t){setTimeout(function(){throw t})}function Yr(t){return t==="head"}function ov(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),no(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")bl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,bl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[gi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&bl(t.ownerDocument.body);a=f}while(a);no(i)}function lv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Wd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Wd(a),_a(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function GA(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[gi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Fn(t.nextSibling),t===null)break}return null}function KA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Fn(t.nextSibling),t===null))return null;return t}function uv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Fn(t.nextSibling),t===null))return null;return t}function Jd(t){return t.data==="$?"||t.data==="$~"}function Zd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function YA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Fn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var em=null;function cv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Fn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function hv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function fv(t,i,a){switch(i=zc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function bl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);_a(t)}var Gn=new Map,dv=new Set;function jc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ur=oe.d;oe.d={f:QA,r:XA,D:$A,C:WA,L:JA,m:ZA,X:t1,S:e1,M:n1};function QA(){var t=ur.f(),i=Nc();return t||i}function XA(t){var i=kn(t);i!==null&&i.tag===5&&i.type==="form"?xy(i):ur.r(t)}var Za=typeof document>"u"?null:document;function mv(t,i,a){var l=Za;if(l&&typeof i=="string"&&i){var f=hn(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),dv.has(f)||(dv.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),$t(i,"link",t),Ct(i),l.head.appendChild(i)))}}function $A(t){ur.D(t),mv("dns-prefetch",t,null)}function WA(t,i){ur.C(t,i),mv("preconnect",t,i)}function JA(t,i,a){ur.L(t,i,a);var l=Za;if(l&&t&&i){var f='link[rel="preload"][as="'+hn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+hn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+hn(a.imageSizes)+'"]')):f+='[href="'+hn(t)+'"]';var d=f;switch(i){case"style":d=eo(t);break;case"script":d=to(t)}Gn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Gn.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(Al(d))||i==="script"&&l.querySelector(wl(d))||(i=l.createElement("link"),$t(i,"link",t),Ct(i),l.head.appendChild(i)))}}function ZA(t,i){ur.m(t,i);var a=Za;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+hn(l)+'"][href="'+hn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=to(t)}if(!Gn.has(d)&&(t=T({rel:"modulepreload",href:t},i),Gn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wl(d)))return}l=a.createElement("link"),$t(l,"link",t),Ct(l),a.head.appendChild(l)}}}function e1(t,i,a){ur.S(t,i,a);var l=Za;if(l&&t){var f=_i(l).hoistableStyles,d=eo(t);i=i||"default";var _=f.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Al(d)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Gn.get(d))&&tm(t,a);var N=_=l.createElement("link");Ct(N),$t(N,"link",t),N._p=new Promise(function(K,W){N.onload=K,N.onerror=W}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Bc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(d,_)}}}function t1(t,i){ur.X(t,i);var a=Za;if(a&&t){var l=_i(a).hoistableScripts,f=to(t),d=l.get(f);d||(d=a.querySelector(wl(f)),d||(t=T({src:t,async:!0},i),(i=Gn.get(f))&&nm(t,i),d=a.createElement("script"),Ct(d),$t(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function n1(t,i){ur.M(t,i);var a=Za;if(a&&t){var l=_i(a).hoistableScripts,f=to(t),d=l.get(f);d||(d=a.querySelector(wl(f)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Gn.get(f))&&nm(t,i),d=a.createElement("script"),Ct(d),$t(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function pv(t,i,a,l){var f=(f=Re.current)?jc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=eo(a.href),a=_i(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=eo(a.href);var d=_i(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(Al(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Gn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Gn.set(t,a),d||i1(f,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=to(a),a=_i(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function eo(t){return'href="'+hn(t)+'"'}function Al(t){return'link[rel="stylesheet"]['+t+"]"}function gv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function i1(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),$t(i,"link",a),Ct(i),t.head.appendChild(i))}function to(t){return'[src="'+hn(t)+'"]'}function wl(t){return"script[async]"+t}function yv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+hn(a.href)+'"]');if(l)return i.instance=l,Ct(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ct(l),$t(l,"style",f),Bc(l,a.precedence,t),i.instance=l;case"stylesheet":f=eo(a.href);var d=t.querySelector(Al(f));if(d)return i.state.loading|=4,i.instance=d,Ct(d),d;l=gv(a),(f=Gn.get(f))&&tm(l,f),d=(t.ownerDocument||t).createElement("link"),Ct(d);var _=d;return _._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),$t(d,"link",l),i.state.loading|=4,Bc(d,a.precedence,t),i.instance=d;case"script":return d=to(a.src),(f=t.querySelector(wl(d)))?(i.instance=f,Ct(f),f):(l=a,(f=Gn.get(d))&&(l=T({},a),nm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Ct(f),$t(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Bc(l,a.precedence,t));return i.instance}function Bc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function tm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function nm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Hc=null;function _v(t,i,a){if(Hc===null){var l=new Map,f=Hc=new Map;f.set(a,l)}else f=Hc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[gi]||d[Rt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function vv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function r1(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Ev(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function s1(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=eo(l.href),d=i.querySelector(Al(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=qc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Ct(d);return}d=i.ownerDocument||i,l=gv(l),(f=Gn.get(f))&&tm(l,f),d=d.createElement("link"),Ct(d);var _=d;_._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),$t(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=qc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var im=0;function a1(t,i){return t.stylesheets&&t.count===0&&Gc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Gc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&im===0&&(im=62500*jA());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Gc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>im?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Fc=null;function Gc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Fc=new Map,i.forEach(o1,t),Fc=null,qc.call(t))}function o1(t,i){if(!(i.state.loading&4)){var a=Fc.get(t);if(a)var l=a.get(null);else{a=new Map,Fc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=qc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Rl={$$typeof:Z,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function l1(t,i,a,l,f,d,_,S,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Tv(t,i,a,l,f,d,_,S,N,K,W,te){return t=new l1(t,i,a,_,N,K,W,te,S),i=1,d===!0&&(i|=24),d=wn(3,null,null,i),t.current=d,d.stateNode=t,i=Uf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},jf(d),t}function Sv(t){return t?(t=Oa,t):Oa}function bv(t,i,a,l,f,d){f=Sv(f),l.context===null?l.context=f:l.pendingContext=f,l=Ur(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Lr(t,l,i),a!==null&&(yn(a,t,i),rl(a,t,i))}function Av(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function rm(t,i){Av(t,i),(t=t.alternate)&&Av(t,i)}function wv(t){if(t.tag===13||t.tag===31){var i=js(t,67108864);i!==null&&yn(i,t,67108864),rm(t,67108864)}}function Rv(t){if(t.tag===13||t.tag===31){var i=xn();i=Is(i);var a=js(t,i);a!==null&&yn(a,t,i),rm(t,i)}}var Kc=!0;function u1(t,i,a,l){var f=$.T;$.T=null;var d=oe.p;try{oe.p=2,sm(t,i,a,l)}finally{oe.p=d,$.T=f}}function c1(t,i,a,l){var f=$.T;$.T=null;var d=oe.p;try{oe.p=8,sm(t,i,a,l)}finally{oe.p=d,$.T=f}}function sm(t,i,a,l){if(Kc){var f=am(l);if(f===null)Gd(t,i,l,Yc,a),Iv(t,l);else if(f1(f,t,i,a,l))l.stopPropagation();else if(Iv(t,l),i&4&&-1<h1.indexOf(t)){for(;f!==null;){var d=kn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=fi(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var N=1<<31-yt(_);S.entanglements[1]|=N,_&=~N}Ni(d),(Ye&6)===0&&(Dc=on()+500,El(0))}}break;case 31:case 13:S=js(d,2),S!==null&&yn(S,d,2),Nc(),rm(d,2)}if(d=am(l),d===null&&Gd(t,i,l,Yc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Gd(t,i,l,null,a)}}function am(t){return t=Vn(t),om(t)}var Yc=null;function om(t){if(Yc=null,t=yi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Yc=t,null}function Cv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(As()){case Do:return 2;case xo:return 8;case Tr:case df:return 32;case wu:return 268435456;default:return 32}default:return 32}}var lm=!1,Qr=null,Xr=null,$r=null,Cl=new Map,Il=new Map,Wr=[],h1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Iv(t,i){switch(t){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":$r=null;break;case"pointerover":case"pointerout":Cl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(i.pointerId)}}function Dl(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=kn(i),i!==null&&wv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function f1(t,i,a,l,f){switch(i){case"focusin":return Qr=Dl(Qr,t,i,a,l,f),!0;case"dragenter":return Xr=Dl(Xr,t,i,a,l,f),!0;case"mouseover":return $r=Dl($r,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return Cl.set(d,Dl(Cl.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Il.set(d,Dl(Il.get(d)||null,t,i,a,l,f)),!0}return!1}function Dv(t){var i=yi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Wn(t.priority,function(){Rv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Wn(t.priority,function(){Rv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=am(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ho=l,a.target.dispatchEvent(l),Ho=null}else return i=kn(a),i!==null&&wv(i),t.blockedOn=a,!1;i.shift()}return!0}function xv(t,i,a){Qc(t)&&a.delete(i)}function d1(){lm=!1,Qr!==null&&Qc(Qr)&&(Qr=null),Xr!==null&&Qc(Xr)&&(Xr=null),$r!==null&&Qc($r)&&($r=null),Cl.forEach(xv),Il.forEach(xv)}function Xc(t,i){t.blockedOn===i&&(t.blockedOn=null,lm||(lm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,d1)))}var $c=null;function Nv(t){$c!==t&&($c=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){$c===t&&($c=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(om(l||a)===null)continue;break}var d=kn(a);d!==null&&(t.splice(i,3),i-=3,ad(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function no(t){function i(N){return Xc(N,t)}Qr!==null&&Xc(Qr,t),Xr!==null&&Xc(Xr,t),$r!==null&&Xc($r,t),Cl.forEach(i),Il.forEach(i);for(var a=0;a<Wr.length;a++){var l=Wr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Wr.length&&(a=Wr[0],a.blockedOn===null);)Dv(a),a.blockedOn===null&&Wr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[jt]||null;if(typeof d=="function")_||Nv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[jt]||null)S=_.formAction;else if(om(f)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Nv(a)}}}function Ov(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function um(t){this._internalRoot=t}Wc.prototype.render=um.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=xn();bv(a,l,t,i,null,null)},Wc.prototype.unmount=um.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;bv(t.current,2,null,t,null,null),Nc(),i[pi]=null}};function Wc(t){this._internalRoot=t}Wc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Nu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Wr.length&&i!==0&&i<Wr[a].priority;a++);Wr.splice(a,0,t),a===0&&Dv(t)}};var Mv=e.version;if(Mv!=="19.2.4")throw Error(s(527,Mv,"19.2.4"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var m1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{Xn=Jc.inject(m1),Gt=Jc}catch{}}return Nl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=jy,d=By,_=Hy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Tv(t,1,!1,null,null,a,l,null,f,d,_,Ov),t[pi]=i.current,Fd(t),new um(i)},Nl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=jy,_=By,S=Hy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=Tv(t,1,!0,i,a??null,l,f,N,d,_,S,Ov),i.context=Sv(null),a=i.current,l=xn(),l=Is(l),f=Ur(l),f.callback=null,Lr(a,f,l),a=l,i.current.lanes=a,Rs(i,a),Ni(i),t[pi]=i.current,Fd(t),new Wc(i)},Nl.version="19.2.4",Nl}var qv;function R1(){if(qv)return fm.exports;qv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),fm.exports=w1(),fm.exports}var C1=R1();var Fv="popstate";function I1(r={}){function e(o,u){let{pathname:h="/",search:m="",hash:p=""}=fa(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),km("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Wl(u))}function s(o,u){ci(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return x1(e,n,s,r)}function ct(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ci(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function D1(){return Math.random().toString(36).substring(2,10)}function Gv(r,e){return{usr:r.state,key:r.key,idx:e}}function km(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?fa(e):e,state:n,key:e&&e.key||s||D1()}}function Wl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function fa(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function x1(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function T(){m="POP";let D=E(),P=D==null?null:D-g;g=D,p&&p({action:m,location:H.location,delta:P})}function A(D,P){m="PUSH";let B=km(H.location,D,P);n&&n(B,D),g=E()+1;let Z=Gv(B,g),se=H.createHref(B);try{h.pushState(Z,"",se)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;o.location.assign(se)}u&&p&&p({action:m,location:H.location,delta:1})}function I(D,P){m="REPLACE";let B=km(H.location,D,P);n&&n(B,D),g=E();let Z=Gv(B,g),se=H.createHref(B);h.replaceState(Z,"",se),u&&p&&p({action:m,location:H.location,delta:0})}function F(D){return N1(D)}let H={get action(){return m},get location(){return r(o,h)},listen(D){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Fv,T),p=D,()=>{o.removeEventListener(Fv,T),p=null}},createHref(D){return e(o,D)},createURL:F,encodeLocation(D){let P=F(D);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:A,replace:I,go(D){return h.go(D)}};return H}function N1(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Wl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function MT(r,e,n="/"){return O1(r,e,n,!1)}function O1(r,e,n,s){let o=typeof e=="string"?fa(e):e,u=pr(o.pathname||"/",n);if(u==null)return null;let h=kT(r);M1(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=F1(u);m=H1(h[p],g,s)}return m}function kT(r,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let E={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;ct(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=dr([s,E.relativePath]),A=n.concat(E);h.children&&h.children.length>0&&(ct(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),kT(h.children,e,A,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:j1(T,h.index),routesMeta:A})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of VT(h.path))u(h,m,!0,p)}),e}function VT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=VT(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function M1(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:B1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var k1=/^:[\w-]+$/,V1=3,U1=2,L1=1,P1=10,z1=-2,Kv=r=>r==="*";function j1(r,e){let n=r.split("/"),s=n.length;return n.some(Kv)&&(s+=z1),e&&(s+=U1),n.filter(o=>!Kv(o)).reduce((o,u)=>o+(k1.test(u)?V1:u===""?L1:P1),s)}function B1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function H1(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=Sh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),A=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Sh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:dr([u,T.pathname]),pathnameBase:Q1(dr([u,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(u=dr([u,T.pathnameBase]))}return h}function Sh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=q1(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},A)=>{if(E==="*"){let F=m[A]||"";h=u.slice(0,u.length-F.length).replace(/(.)\/+$/,"$1")}const I=m[A];return T&&!I?g[E]=void 0:g[E]=(I||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function q1(r,e=!1,n=!0){ci(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function F1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ci(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function pr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var G1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function K1(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?fa(r):r,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=Yv(n.substring(1),"/"):u=Yv(n,e)):u=e,{pathname:u,search:X1(s),hash:$1(o)}}function Yv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function gm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Y1(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function UT(r){let e=Y1(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function LT(r,e,n,s=!1){let o;typeof r=="string"?o=fa(r):(o={...r},ct(!o.pathname||!o.pathname.includes("?"),gm("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),gm("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),gm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}m=T>=0?e[T]:"/"}let p=K1(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var dr=r=>r.join("/").replace(/\/\/+/g,"/"),Q1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),X1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,$1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,W1=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function J1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Z1(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var PT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function zT(r,e){let n=r;if(typeof n!="string"||!G1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(PT)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=pr(h.pathname,e);h.origin===u.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{ci(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var jT=["POST","PUT","PATCH","DELETE"];new Set(jT);var ew=["GET",...jT];new Set(ew);var Eo=L.createContext(null);Eo.displayName="DataRouter";var qh=L.createContext(null);qh.displayName="DataRouterState";var tw=L.createContext(!1),BT=L.createContext({isTransitioning:!1});BT.displayName="ViewTransition";var nw=L.createContext(new Map);nw.displayName="Fetchers";var iw=L.createContext(null);iw.displayName="Await";var Qn=L.createContext(null);Qn.displayName="Navigation";var cu=L.createContext(null);cu.displayName="Location";var Hi=L.createContext({outlet:null,matches:[],isDataRoute:!1});Hi.displayName="Route";var up=L.createContext(null);up.displayName="RouteError";var HT="REACT_ROUTER_ERROR",rw="REDIRECT",sw="ROUTE_ERROR_RESPONSE";function aw(r){if(r.startsWith(`${HT}:${rw}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function ow(r){if(r.startsWith(`${HT}:${sw}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new W1(e.status,e.statusText,e.data)}catch{}}function lw(r,{relative:e}={}){ct(hu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=L.useContext(Qn),{hash:o,pathname:u,search:h}=fu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:dr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function hu(){return L.useContext(cu)!=null}function gs(){return ct(hu(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(cu).location}var qT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function FT(r){L.useContext(Qn).static||L.useLayoutEffect(r)}function cp(){let{isDataRoute:r}=L.useContext(Hi);return r?Tw():uw()}function uw(){ct(hu(),"useNavigate() may be used only in the context of a <Router> component.");let r=L.useContext(Eo),{basename:e,navigator:n}=L.useContext(Qn),{matches:s}=L.useContext(Hi),{pathname:o}=gs(),u=JSON.stringify(UT(s)),h=L.useRef(!1);return FT(()=>{h.current=!0}),L.useCallback((p,g={})=>{if(ci(h.current,qT),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=LT(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:dr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}L.createContext(null);function GT(){let{matches:r}=L.useContext(Hi),e=r[r.length-1];return e?e.params:{}}function fu(r,{relative:e}={}){let{matches:n}=L.useContext(Hi),{pathname:s}=gs(),o=JSON.stringify(UT(n));return L.useMemo(()=>LT(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function cw(r,e){return KT(r,e)}function KT(r,e,n,s,o){ct(hu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=L.useContext(Qn),{matches:h}=L.useContext(Hi),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let B=T&&T.path||"";QT(g,!T||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let A=gs(),I;if(e){let B=typeof e=="string"?fa(e):e;ct(E==="/"||B.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${B.pathname}" was given in the \`location\` prop.`),I=B}else I=A;let F=I.pathname||"/",H=F;if(E!=="/"){let B=E.replace(/^\//,"").split("/");H="/"+F.replace(/^\//,"").split("/").slice(B.length).join("/")}let D=MT(r,{pathname:H});ci(T||D!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),ci(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=pw(D&&D.map(B=>Object.assign({},B,{params:Object.assign({},p,B.params),pathname:dr([E,u.encodeLocation?u.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?E:dr([E,u.encodeLocation?u.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),h,n,s,o);return e&&P?L.createElement(cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},P):P}function hw(){let r=Ew(),e=J1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:o},n):null,h)}var fw=L.createElement(hw,null),YT=class extends L.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=ow(r.digest);n&&(r=n)}let e=r!==void 0?L.createElement(Hi.Provider,{value:this.props.routeContext},L.createElement(up.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?L.createElement(dw,{error:r},e):e}};YT.contextType=tw;var ym=new WeakMap;function dw({children:r,error:e}){let{basename:n}=L.useContext(Qn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=aw(e.digest);if(s){let o=ym.get(e);if(o)throw o;let u=zT(s.location,n);if(PT&&!ym.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw ym.set(e,h),h}return L.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function mw({routeContext:r,match:e,children:n}){let s=L.useContext(Eo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(Hi.Provider,{value:r},n)}function pw(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n?.errors;if(h!=null){let E=u.findIndex(T=>T.route.id&&h?.[T.route.id]!==void 0);ct(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:A,errors:I}=n,F=T.route.loader&&!A.hasOwnProperty(T.route.id)&&(!I||I[T.route.id]===void 0);if(T.route.lazy||F){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Z1(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,A)=>{let I,F=!1,H=null,D=null;n&&(I=h&&T.route.id?h[T.route.id]:void 0,H=T.route.errorElement||fw,m&&(p<0&&A===0?(QT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),F=!0,D=null):p===A&&(F=!0,D=T.route.hydrateFallbackElement||null)));let P=e.concat(u.slice(0,A+1)),B=()=>{let Z;return I?Z=H:F?Z=D:T.route.Component?Z=L.createElement(T.route.Component,null):T.route.element?Z=T.route.element:Z=E,L.createElement(mw,{match:T,routeContext:{outlet:E,matches:P,isDataRoute:n!=null},children:Z})};return n&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?L.createElement(YT,{location:n.location,revalidation:n.revalidation,component:H,error:I,children:B(),routeContext:{outlet:null,matches:P,isDataRoute:!0},onError:g}):B()},null)}function hp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gw(r){let e=L.useContext(Eo);return ct(e,hp(r)),e}function yw(r){let e=L.useContext(qh);return ct(e,hp(r)),e}function _w(r){let e=L.useContext(Hi);return ct(e,hp(r)),e}function fp(r){let e=_w(r),n=e.matches[e.matches.length-1];return ct(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function vw(){return fp("useRouteId")}function Ew(){let r=L.useContext(up),e=yw("useRouteError"),n=fp("useRouteError");return r!==void 0?r:e.errors?.[n]}function Tw(){let{router:r}=gw("useNavigate"),e=fp("useNavigate"),n=L.useRef(!1);return FT(()=>{n.current=!0}),L.useCallback(async(o,u={})=>{ci(n.current,qT),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Qv={};function QT(r,e,n){!e&&!Qv[r]&&(Qv[r]=!0,ci(!1,n))}L.memo(Sw);function Sw({routes:r,future:e,state:n,onError:s}){return KT(r,void 0,n,s,e)}function Ll(r){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){ct(!hu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=L.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=fa(n));let{pathname:g="/",search:E="",hash:T="",state:A=null,key:I="default"}=n,F=L.useMemo(()=>{let H=pr(g,m);return H==null?null:{location:{pathname:H,search:E,hash:T,state:A,key:I},navigationType:s}},[m,g,E,T,A,I,s]);return ci(F!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),F==null?null:L.createElement(Qn.Provider,{value:p},L.createElement(cu.Provider,{children:e,value:F}))}function Aw({children:r,location:e}){return cw(Vm(r),e)}function Vm(r,e=[]){let n=[];return L.Children.forEach(r,(s,o)=>{if(!L.isValidElement(s))return;let u=[...e,o];if(s.type===L.Fragment){n.push.apply(n,Vm(s.props.children,u));return}ct(s.type===Ll,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Vm(s.props.children,u)),n.push(h)}),n}var ch="get",hh="application/x-www-form-urlencoded";function Fh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function ww(r){return Fh(r)&&r.tagName.toLowerCase()==="button"}function Rw(r){return Fh(r)&&r.tagName.toLowerCase()==="form"}function Cw(r){return Fh(r)&&r.tagName.toLowerCase()==="input"}function Iw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Dw(r,e){return r.button===0&&(!e||e==="_self")&&!Iw(r)}var Zc=null;function xw(){if(Zc===null)try{new FormData(document.createElement("form"),0),Zc=!1}catch{Zc=!0}return Zc}var Nw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _m(r){return r!=null&&!Nw.has(r)?(ci(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hh}"`),null):r}function Ow(r,e){let n,s,o,u,h;if(Rw(r)){let m=r.getAttribute("action");s=m?pr(m,e):null,n=r.getAttribute("method")||ch,o=_m(r.getAttribute("enctype"))||hh,u=new FormData(r)}else if(ww(r)||Cw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?pr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||ch,o=_m(r.getAttribute("formenctype"))||_m(m.getAttribute("enctype"))||hh,u=new FormData(m,r),!xw()){let{name:g,type:E,value:T}=r;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,T)}}else{if(Fh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ch,s=null,o=hh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function dp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Mw(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&pr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function kw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Vw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Uw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await kw(u,n);return h.links?h.links():[]}return[]}));return jw(s.flat(1).filter(Vw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Xv(r,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function Lw(r,e,{includeHydrateFallback:n}={}){return Pw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Pw(r){return[...new Set(r)]}function zw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function jw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(zw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function XT(){let r=L.useContext(Eo);return dp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Bw(){let r=L.useContext(qh);return dp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var mp=L.createContext(void 0);mp.displayName="FrameworkContext";function $T(){let r=L.useContext(mp);return dp(r,"You must render this element inside a <HydratedRouter> element"),r}function Hw(r,e){let n=L.useContext(mp),[s,o]=L.useState(!1),[u,h]=L.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,A=L.useRef(null);L.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let H=P=>{P.forEach(B=>{h(B.isIntersecting)})},D=new IntersectionObserver(H,{threshold:.5});return A.current&&D.observe(A.current),()=>{D.disconnect()}}},[r]),L.useEffect(()=>{if(s){let H=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(H)}}},[s]);let I=()=>{o(!0)},F=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:Ol(m,I),onBlur:Ol(p,F),onMouseEnter:Ol(g,I),onMouseLeave:Ol(E,F),onTouchStart:Ol(T,I)}]:[!1,A,{}]}function Ol(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function qw({page:r,...e}){let{router:n}=XT(),s=L.useMemo(()=>MT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?L.createElement(Gw,{page:r,matches:s,...e}):null}function Fw(r){let{manifest:e,routeModules:n}=$T(),[s,o]=L.useState([]);return L.useEffect(()=>{let u=!1;return Uw(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function Gw({page:r,matches:e,...n}){let s=gs(),{future:o,manifest:u,routeModules:h}=$T(),{basename:m}=XT(),{loaderData:p,matches:g}=Bw(),E=L.useMemo(()=>Xv(r,e,g,u,s,"data"),[r,e,g,u,s]),T=L.useMemo(()=>Xv(r,e,g,u,s,"assets"),[r,e,g,u,s]),A=L.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let H=new Set,D=!1;if(e.forEach(B=>{let Z=u.routes[B.route.id];!Z||!Z.hasLoader||(!E.some(se=>se.route.id===B.route.id)&&B.route.id in p&&h[B.route.id]?.shouldRevalidate||Z.hasClientLoader?D=!0:H.add(B.route.id))}),H.size===0)return[];let P=Mw(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return D&&H.size>0&&P.searchParams.set("_routes",e.filter(B=>H.has(B.route.id)).map(B=>B.route.id).join(",")),[P.pathname+P.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,E,e,r,h]),I=L.useMemo(()=>Lw(T,u),[T,u]),F=Fw(T);return L.createElement(L.Fragment,null,A.map(H=>L.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...n})),I.map(H=>L.createElement("link",{key:H,rel:"modulepreload",href:H,...n})),F.map(({key:H,link:D})=>L.createElement("link",{key:H,nonce:n.nonce,...D,crossOrigin:D.crossOrigin??n.crossOrigin})))}function Kw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Yw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Yw&&(window.__reactRouterVersion="7.13.0")}catch{}function Qw({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=L.useRef();o.current==null&&(o.current=I1({window:s,v5Compat:!0}));let u=o.current,[h,m]=L.useState({action:u.action,location:u.location}),p=L.useCallback(g=>{n===!1?m(g):L.startTransition(()=>m(g))},[n]);return L.useLayoutEffect(()=>u.listen(p),[u,p]),L.createElement(bw,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var WT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JT=L.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:A,...I},F){let{basename:H,unstable_useTransitions:D}=L.useContext(Qn),P=typeof g=="string"&&WT.test(g),B=zT(g,H);g=B.to;let Z=lw(g,{relative:o}),[se,de,pe]=Hw(s,I),C=Jw(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:A,unstable_useTransitions:D});function R(O){e&&e(O),O.defaultPrevented||C(O)}let w=L.createElement("a",{...I,...pe,href:B.absoluteURL||Z,onClick:B.isExternal||u?e:R,ref:Kw(F,de),target:p,"data-discover":!P&&n==="render"?"true":void 0});return se&&!P?L.createElement(L.Fragment,null,w,L.createElement(qw,{page:Z})):w});JT.displayName="Link";var Xw=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let T=fu(h,{relative:g.relative}),A=gs(),I=L.useContext(qh),{navigator:F,basename:H}=L.useContext(Qn),D=I!=null&&iR(T)&&m===!0,P=F.encodeLocation?F.encodeLocation(T).pathname:T.pathname,B=A.pathname,Z=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||(B=B.toLowerCase(),Z=Z?Z.toLowerCase():null,P=P.toLowerCase()),Z&&H&&(Z=pr(Z,H)||Z);const se=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let de=B===P||!o&&B.startsWith(P)&&B.charAt(se)==="/",pe=Z!=null&&(Z===P||!o&&Z.startsWith(P)&&Z.charAt(P.length)==="/"),C={isActive:de,isPending:pe,isTransitioning:D},R=de?e:void 0,w;typeof s=="function"?w=s(C):w=[s,de?"active":null,pe?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(C):u;return L.createElement(JT,{...g,"aria-current":R,className:w,ref:E,style:O,to:h,viewTransition:m},typeof p=="function"?p(C):p)});Xw.displayName="NavLink";var $w=L.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=ch,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:A,...I},F)=>{let{unstable_useTransitions:H}=L.useContext(Qn),D=tR(),P=nR(m,{relative:g}),B=h.toLowerCase()==="get"?"get":"post",Z=typeof m=="string"&&WT.test(m),se=de=>{if(p&&p(de),de.defaultPrevented)return;de.preventDefault();let pe=de.nativeEvent.submitter,C=pe?.getAttribute("formmethod")||h,R=()=>D(pe||de.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:A});H&&n!==!1?L.startTransition(()=>R()):R()};return L.createElement("form",{ref:F,method:B,action:P,onSubmit:s?p:se,...I,"data-discover":!Z&&r==="render"?"true":void 0})});$w.displayName="Form";function Ww(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZT(r){let e=L.useContext(Eo);return ct(e,Ww(r)),e}function Jw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=cp(),E=gs(),T=fu(r,{relative:u});return L.useCallback(A=>{if(Dw(A,e)){A.preventDefault();let I=n!==void 0?n:Wl(E)===Wl(T),F=()=>g(r,{replace:I,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});p?L.startTransition(()=>F()):F()}},[E,g,T,n,s,e,r,o,u,h,m,p])}var Zw=0,eR=()=>`__${String(++Zw)}__`;function tR(){let{router:r}=ZT("useSubmit"),{basename:e}=L.useContext(Qn),n=vw(),s=r.fetch,o=r.navigate;return L.useCallback(async(u,h={})=>{let{action:m,method:p,encType:g,formData:E,body:T}=Ow(u,e);if(h.navigate===!1){let A=h.fetcherKey||eR();await s(A,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:T,formMethod:h.method||p,formEncType:h.encType||g,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:T,formMethod:h.method||p,formEncType:h.encType||g,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function nR(r,{relative:e}={}){let{basename:n}=L.useContext(Qn),s=L.useContext(Hi);ct(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...fu(r||".",{relative:e})},h=gs();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:dr([n,u.pathname])),Wl(u)}function iR(r,{relative:e}={}){let n=L.useContext(BT);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ZT("useViewTransitionState"),o=fu(r,{relative:e});if(!n.isTransitioning)return!1;let u=pr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=pr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Sh(o.pathname,h)!=null||Sh(o.pathname,u)!=null}const Wt=[];for(let r=0;r<256;++r)Wt.push((r+256).toString(16).slice(1));function rR(r,e=0){return(Wt[r[e+0]]+Wt[r[e+1]]+Wt[r[e+2]]+Wt[r[e+3]]+"-"+Wt[r[e+4]]+Wt[r[e+5]]+"-"+Wt[r[e+6]]+Wt[r[e+7]]+"-"+Wt[r[e+8]]+Wt[r[e+9]]+"-"+Wt[r[e+10]]+Wt[r[e+11]]+Wt[r[e+12]]+Wt[r[e+13]]+Wt[r[e+14]]+Wt[r[e+15]]).toLowerCase()}let vm;const sR=new Uint8Array(16);function aR(){if(!vm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");vm=crypto.getRandomValues.bind(crypto)}return vm(sR)}const oR=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),$v={randomUUID:oR};function lR(r,e,n){r=r||{};const s=r.random??r.rng?.()??aR();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,rR(s)}function Wv(r,e,n){return $v.randomUUID&&!r?$v.randomUUID():lR(r)}const uR=()=>{};var Jv={};const e0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},cR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},t0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,I=g&63;p||(I=64,h||(A=64)),s.push(n[E],n[T],n[A],n[I])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(e0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):cR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new hR;const A=u<<2|m>>4;if(s.push(A),g!==64){const I=m<<4&240|g>>2;if(s.push(I),T!==64){const F=g<<6&192|T;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class hR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fR=function(r){const e=e0(r);return t0.encodeByteArray(e,!0)},bh=function(r){return fR(r).replace(/\./g,"")},n0=function(r){try{return t0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function dR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const mR=()=>dR().__FIREBASE_DEFAULTS__,pR=()=>{if(typeof process>"u"||typeof Jv>"u")return;const r=Jv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},gR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&n0(r[1]);return e&&JSON.parse(e)},Gh=()=>{try{return uR()||mR()||pR()||gR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},i0=r=>Gh()?.emulatorHosts?.[r],r0=r=>{const e=i0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},s0=()=>Gh()?.config,a0=r=>Gh()?.[`_${r}`];class yR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function ys(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pp(r){return(await fetch(r,{credentials:"include"})).ok}function o0(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[bh(JSON.stringify(n)),bh(JSON.stringify(h)),""].join(".")}const Fl={};function _R(){const r={prod:[],emulator:[]};for(const e of Object.keys(Fl))Fl[e]?r.emulator.push(e):r.prod.push(e);return r}function vR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Zv=!1;function gp(r,e){if(typeof window>"u"||typeof document>"u"||!ys(window.location.host)||Fl[r]===e||Fl[r]||Zv)return;Fl[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=_R().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,I){A.setAttribute("width","24"),A.setAttribute("id",I),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Zv=!0,h()},A}function E(A,I){A.setAttribute("id",I),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=vR(s),I=n("text"),F=document.getElementById(I)||document.createElement("span"),H=n("learnmore"),D=document.getElementById(H)||document.createElement("a"),P=n("preprendIcon"),B=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const Z=A.element;m(Z),E(D,H);const se=g();p(B,P),Z.append(B,F,D,se),document.body.appendChild(Z)}u?(F.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ER(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function TR(){const r=Gh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function AR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wR(){const r=an();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function RR(){return!TR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CR(){try{return typeof indexedDB=="object"}catch{return!1}}function IR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const DR="FirebaseError";class qi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=DR,Object.setPrototypeOf(this,qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,du.prototype.create)}}class du{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?xR(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new qi(o,m,s)}}function xR(r,e){return r.replace(NR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const NR=/\{\$([^}]+)}/g;function OR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function sa(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(eE(u)&&eE(h)){if(!sa(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function eE(r){return r!==null&&typeof r=="object"}function mu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Pl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function zl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function MR(r,e){const n=new kR(r,e);return n.subscribe.bind(n)}class kR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");VR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Em),o.error===void 0&&(o.error=Em),o.complete===void 0&&(o.complete=Em);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Em(){}function St(r){return r&&r._delegate?r._delegate:r}class us{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Zs="[DEFAULT]";class UR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new yR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PR(e))try{this.getOrInitializeService({instanceIdentifier:Zs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zs){return this.instances.has(e)}getOptions(e=Zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:LR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Zs){return this.component?this.component.multipleInstances?e:Zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LR(r){return r===Zs?void 0:r}function PR(r){return r.instantiationMode==="EAGER"}class zR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new UR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const jR={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},BR=Pe.INFO,HR={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},qR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=HR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yp{constructor(e){this.name=e,this._logLevel=BR,this._logHandler=qR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const FR=(r,e)=>e.some(n=>r instanceof n);let tE,nE;function GR(){return tE||(tE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KR(){return nE||(nE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const l0=new WeakMap,Um=new WeakMap,u0=new WeakMap,Tm=new WeakMap,_p=new WeakMap;function YR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(ss(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&l0.set(n,r)}).catch(()=>{}),_p.set(e,r),e}function QR(r){if(Um.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Um.set(r,e)}let Lm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Um.get(r);if(e==="objectStoreNames")return r.objectStoreNames||u0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ss(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function XR(r){Lm=r(Lm)}function $R(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Sm(this),e,...n);return u0.set(s,e.sort?e.sort():[e]),ss(s)}:KR().includes(r)?function(...e){return r.apply(Sm(this),e),ss(l0.get(this))}:function(...e){return ss(r.apply(Sm(this),e))}}function WR(r){return typeof r=="function"?$R(r):(r instanceof IDBTransaction&&QR(r),FR(r,GR())?new Proxy(r,Lm):r)}function ss(r){if(r instanceof IDBRequest)return YR(r);if(Tm.has(r))return Tm.get(r);const e=WR(r);return e!==r&&(Tm.set(r,e),_p.set(e,r)),e}const Sm=r=>_p.get(r);function JR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=ss(h);return s&&h.addEventListener("upgradeneeded",p=>{s(ss(h.result),p.oldVersion,p.newVersion,ss(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const ZR=["get","getKey","getAll","getAllKeys","count"],eC=["put","add","delete","clear"],bm=new Map;function iE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(bm.get(e))return bm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=eC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ZR.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return bm.set(e,u),u}XR(r=>({...r,get:(e,n,s)=>iE(e,n)||r.get(e,n,s),has:(e,n)=>!!iE(e,n)||r.has(e,n)}));class tC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function nC(r){return r.getComponent()?.type==="VERSION"}const Pm="@firebase/app",rE="0.14.7";const gr=new yp("@firebase/app"),iC="@firebase/app-compat",rC="@firebase/analytics-compat",sC="@firebase/analytics",aC="@firebase/app-check-compat",oC="@firebase/app-check",lC="@firebase/auth",uC="@firebase/auth-compat",cC="@firebase/database",hC="@firebase/data-connect",fC="@firebase/database-compat",dC="@firebase/functions",mC="@firebase/functions-compat",pC="@firebase/installations",gC="@firebase/installations-compat",yC="@firebase/messaging",_C="@firebase/messaging-compat",vC="@firebase/performance",EC="@firebase/performance-compat",TC="@firebase/remote-config",SC="@firebase/remote-config-compat",bC="@firebase/storage",AC="@firebase/storage-compat",wC="@firebase/firestore",RC="@firebase/ai",CC="@firebase/firestore-compat",IC="firebase",DC="12.8.0";const zm="[DEFAULT]",xC={[Pm]:"fire-core",[iC]:"fire-core-compat",[sC]:"fire-analytics",[rC]:"fire-analytics-compat",[oC]:"fire-app-check",[aC]:"fire-app-check-compat",[lC]:"fire-auth",[uC]:"fire-auth-compat",[cC]:"fire-rtdb",[hC]:"fire-data-connect",[fC]:"fire-rtdb-compat",[dC]:"fire-fn",[mC]:"fire-fn-compat",[pC]:"fire-iid",[gC]:"fire-iid-compat",[yC]:"fire-fcm",[_C]:"fire-fcm-compat",[vC]:"fire-perf",[EC]:"fire-perf-compat",[TC]:"fire-rc",[SC]:"fire-rc-compat",[bC]:"fire-gcs",[AC]:"fire-gcs-compat",[wC]:"fire-fst",[CC]:"fire-fst-compat",[RC]:"fire-vertex","fire-js":"fire-js",[IC]:"fire-js-all"};const Ah=new Map,NC=new Map,jm=new Map;function sE(r,e){try{r.container.addComponent(e)}catch(n){gr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function aa(r){const e=r.name;if(jm.has(e))return gr.debug(`There were multiple attempts to register component ${e}.`),!1;jm.set(e,r);for(const n of Ah.values())sE(n,r);for(const n of NC.values())sE(n,r);return!0}function Kh(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function vn(r){return r==null?!1:r.settings!==void 0}const OC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},as=new du("app","Firebase",OC);class MC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw as.create("app-deleted",{appName:this._name})}}const da=DC;function c0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:zm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw as.create("bad-app-name",{appName:String(o)});if(n||(n=s0()),!n)throw as.create("no-options");const u=Ah.get(o);if(u){if(sa(n,u.options)&&sa(s,u.config))return u;throw as.create("duplicate-app",{appName:o})}const h=new zR(o);for(const p of jm.values())h.addComponent(p);const m=new MC(n,s,h);return Ah.set(o,m),m}function vp(r=zm){const e=Ah.get(r);if(!e&&r===zm&&s0())return c0();if(!e)throw as.create("no-app",{appName:r});return e}function ki(r,e,n){let s=xC[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gr.warn(h.join(" "));return}aa(new us(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const kC="firebase-heartbeat-database",VC=1,Jl="firebase-heartbeat-store";let Am=null;function h0(){return Am||(Am=JR(kC,VC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Jl)}catch(n){console.warn(n)}}}}).catch(r=>{throw as.create("idb-open",{originalErrorMessage:r.message})})),Am}async function UC(r){try{const n=(await h0()).transaction(Jl),s=await n.objectStore(Jl).get(f0(r));return await n.done,s}catch(e){if(e instanceof qi)gr.warn(e.message);else{const n=as.create("idb-get",{originalErrorMessage:e?.message});gr.warn(n.message)}}}async function aE(r,e){try{const s=(await h0()).transaction(Jl,"readwrite");await s.objectStore(Jl).put(e,f0(r)),await s.done}catch(n){if(n instanceof qi)gr.warn(n.message);else{const s=as.create("idb-set",{originalErrorMessage:n?.message});gr.warn(s.message)}}}function f0(r){return`${r.name}!${r.options.appId}`}const LC=1024,PC=30;class zC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=oE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>PC){const o=HC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){gr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=oE(),{heartbeatsToSend:n,unsentEntries:s}=jC(this._heartbeatsCache.heartbeats),o=bh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return gr.warn(e),""}}}function oE(){return new Date().toISOString().substring(0,10)}function jC(r,e=LC){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),lE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),lE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class BC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CR()?IR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await UC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return aE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return aE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function lE(r){return bh(JSON.stringify({version:2,heartbeats:r})).length}function HC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function qC(r){aa(new us("platform-logger",e=>new tC(e),"PRIVATE")),aa(new us("heartbeat",e=>new zC(e),"PRIVATE")),ki(Pm,rE,r),ki(Pm,rE,"esm2020"),ki("fire-js","")}qC("");var FC="firebase",GC="12.8.0";ki(FC,GC,"app");function d0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KC=d0,m0=new du("auth","Firebase",d0());const wh=new yp("@firebase/auth");function YC(r,...e){wh.logLevel<=Pe.WARN&&wh.warn(`Auth (${da}): ${r}`,...e)}function fh(r,...e){wh.logLevel<=Pe.ERROR&&wh.error(`Auth (${da}): ${r}`,...e)}function Yn(r,...e){throw Tp(r,...e)}function li(r,...e){return Tp(r,...e)}function Ep(r,e,n){const s={...KC(),[e]:n};return new du("auth","Firebase",s).create(e,{appName:r.name})}function mr(r){return Ep(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function QC(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Yn(r,"argument-error"),Ep(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Tp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return m0.create(r,...e)}function be(r,e,...n){if(!r)throw Tp(e,...n)}function hr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw fh(e),new Error(e)}function yr(r,e){r||hr(e)}function Bm(){return typeof self<"u"&&self.location?.href||""}function XC(){return uE()==="http:"||uE()==="https:"}function uE(){return typeof self<"u"&&self.location?.protocol||null}function $C(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XC()||bR()||"connection"in navigator)?navigator.onLine:!0}function WC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class pu{constructor(e,n){this.shortDelay=e,this.longDelay=n,yr(n>e,"Short delay should be less than long delay!"),this.isMobile=ER()||AR()}get(){return $C()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Sp(r,e){yr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class p0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const JC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const ZC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eI=new pu(3e4,6e4);function _s(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function vs(r,e,n,s,o={}){return g0(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=mu({key:r.config.apiKey,...h}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return SR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&ys(r.emulatorConfig.host)&&(g.credentials="include"),p0.fetch()(await y0(r,r.config.apiHost,n,m),g)})}async function g0(r,e,n){r._canInitEmulator=!1;const s={...JC,...e};try{const o=new nI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw eh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw eh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw eh(r,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Ep(r,E,g);Yn(r,E)}}catch(o){if(o instanceof qi)throw o;Yn(r,"network-request-failed",{message:String(o)})}}async function gu(r,e,n,s,o={}){const u=await vs(r,e,n,s,o);return"mfaPendingCredential"in u&&Yn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function y0(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?Sp(r.config,o):`${r.config.apiScheme}://${o}`;return ZC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function tI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(li(this.auth,"network-request-failed")),eI.get())})}}function eh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=li(r,e,s);return o.customData._tokenResponse=n,o}function cE(r){return r!==void 0&&r.enterprise!==void 0}class iI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return tI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function rI(r,e){return vs(r,"GET","/v2/recaptchaConfig",_s(r,e))}async function sI(r,e){return vs(r,"POST","/v1/accounts:delete",e)}async function Rh(r,e){return vs(r,"POST","/v1/accounts:lookup",e)}function Gl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aI(r,e=!1){const n=St(r),s=await n.getIdToken(e),o=bp(s);be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:Gl(wm(o.auth_time)),issuedAtTime:Gl(wm(o.iat)),expirationTime:Gl(wm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function wm(r){return Number(r)*1e3}function bp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return fh("JWT malformed, contained fewer than 3 sections"),null;try{const o=n0(n);return o?JSON.parse(o):(fh("Failed to decode base64 JWT payload"),null)}catch(o){return fh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function hE(r){const e=bp(r);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Zl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof qi&&oI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function oI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class lI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Hm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ch(r){const e=r.auth,n=await r.getIdToken(),s=await Zl(r,Rh(e,{idToken:n}));be(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?_0(o.providerUserInfo):[],h=cI(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!h?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Hm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function uI(r){const e=St(r);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function _0(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function hI(r,e){const n=await g0(r,{},async()=>{const s=mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await y0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&ys(r.emulatorConfig.host)&&(p.credentials="include"),p0.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function fI(r,e){return vs(r,"POST","/v2/accounts:revokeToken",_s(r,e))}class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=hE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await hI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new oo;return s&&(be(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(be(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return hr("not implemented")}}function Zr(r,e){be(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class oi{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new lI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Hm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Zl(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return aI(this,e)}reload(){return uI(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new oi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ch(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vn(this.auth.app))return Promise.reject(mr(this.auth));const e=await this.getIdToken();return await Zl(this,sI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:A,isAnonymous:I,providerData:F,stsTokenManager:H}=n;be(T&&H,e,"internal-error");const D=oo.fromJSON(this.name,H);be(typeof T=="string",e,"internal-error"),Zr(s,e.name),Zr(o,e.name),be(typeof A=="boolean",e,"internal-error"),be(typeof I=="boolean",e,"internal-error"),Zr(u,e.name),Zr(h,e.name),Zr(m,e.name),Zr(p,e.name),Zr(g,e.name),Zr(E,e.name);const P=new oi({uid:T,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:I,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:D,createdAt:g,lastLoginAt:E});return F&&Array.isArray(F)&&(P.providerData=F.map(B=>({...B}))),p&&(P._redirectEventId=p),P}static async _fromIdTokenResponse(e,n,s=!1){const o=new oo;o.updateFromServerResponse(n);const u=new oi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ch(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?_0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new oo;m.updateFromIdToken(s);const p=new oi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Hm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const fE=new Map;function fr(r){yr(r instanceof Function,"Expected a class definition");let e=fE.get(r);return e?(yr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,fE.set(r,e),e)}class v0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}v0.type="NONE";const dE=v0;function dh(r,e,n){return`firebase:${r}:${e}:${n}`}class lo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=dh(this.userKey,o.apiKey,u),this.fullPersistenceKey=dh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Rh(this.auth,{idToken:e}).catch(()=>{});return n?oi._fromGetAccountInfoResponse(this.auth,n,e):null}return oi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new lo(fr(dE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||fr(dE);const h=dh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(h);if(E){let T;if(typeof E=="string"){const A=await Rh(e,{idToken:E}).catch(()=>{});if(!A)break;T=await oi._fromGetAccountInfoResponse(e,A,E)}else T=oi._fromJSON(e,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new lo(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new lo(u,e,s))}}function mE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(b0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(E0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(w0(e))return"Blackberry";if(R0(e))return"Webos";if(T0(e))return"Safari";if((e.includes("chrome/")||S0(e))&&!e.includes("edge/"))return"Chrome";if(A0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function E0(r=an()){return/firefox\//i.test(r)}function T0(r=an()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function S0(r=an()){return/crios\//i.test(r)}function b0(r=an()){return/iemobile/i.test(r)}function A0(r=an()){return/android/i.test(r)}function w0(r=an()){return/blackberry/i.test(r)}function R0(r=an()){return/webos/i.test(r)}function Ap(r=an()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function dI(r=an()){return Ap(r)&&!!window.navigator?.standalone}function mI(){return wR()&&document.documentMode===10}function C0(r=an()){return Ap(r)||A0(r)||R0(r)||w0(r)||/windows phone/i.test(r)||b0(r)}function I0(r,e=[]){let n;switch(r){case"Browser":n=mE(an());break;case"Worker":n=`${mE(an())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${da}/${s}`}class pI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function gI(r,e={}){return vs(r,"GET","/v2/passwordPolicy",_s(r,e))}const yI=6;class _I{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??yI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class vI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pE(this),this.idTokenSubscription=new pE(this),this.beforeStateQueue=new pI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await lo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Rh(this,{idToken:e}),s=await oi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(vn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vn(this.app))return Promise.reject(mr(this));const n=e?St(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return vn(this.app)?Promise.reject(mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vn(this.app)?Promise.reject(mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await gI(this),n=new _I(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new du("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await fI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fr(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=I0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&YC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Es(r){return St(r)}class pE{constructor(e){this.auth=e,this.observer=null,this.addObserver=MR(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Yh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EI(r){Yh=r}function D0(r){return Yh.loadJS(r)}function TI(){return Yh.recaptchaEnterpriseScript}function SI(){return Yh.gapiScript}function bI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class AI{constructor(){this.enterprise=new wI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class wI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const RI="recaptcha-enterprise",x0="NO_RECAPTCHA";class CI{constructor(e){this.type=RI,this.auth=Es(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{rI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new iI(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;cE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(x0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new AI().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&cE(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=TI();p.length!==0&&(p+=m),D0(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function gE(r,e,n,s=!1,o=!1){const u=new CI(r);let h;if(o)h=x0;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function qm(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await gE(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await gE(r,e,n,n==="getOobCode");return s(r,h)}else return Promise.reject(u)})}function II(r,e){const n=Kh(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(sa(u,e??{}))return o;Yn(o,"already-initialized")}return n.initialize({options:e})}function DI(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(fr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function xI(r,e,n){const s=Es(r);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=N0(e),{host:h,port:m}=NI(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(sa(g,s.config.emulator)&&sa(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,ys(h)?(pp(`${u}//${h}${p}`),gp("Auth",!0)):OI()}function N0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function NI(r){const e=N0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:yE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:yE(h)}}}function yE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function OI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class wp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hr("not implemented")}_getIdTokenResponse(e){return hr("not implemented")}_linkToIdToken(e,n){return hr("not implemented")}_getReauthenticationResolver(e){return hr("not implemented")}}async function MI(r,e){return vs(r,"POST","/v1/accounts:signUp",e)}async function kI(r,e){return gu(r,"POST","/v1/accounts:signInWithPassword",_s(r,e))}async function VI(r,e){return gu(r,"POST","/v1/accounts:signInWithEmailLink",_s(r,e))}async function UI(r,e){return gu(r,"POST","/v1/accounts:signInWithEmailLink",_s(r,e))}class eu extends wp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new eu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new eu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qm(e,n,"signInWithPassword",kI);case"emailLink":return VI(e,{email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qm(e,s,"signUpPassword",MI);case"emailLink":return UI(e,{idToken:n,email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function uo(r,e){return gu(r,"POST","/v1/accounts:signInWithIdp",_s(r,e))}const LI="http://localhost";class oa extends wp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new oa(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return uo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,uo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,uo(e,n)}buildRequest(){const e={requestUri:LI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mu(n)}return e}}function PI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zI(r){const e=Pl(zl(r)).link,n=e?Pl(zl(e)).deep_link_id:null,s=Pl(zl(r)).deep_link_id;return(s?Pl(zl(s)).link:null)||s||n||e||r}class Rp{constructor(e){const n=Pl(zl(e)),s=n.apiKey??null,o=n.oobCode??null,u=PI(n.mode??null);be(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=zI(e);try{return new Rp(n)}catch{return null}}}class To{constructor(){this.providerId=To.PROVIDER_ID}static credential(e,n){return eu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Rp.parseLink(n);return be(s,"argument-error"),eu._fromEmailAndCode(e,s.code,s.tenantId)}}To.PROVIDER_ID="password";To.EMAIL_PASSWORD_SIGN_IN_METHOD="password";To.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Cp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class yu extends Cp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class es extends yu{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.FACEBOOK_SIGN_IN_METHOD="facebook.com";es.PROVIDER_ID="facebook.com";class cr extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oa._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return cr.credential(n,s)}catch{return null}}}cr.GOOGLE_SIGN_IN_METHOD="google.com";cr.PROVIDER_ID="google.com";class ts extends yu{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.GITHUB_SIGN_IN_METHOD="github.com";ts.PROVIDER_ID="github.com";class ns extends yu{constructor(){super("twitter.com")}static credential(e,n){return oa._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ns.credential(n,s)}catch{return null}}}ns.TWITTER_SIGN_IN_METHOD="twitter.com";ns.PROVIDER_ID="twitter.com";async function jI(r,e){return gu(r,"POST","/v1/accounts:signUp",_s(r,e))}class la{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await oi._fromIdTokenResponse(e,s,o),h=_E(s);return new la({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=_E(s);return new la({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function _E(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Ih extends qi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ih.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Ih(e,n,s,o)}}function O0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ih._fromErrorAndOperation(r,u,e,s):u})}async function BI(r,e,n=!1){const s=await Zl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return la._forOperation(r,"link",s)}async function HI(r,e,n=!1){const{auth:s}=r;if(vn(s.app))return Promise.reject(mr(s));const o="reauthenticate";try{const u=await Zl(r,O0(s,o,e,r),n);be(u.idToken,s,"internal-error");const h=bp(u.idToken);be(h,s,"internal-error");const{sub:m}=h;return be(r.uid===m,s,"user-mismatch"),la._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Yn(s,"user-mismatch"),u}}async function M0(r,e,n=!1){if(vn(r.app))return Promise.reject(mr(r));const s="signIn",o=await O0(r,s,e),u=await la._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function qI(r,e){return M0(Es(r),e)}async function k0(r){const e=Es(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function FI(r,e,n){if(vn(r.app))return Promise.reject(mr(r));const s=Es(r),h=await qm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&k0(r),p}),m=await la._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function GI(r,e,n){return vn(r.app)?Promise.reject(mr(r)):qI(St(r),To.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&k0(r),s})}function KI(r,e,n,s){return St(r).onIdTokenChanged(e,n,s)}function YI(r,e,n){return St(r).beforeAuthStateChanged(e,n)}function QI(r,e,n,s){return St(r).onAuthStateChanged(e,n,s)}function XI(r){return St(r).signOut()}const Dh="__sak";class V0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const $I=1e3,WI=10;class U0 extends V0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=C0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);mI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,WI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},$I)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}U0.type="LOCAL";const JI=U0;class L0 extends V0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}L0.type="SESSION";const P0=L0;function ZI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Qh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await ZI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qh.receivers=[];function Ip(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class e2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Ip("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Vi(){return window}function t2(r){Vi().location.href=r}function z0(){return typeof Vi().WorkerGlobalScope<"u"&&typeof Vi().importScripts=="function"}async function n2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function i2(){return navigator?.serviceWorker?.controller||null}function r2(){return z0()?self:null}const j0="firebaseLocalStorageDb",s2=1,xh="firebaseLocalStorage",B0="fbase_key";class _u{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xh(r,e){return r.transaction([xh],e?"readwrite":"readonly").objectStore(xh)}function a2(){const r=indexedDB.deleteDatabase(j0);return new _u(r).toPromise()}function Fm(){const r=indexedDB.open(j0,s2);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(xh,{keyPath:B0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(xh)?e(s):(s.close(),await a2(),e(await Fm()))})})}async function vE(r,e,n){const s=Xh(r,!0).put({[B0]:e,value:n});return new _u(s).toPromise()}async function o2(r,e){const n=Xh(r,!1).get(e),s=await new _u(n).toPromise();return s===void 0?null:s.value}function EE(r,e){const n=Xh(r,!0).delete(e);return new _u(n).toPromise()}const l2=800,u2=3;class H0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>u2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return z0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qh._getInstance(r2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await n2(),!this.activeServiceWorker)return;this.sender=new e2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||i2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fm();return await vE(e,Dh,"1"),await EE(e,Dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>vE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>o2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>EE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Xh(o,!1).getAll();return new _u(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),l2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}H0.type="LOCAL";const c2=H0;new pu(3e4,6e4);function q0(r,e){return e?fr(e):(be(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Dp extends wp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function h2(r){return M0(r.auth,new Dp(r),r.bypassAuthState)}function f2(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),HI(n,new Dp(r),r.bypassAuthState)}async function d2(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),BI(n,new Dp(r),r.bypassAuthState)}class F0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return h2;case"linkViaPopup":case"linkViaRedirect":return d2;case"reauthViaPopup":case"reauthViaRedirect":return f2;default:Yn(this.auth,"internal-error")}}resolve(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const m2=new pu(2e3,1e4);async function p2(r,e,n){if(vn(r.app))return Promise.reject(li(r,"operation-not-supported-in-this-environment"));const s=Es(r);QC(r,e,Cp);const o=q0(s,n);return new ea(s,"signInViaPopup",e,o).executeNotNull()}class ea extends F0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ea.currentPopupAction&&ea.currentPopupAction.cancel(),ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){yr(this.filter.length===1,"Popup operations only handle one event");const e=Ip();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,m2.get())};e()}}ea.currentPopupAction=null;const g2="pendingRedirect",mh=new Map;class y2 extends F0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=mh.get(this.auth._key());if(!e){try{const s=await _2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}mh.set(this.auth._key(),e)}return this.bypassAuthState||mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _2(r,e){const n=T2(e),s=E2(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function v2(r,e){mh.set(r._key(),e)}function E2(r){return fr(r._redirectPersistence)}function T2(r){return dh(g2,r.config.apiKey,r.name)}async function S2(r,e,n=!1){if(vn(r.app))return Promise.reject(mr(r));const s=Es(r),o=q0(s,e),h=await new y2(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const b2=600*1e3;class A2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!w2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!G0(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(li(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=b2&&this.cachedEventUids.clear(),this.cachedEventUids.has(TE(e))}saveEventToCache(e){this.cachedEventUids.add(TE(e)),this.lastProcessedEventTime=Date.now()}}function TE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function G0({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function w2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return G0(r);default:return!1}}async function R2(r,e={}){return vs(r,"GET","/v1/projects",e)}const C2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,I2=/^https?/;async function D2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await R2(r);for(const n of e)try{if(x2(n))return}catch{}Yn(r,"unauthorized-domain")}function x2(r){const e=Bm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!I2.test(n))return!1;if(C2.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const N2=new pu(3e4,6e4);function SE(){const r=Vi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function O2(r){return new Promise((e,n)=>{function s(){SE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{SE(),n(li(r,"network-request-failed"))},timeout:N2.get()})}if(Vi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Vi().gapi?.load)s();else{const o=bI("iframefcb");return Vi()[o]=()=>{gapi.load?s():n(li(r,"network-request-failed"))},D0(`${SI()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw ph=null,e})}let ph=null;function M2(r){return ph=ph||O2(r),ph}const k2=new pu(5e3,15e3),V2="__/auth/iframe",U2="emulator/auth/iframe",L2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},P2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function z2(r){const e=r.config;be(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Sp(e,U2):`https://${r.config.authDomain}/${V2}`,s={apiKey:e.apiKey,appName:r.name,v:da},o=P2.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${mu(s).slice(1)}`}async function j2(r){const e=await M2(r),n=Vi().gapi;return be(n,r,"internal-error"),e.open({where:document.body,url:z2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:L2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=li(r,"network-request-failed"),m=Vi().setTimeout(()=>{u(h)},k2.get());function p(){Vi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}const B2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},H2=500,q2=600,F2="_blank",G2="http://localhost";class bE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function K2(r,e,n,s=H2,o=q2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...B2,width:s.toString(),height:o.toString(),top:u,left:h},g=an().toLowerCase();n&&(m=S0(g)?F2:n),E0(g)&&(e=e||G2,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[I,F])=>`${A}${I}=${F},`,"");if(dI(g)&&m!=="_self")return Y2(e||"",m),new bE(null);const T=window.open(e||"",m,E);be(T,r,"popup-blocked");try{T.focus()}catch{}return new bE(T)}function Y2(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const Q2="__/auth/handler",X2="emulator/auth/handler",$2=encodeURIComponent("fac");async function AE(r,e,n,s,o,u){be(r.config.authDomain,r,"auth-domain-config-required"),be(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:da,eventId:o};if(e instanceof Cp){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",OR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(e instanceof yu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${$2}=${encodeURIComponent(p)}`:"";return`${W2(r)}?${mu(m).slice(1)}${g}`}function W2({config:r}){return r.emulator?Sp(r,X2):`https://${r.authDomain}/${Q2}`}const Rm="webStorageSupport";class J2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=P0,this._completeRedirectFn=S2,this._overrideRedirectResult=v2}async _openPopup(e,n,s,o){yr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await AE(e,n,s,Bm(),o);return K2(e,u,Ip())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await AE(e,n,s,Bm(),o);return t2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(yr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await j2(e),s=new A2(e);return n.register("authEvent",o=>(be(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rm,{type:Rm},o=>{const u=o?.[0]?.[Rm];u!==void 0&&n(!!u),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=D2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return C0()||T0()||Ap()}}const Z2=J2;var wE="@firebase/auth",RE="1.12.0";class eD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function tD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nD(r){aa(new us("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;be(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:I0(r)},g=new vI(s,o,u,p);return DI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),aa(new us("auth-internal",e=>{const n=Es(e.getProvider("auth").getImmediate());return(s=>new eD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ki(wE,RE,tD(r)),ki(wE,RE,"esm2020")}const iD=300,rD=a0("authIdTokenMaxAge")||iD;let CE=null;const sD=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>rD)return;const o=n?.token;CE!==o&&(CE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function aD(r=vp()){const e=Kh(r,"auth");if(e.isInitialized())return e.getImmediate();const n=II(r,{popupRedirectResolver:Z2,persistence:[c2,JI,P0]}),s=a0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=sD(u.toString());YI(n,h,()=>h(n.currentUser)),KI(n,m=>h(m))}}const o=i0("auth");return o&&xI(n,`http://${o}`),n}function oD(){return document.getElementsByTagName("head")?.[0]??document}EI({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=li("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",oD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nD("Browser");var IE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var os,K0;(function(){var r;function e(C,R){function w(){}w.prototype=R.prototype,C.F=R.prototype,C.prototype=new w,C.prototype.constructor=C,C.D=function(O,k,j){for(var x=Array(arguments.length-2),it=2;it<arguments.length;it++)x[it-2]=arguments[it];return R.prototype[k].apply(O,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,R,w){w||(w=0);const O=Array(16);if(typeof R=="string")for(var k=0;k<16;++k)O[k]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(k=0;k<16;++k)O[k]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=C.g[0],w=C.g[1],k=C.g[2];let j=C.g[3],x;x=R+(j^w&(k^j))+O[0]+3614090360&4294967295,R=w+(x<<7&4294967295|x>>>25),x=j+(k^R&(w^k))+O[1]+3905402710&4294967295,j=R+(x<<12&4294967295|x>>>20),x=k+(w^j&(R^w))+O[2]+606105819&4294967295,k=j+(x<<17&4294967295|x>>>15),x=w+(R^k&(j^R))+O[3]+3250441966&4294967295,w=k+(x<<22&4294967295|x>>>10),x=R+(j^w&(k^j))+O[4]+4118548399&4294967295,R=w+(x<<7&4294967295|x>>>25),x=j+(k^R&(w^k))+O[5]+1200080426&4294967295,j=R+(x<<12&4294967295|x>>>20),x=k+(w^j&(R^w))+O[6]+2821735955&4294967295,k=j+(x<<17&4294967295|x>>>15),x=w+(R^k&(j^R))+O[7]+4249261313&4294967295,w=k+(x<<22&4294967295|x>>>10),x=R+(j^w&(k^j))+O[8]+1770035416&4294967295,R=w+(x<<7&4294967295|x>>>25),x=j+(k^R&(w^k))+O[9]+2336552879&4294967295,j=R+(x<<12&4294967295|x>>>20),x=k+(w^j&(R^w))+O[10]+4294925233&4294967295,k=j+(x<<17&4294967295|x>>>15),x=w+(R^k&(j^R))+O[11]+2304563134&4294967295,w=k+(x<<22&4294967295|x>>>10),x=R+(j^w&(k^j))+O[12]+1804603682&4294967295,R=w+(x<<7&4294967295|x>>>25),x=j+(k^R&(w^k))+O[13]+4254626195&4294967295,j=R+(x<<12&4294967295|x>>>20),x=k+(w^j&(R^w))+O[14]+2792965006&4294967295,k=j+(x<<17&4294967295|x>>>15),x=w+(R^k&(j^R))+O[15]+1236535329&4294967295,w=k+(x<<22&4294967295|x>>>10),x=R+(k^j&(w^k))+O[1]+4129170786&4294967295,R=w+(x<<5&4294967295|x>>>27),x=j+(w^k&(R^w))+O[6]+3225465664&4294967295,j=R+(x<<9&4294967295|x>>>23),x=k+(R^w&(j^R))+O[11]+643717713&4294967295,k=j+(x<<14&4294967295|x>>>18),x=w+(j^R&(k^j))+O[0]+3921069994&4294967295,w=k+(x<<20&4294967295|x>>>12),x=R+(k^j&(w^k))+O[5]+3593408605&4294967295,R=w+(x<<5&4294967295|x>>>27),x=j+(w^k&(R^w))+O[10]+38016083&4294967295,j=R+(x<<9&4294967295|x>>>23),x=k+(R^w&(j^R))+O[15]+3634488961&4294967295,k=j+(x<<14&4294967295|x>>>18),x=w+(j^R&(k^j))+O[4]+3889429448&4294967295,w=k+(x<<20&4294967295|x>>>12),x=R+(k^j&(w^k))+O[9]+568446438&4294967295,R=w+(x<<5&4294967295|x>>>27),x=j+(w^k&(R^w))+O[14]+3275163606&4294967295,j=R+(x<<9&4294967295|x>>>23),x=k+(R^w&(j^R))+O[3]+4107603335&4294967295,k=j+(x<<14&4294967295|x>>>18),x=w+(j^R&(k^j))+O[8]+1163531501&4294967295,w=k+(x<<20&4294967295|x>>>12),x=R+(k^j&(w^k))+O[13]+2850285829&4294967295,R=w+(x<<5&4294967295|x>>>27),x=j+(w^k&(R^w))+O[2]+4243563512&4294967295,j=R+(x<<9&4294967295|x>>>23),x=k+(R^w&(j^R))+O[7]+1735328473&4294967295,k=j+(x<<14&4294967295|x>>>18),x=w+(j^R&(k^j))+O[12]+2368359562&4294967295,w=k+(x<<20&4294967295|x>>>12),x=R+(w^k^j)+O[5]+4294588738&4294967295,R=w+(x<<4&4294967295|x>>>28),x=j+(R^w^k)+O[8]+2272392833&4294967295,j=R+(x<<11&4294967295|x>>>21),x=k+(j^R^w)+O[11]+1839030562&4294967295,k=j+(x<<16&4294967295|x>>>16),x=w+(k^j^R)+O[14]+4259657740&4294967295,w=k+(x<<23&4294967295|x>>>9),x=R+(w^k^j)+O[1]+2763975236&4294967295,R=w+(x<<4&4294967295|x>>>28),x=j+(R^w^k)+O[4]+1272893353&4294967295,j=R+(x<<11&4294967295|x>>>21),x=k+(j^R^w)+O[7]+4139469664&4294967295,k=j+(x<<16&4294967295|x>>>16),x=w+(k^j^R)+O[10]+3200236656&4294967295,w=k+(x<<23&4294967295|x>>>9),x=R+(w^k^j)+O[13]+681279174&4294967295,R=w+(x<<4&4294967295|x>>>28),x=j+(R^w^k)+O[0]+3936430074&4294967295,j=R+(x<<11&4294967295|x>>>21),x=k+(j^R^w)+O[3]+3572445317&4294967295,k=j+(x<<16&4294967295|x>>>16),x=w+(k^j^R)+O[6]+76029189&4294967295,w=k+(x<<23&4294967295|x>>>9),x=R+(w^k^j)+O[9]+3654602809&4294967295,R=w+(x<<4&4294967295|x>>>28),x=j+(R^w^k)+O[12]+3873151461&4294967295,j=R+(x<<11&4294967295|x>>>21),x=k+(j^R^w)+O[15]+530742520&4294967295,k=j+(x<<16&4294967295|x>>>16),x=w+(k^j^R)+O[2]+3299628645&4294967295,w=k+(x<<23&4294967295|x>>>9),x=R+(k^(w|~j))+O[0]+4096336452&4294967295,R=w+(x<<6&4294967295|x>>>26),x=j+(w^(R|~k))+O[7]+1126891415&4294967295,j=R+(x<<10&4294967295|x>>>22),x=k+(R^(j|~w))+O[14]+2878612391&4294967295,k=j+(x<<15&4294967295|x>>>17),x=w+(j^(k|~R))+O[5]+4237533241&4294967295,w=k+(x<<21&4294967295|x>>>11),x=R+(k^(w|~j))+O[12]+1700485571&4294967295,R=w+(x<<6&4294967295|x>>>26),x=j+(w^(R|~k))+O[3]+2399980690&4294967295,j=R+(x<<10&4294967295|x>>>22),x=k+(R^(j|~w))+O[10]+4293915773&4294967295,k=j+(x<<15&4294967295|x>>>17),x=w+(j^(k|~R))+O[1]+2240044497&4294967295,w=k+(x<<21&4294967295|x>>>11),x=R+(k^(w|~j))+O[8]+1873313359&4294967295,R=w+(x<<6&4294967295|x>>>26),x=j+(w^(R|~k))+O[15]+4264355552&4294967295,j=R+(x<<10&4294967295|x>>>22),x=k+(R^(j|~w))+O[6]+2734768916&4294967295,k=j+(x<<15&4294967295|x>>>17),x=w+(j^(k|~R))+O[13]+1309151649&4294967295,w=k+(x<<21&4294967295|x>>>11),x=R+(k^(w|~j))+O[4]+4149444226&4294967295,R=w+(x<<6&4294967295|x>>>26),x=j+(w^(R|~k))+O[11]+3174756917&4294967295,j=R+(x<<10&4294967295|x>>>22),x=k+(R^(j|~w))+O[2]+718787259&4294967295,k=j+(x<<15&4294967295|x>>>17),x=w+(j^(k|~R))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+R&4294967295,C.g[1]=C.g[1]+(k+(x<<21&4294967295|x>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+j&4294967295}s.prototype.v=function(C,R){R===void 0&&(R=C.length);const w=R-this.blockSize,O=this.C;let k=this.h,j=0;for(;j<R;){if(k==0)for(;j<=w;)o(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<R;)if(O[k++]=C.charCodeAt(j++),k==this.blockSize){o(this,O),k=0;break}}else for(;j<R;)if(O[k++]=C[j++],k==this.blockSize){o(this,O),k=0;break}}this.h=k,this.o+=R},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var R=1;R<C.length-8;++R)C[R]=0;R=this.o*8;for(var w=C.length-8;w<C.length;++w)C[w]=R&255,R/=256;for(this.v(C),C=Array(16),R=0,w=0;w<4;++w)for(let O=0;O<32;O+=8)C[R++]=this.g[w]>>>O&255;return C};function u(C,R){var w=m;return Object.prototype.hasOwnProperty.call(w,C)?w[C]:w[C]=R(C)}function h(C,R){this.h=R;const w=[];let O=!0;for(let k=C.length-1;k>=0;k--){const j=C[k]|0;O&&j==R||(w[k]=j,O=!1)}this.g=w}var m={};function p(C){return-128<=C&&C<128?u(C,function(R){return new h([R|0],R<0?-1:0)}):new h([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return D(g(-C));const R=[];let w=1;for(let O=0;C>=w;O++)R[O]=C/w|0,w*=4294967296;return new h(R,0)}function E(C,R){if(C.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(C.charAt(0)=="-")return D(E(C.substring(1),R));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=g(Math.pow(R,8));let O=T;for(let j=0;j<C.length;j+=8){var k=Math.min(8,C.length-j);const x=parseInt(C.substring(j,j+k),R);k<8?(k=g(Math.pow(R,k)),O=O.j(k).add(g(x))):(O=O.j(w),O=O.add(g(x)))}return O}var T=p(0),A=p(1),I=p(16777216);r=h.prototype,r.m=function(){if(H(this))return-D(this).m();let C=0,R=1;for(let w=0;w<this.g.length;w++){const O=this.i(w);C+=(O>=0?O:4294967296+O)*R,R*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(F(this))return"0";if(H(this))return"-"+D(this).toString(C);const R=g(Math.pow(C,6));var w=this;let O="";for(;;){const k=se(w,R).g;w=P(w,k.j(R));let j=((w.g.length>0?w.g[0]:w.h)>>>0).toString(C);if(w=k,F(w))return j+O;for(;j.length<6;)j="0"+j;O=j+O}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function F(C){if(C.h!=0)return!1;for(let R=0;R<C.g.length;R++)if(C.g[R]!=0)return!1;return!0}function H(C){return C.h==-1}r.l=function(C){return C=P(this,C),H(C)?-1:F(C)?0:1};function D(C){const R=C.g.length,w=[];for(let O=0;O<R;O++)w[O]=~C.g[O];return new h(w,~C.h).add(A)}r.abs=function(){return H(this)?D(this):this},r.add=function(C){const R=Math.max(this.g.length,C.g.length),w=[];let O=0;for(let k=0;k<=R;k++){let j=O+(this.i(k)&65535)+(C.i(k)&65535),x=(j>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);O=x>>>16,j&=65535,x&=65535,w[k]=x<<16|j}return new h(w,w[w.length-1]&-2147483648?-1:0)};function P(C,R){return C.add(D(R))}r.j=function(C){if(F(this)||F(C))return T;if(H(this))return H(C)?D(this).j(D(C)):D(D(this).j(C));if(H(C))return D(this.j(D(C)));if(this.l(I)<0&&C.l(I)<0)return g(this.m()*C.m());const R=this.g.length+C.g.length,w=[];for(var O=0;O<2*R;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(let k=0;k<C.g.length;k++){const j=this.i(O)>>>16,x=this.i(O)&65535,it=C.i(k)>>>16,gt=C.i(k)&65535;w[2*O+2*k]+=x*gt,B(w,2*O+2*k),w[2*O+2*k+1]+=j*gt,B(w,2*O+2*k+1),w[2*O+2*k+1]+=x*it,B(w,2*O+2*k+1),w[2*O+2*k+2]+=j*it,B(w,2*O+2*k+2)}for(C=0;C<R;C++)w[C]=w[2*C+1]<<16|w[2*C];for(C=R;C<2*R;C++)w[C]=0;return new h(w,0)};function B(C,R){for(;(C[R]&65535)!=C[R];)C[R+1]+=C[R]>>>16,C[R]&=65535,R++}function Z(C,R){this.g=C,this.h=R}function se(C,R){if(F(R))throw Error("division by zero");if(F(C))return new Z(T,T);if(H(C))return R=se(D(C),R),new Z(D(R.g),D(R.h));if(H(R))return R=se(C,D(R)),new Z(D(R.g),R.h);if(C.g.length>30){if(H(C)||H(R))throw Error("slowDivide_ only works with positive integers.");for(var w=A,O=R;O.l(C)<=0;)w=de(w),O=de(O);var k=pe(w,1),j=pe(O,1);for(O=pe(O,2),w=pe(w,2);!F(O);){var x=j.add(O);x.l(C)<=0&&(k=k.add(w),j=x),O=pe(O,1),w=pe(w,1)}return R=P(C,k.j(R)),new Z(k,R)}for(k=T;C.l(R)>=0;){for(w=Math.max(1,Math.floor(C.m()/R.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),j=g(w),x=j.j(R);H(x)||x.l(C)>0;)w-=O,j=g(w),x=j.j(R);F(j)&&(j=A),k=k.add(j),C=P(C,x)}return new Z(k,C)}r.B=function(C){return se(this,C).h},r.and=function(C){const R=Math.max(this.g.length,C.g.length),w=[];for(let O=0;O<R;O++)w[O]=this.i(O)&C.i(O);return new h(w,this.h&C.h)},r.or=function(C){const R=Math.max(this.g.length,C.g.length),w=[];for(let O=0;O<R;O++)w[O]=this.i(O)|C.i(O);return new h(w,this.h|C.h)},r.xor=function(C){const R=Math.max(this.g.length,C.g.length),w=[];for(let O=0;O<R;O++)w[O]=this.i(O)^C.i(O);return new h(w,this.h^C.h)};function de(C){const R=C.g.length+1,w=[];for(let O=0;O<R;O++)w[O]=C.i(O)<<1|C.i(O-1)>>>31;return new h(w,C.h)}function pe(C,R){const w=R>>5;R%=32;const O=C.g.length-w,k=[];for(let j=0;j<O;j++)k[j]=R>0?C.i(j+w)>>>R|C.i(j+w+1)<<32-R:C.i(j+w);return new h(k,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,K0=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,os=h}).apply(typeof IE<"u"?IE:typeof self<"u"?self:typeof window<"u"?window:{});var th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Y0,jl,Q0,gh,Gm,X0,$0,W0;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof th=="object"&&th];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var q=c[b];if(!(q in v))break e;v=v[q]}c=c[c.length-1],b=v[c],y=y(b),y!=b&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],b;for(b in y)Object.prototype.hasOwnProperty.call(y,b)&&v.push([b,y[b]]);return v}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(b,q,Q){for(var ae=Array(arguments.length-2),De=2;De<arguments.length;De++)ae[De-2]=arguments[De];return y.prototype[q].apply(b,ae)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function I(c){const y=c.length;if(y>0){const v=Array(y);for(let b=0;b<y;b++)v[b]=c[b];return v}return[]}function F(c,y){for(let b=1;b<arguments.length;b++){const q=arguments[b];var v=typeof q;if(v=v!="object"?v:q?Array.isArray(q)?"array":v:"null",v=="array"||v=="object"&&typeof q.length=="number"){v=c.length||0;const Q=q.length||0;c.length=v+Q;for(let ae=0;ae<Q;ae++)c[v+ae]=q[ae]}else c.push(q)}}class H{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function D(c){h.setTimeout(()=>{throw c},0)}function P(){var c=C;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class B{constructor(){this.h=this.g=null}add(y,v){const b=Z.get();b.set(y,v),this.h?this.h.next=b:this.g=b,this.h=b}}var Z=new H(()=>new se,c=>c.reset());class se{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let de,pe=!1,C=new B,R=()=>{const c=Promise.resolve(void 0);de=()=>{c.then(w)}};function w(){for(var c;c=P();){try{c.h.call(c.g)}catch(v){D(v)}var y=Z;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}pe=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,y),h.removeEventListener("test",v,y)}catch{}return c})();function x(c){return/^[\s\xa0]*$/.test(c)}function it(c,y){k.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(it,k),it.prototype.init=function(c,y){const v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&it.Z.h.call(this)},it.prototype.h=function(){it.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var gt="closure_listenable_"+(Math.random()*1e6|0),$=0;function oe(c,y,v,b,q){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!b,this.ha=q,this.key=++$,this.da=this.fa=!1}function ve(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ke(c,y,v){for(const b in c)y.call(v,c[b],b,c)}function qe(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function U(c){const y={};for(const v in c)y[v]=c[v];return y}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(c,y){let v,b;for(let q=1;q<arguments.length;q++){b=arguments[q];for(v in b)c[v]=b[v];for(let Q=0;Q<ee.length;Q++)v=ee[Q],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function ce(c){this.src=c,this.g={},this.h=0}ce.prototype.add=function(c,y,v,b,q){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const ae=Re(c,y,b,q);return ae>-1?(y=c[ae],v||(y.fa=!1)):(y=new oe(y,this.src,Q,!!b,q),y.fa=v,c.push(y)),y};function ge(c,y){const v=y.type;if(v in c.g){var b=c.g[v],q=Array.prototype.indexOf.call(b,y,void 0),Q;(Q=q>=0)&&Array.prototype.splice.call(b,q,1),Q&&(ve(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Re(c,y,v,b){for(let q=0;q<c.length;++q){const Q=c[q];if(!Q.da&&Q.listener==y&&Q.capture==!!v&&Q.ha==b)return q}return-1}var re="closure_lm_"+(Math.random()*1e6|0),ue={};function _e(c,y,v,b,q){if(Array.isArray(y)){for(let Q=0;Q<y.length;Q++)_e(c,y[Q],v,b,q);return null}return v=Io(v),c&&c[gt]?c.J(y,v,m(b)?!!b.capture:!1,q):Ve(c,y,v,!1,b,q)}function Ve(c,y,v,b,q,Q){if(!y)throw Error("Invalid event type");const ae=m(q)?!!q.capture:!!q;let De=bs(c);if(De||(c[re]=De=new ce(c)),v=De.add(y,v,b,ae,Q),v.proxy)return v;if(b=bt(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)j||(q=ae),q===void 0&&(q=!1),c.addEventListener(y.toString(),b,q);else if(c.attachEvent)c.attachEvent(Ft(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function bt(){function c(v){return y.call(c.src,c.listener,v)}const y=Ro;return c}function Tn(c,y,v,b,q){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)Tn(c,y[Q],v,b,q);else b=m(b)?!!b.capture:!!b,v=Io(v),c&&c[gt]?(c=c.i,Q=String(y).toString(),Q in c.g&&(y=c.g[Q],v=Re(y,v,b,q),v>-1&&(ve(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[Q],c.h--)))):c&&(c=bs(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Re(y,v,b,q)),(v=c>-1?y[c]:null)&&Fi(v))}function Fi(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[gt])ge(y.i,c);else{var v=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(v,b,c.capture):y.detachEvent?y.detachEvent(Ft(v),b):y.addListener&&y.removeListener&&y.removeListener(b),(v=bs(y))?(ge(v,c),v.h==0&&(v.src=null,y[re]=null)):ve(c)}}}function Ft(c){return c in ue?ue[c]:ue[c]="on"+c}function Ro(c,y){if(c.da)c=!0;else{y=new it(y,this);const v=c.listener,b=c.ha||c.src;c.fa&&Fi(c),c=v.call(b,y)}return c}function bs(c){return c=c[re],c instanceof ce?c:null}var Co="__closure_events_fn_"+(Math.random()*1e9>>>0);function Io(c){return typeof c=="function"?c:(c[Co]||(c[Co]=function(y){return c.handleEvent(y)}),c[Co])}function At(){O.call(this),this.i=new ce(this),this.M=this,this.G=null}T(At,O),At.prototype[gt]=!0,At.prototype.removeEventListener=function(c,y,v,b){Tn(this,c,y,v,b)};function Vt(c,y){var v,b=c.G;if(b)for(v=[];b;b=b.G)v.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new k(y,c);else if(y instanceof k)y.target=y.target||c;else{var q=y;y=new k(b,c),le(y,q)}q=!0;let Q,ae;if(v)for(ae=v.length-1;ae>=0;ae--)Q=y.g=v[ae],q=Er(Q,b,!0,y)&&q;if(Q=y.g=c,q=Er(Q,b,!0,y)&&q,q=Er(Q,b,!1,y)&&q,v)for(ae=0;ae<v.length;ae++)Q=y.g=v[ae],q=Er(Q,b,!1,y)&&q}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let b=0;b<v.length;b++)ve(v[b]);delete c.g[y],c.h--}}this.G=null},At.prototype.J=function(c,y,v,b){return this.i.add(String(c),y,!1,v,b)},At.prototype.K=function(c,y,v,b){return this.i.add(String(c),y,!0,v,b)};function Er(c,y,v,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let q=!0;for(let Q=0;Q<y.length;++Q){const ae=y[Q];if(ae&&!ae.da&&ae.capture==v){const De=ae.listener,_t=ae.ha||ae.src;ae.fa&&ge(c.i,ae),q=De.call(_t,b)!==!1&&q}}return q&&!b.defaultPrevented}function ff(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Au(c){c.g=ff(()=>{c.g=null,c.i&&(c.i=!1,Au(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class on extends O{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Au(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function As(c){O.call(this),this.h=c,this.g={}}T(As,O);var Do=[];function xo(c){ke(c.g,function(y,v){this.g.hasOwnProperty(v)&&Fi(y)},c),c.g={}}As.prototype.N=function(){As.Z.N.call(this),xo(this)},As.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tr=h.JSON.stringify,df=h.JSON.parse,wu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Ru(){}function Cu(){}var Xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gt(){k.call(this,"d")}T(Gt,k);function Mn(){k.call(this,"c")}T(Mn,k);var yt={},Iu=null;function ga(){return Iu=Iu||new At}yt.Ia="serverreachability";function Du(c){k.call(this,yt.Ia,c)}T(Du,k);function hi(c){const y=ga();Vt(y,new Du(y))}yt.STAT_EVENT="statevent";function ws(c,y){k.call(this,yt.STAT_EVENT,c),this.stat=y}T(ws,k);function wt(c){const y=ga();Vt(y,new ws(y,c))}yt.Ja="timingevent";function fi(c,y){k.call(this,yt.Ja,c),this.size=y}T(fi,k);function di(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function $n(){this.g=!0}$n.prototype.ua=function(){this.g=!1};function mf(c,y,v,b,q,Q){c.info(function(){if(c.g)if(Q){var ae="",De=Q.split("&");for(let Ke=0;Ke<De.length;Ke++){var _t=De[Ke].split("=");if(_t.length>1){const ot=_t[0];_t=_t[1];const Ln=ot.split("_");ae=Ln.length>=2&&Ln[1]=="type"?ae+(ot+"="+_t+"&"):ae+(ot+"=redacted&")}}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+b+") [attempt "+q+"]: "+y+`
`+v+`
`+ae})}function xu(c,y,v,b,q,Q,ae){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+q+"]: "+y+`
`+v+`
`+Q+" "+ae})}function mi(c,y,v,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+pf(c,v)+(b?" "+b:"")})}function Rs(c,y){c.info(function(){return"TIMEOUT: "+y})}$n.prototype.info=function(){};function pf(c,y){if(!c.g)return y;if(!y)return null;try{const Q=JSON.parse(y);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var v=Q[c];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var q=b[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ae=1;ae<b.length;ae++)b[ae]=""}}}}return Tr(Q)}catch{return y}}var Cs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},No={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Oo;function Is(){}T(Is,Ru),Is.prototype.g=function(){return new XMLHttpRequest},Oo=new Is;function Gi(c){return encodeURIComponent(String(c))}function Nu(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Wn(c,y,v,b){this.j=c,this.i=y,this.l=v,this.S=b||1,this.V=new As(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var Rt={},jt={};function pi(c,y,v){c.M=1,c.A=Ds(It(y)),c.u=v,c.R=!0,ya(c,null)}function ya(c,y){c.F=Date.now(),gi(c),c.B=It(c.A);var v=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),Ta(v.i,"t",b),c.C=0,v=c.j.L,c.h=new Jn,c.g=Ku(c.j,v?y:null,!c.u),c.P>0&&(c.O=new on(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,b=c.ba;var q="readystatechange";Array.isArray(q)||(q&&(Do[0]=q.toString()),q=Do);for(let Q=0;Q<q.length;Q++){const ae=_e(v,q[Q],b||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.J?U(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),hi(),mf(c.i,c.v,c.B,c.l,c.S,c.u)}Wn.prototype.ba=function(c){c=c.target;const y=this.O;y&&ti(c)==3?y.j():this.Y(c)},Wn.prototype.Y=function(c){try{if(c==this.g)e:{const De=ti(this.g),_t=this.g.ya(),Ke=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||De!=4||_t==7||(_t==8||Ke<=0?hi(3):hi(2)),yi(this);var y=this.g.ca();this.X=y;var v=gf(this);if(this.o=y==200,xu(this.i,this.v,this.B,this.l,this.S,De,y),this.o){if(this.U&&!this.L){t:{if(this.g){var b,q=this.g;if((b=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(b)){var Q=b;break t}}Q=null}if(c=Q)mi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_i(this,c);else{this.o=!1,this.m=3,wt(12),Sn(this),kn(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<v.length;)if(ot=Mu(this,v),ot==jt){De==4&&(this.m=4,wt(14),c=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Rt){this.m=4,wt(15),mi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else mi(this.i,this.l,ot,null),_i(this,ot);if(Ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||v.length!=0||this.h.h||(this.m=1,wt(16),c=!1),this.o=this.o&&c,!c)mi(this.i,this.l,v,"[Invalid Chunked Response]"),Sn(this),kn(this);else if(v.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Yo(ae),ae.P=!0,wt(11))}}else mi(this.i,this.l,v,null),_i(this,v);De==4&&Sn(this),this.o&&!this.K&&(De==4?Hu(this.j,this):(this.o=!1,gi(this)))}else Yi(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),Sn(this),kn(this)}}}catch{}};function gf(c){if(!Ou(c))return c.g.la();const y=Kt(c.g);if(y==="")return"";let v="";const b=y.length,q=ti(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Sn(c),kn(c),"";c.h.i=new h.TextDecoder}for(let Q=0;Q<b;Q++)c.h.h=!0,v+=c.h.i.decode(y[Q],{stream:!(q&&Q==b-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Ou(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Mu(c,y){var v=c.C,b=y.indexOf(`
`,v);return b==-1?jt:(v=Number(y.substring(v,b)),isNaN(v)?Rt:(b+=1,b+v>y.length?jt:(y=y.slice(b,b+v),c.C=b+v,y)))}Wn.prototype.cancel=function(){this.K=!0,Sn(this)};function gi(c){c.T=Date.now()+c.H,_a(c,c.H)}function _a(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=di(g(c.aa,c),y)}function yi(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Wn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Rs(this.i,this.B),this.M!=2&&(hi(),wt(17)),Sn(this),this.m=2,kn(this)):_a(this,this.T-c)};function kn(c){c.j.I==0||c.K||Hu(c.j,c)}function Sn(c){yi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,xo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function _i(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||Ei(v.h,c))){if(!c.L&&Ei(v.h,c)&&v.I==3){try{var b=v.Ba.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var q=b;if(q[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ra(v),Dr(v);else break e;Us(v),wt(18)}}else v.xa=q[1],0<v.xa-v.K&&q[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=di(g(v.Va,v),6e3));vi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ri(v,11)}else if((c.L||v.g==c)&&Ra(v),!x(y))for(q=v.Ba.g.parse(y),y=0;y<q.length;y++){let Ke=q[y];const ot=Ke[0];if(!(ot<=v.K))if(v.K=ot,Ke=Ke[1],v.I==2)if(Ke[0]=="c"){v.M=Ke[1],v.ba=Ke[2];const Ln=Ke[3];Ln!=null&&(v.ka=Ln,v.j.info("VER="+v.ka));const Ci=Ke[4];Ci!=null&&(v.za=Ci,v.j.info("SVER="+v.za));const ni=Ke[5];ni!=null&&typeof ni=="number"&&ni>0&&(b=1.5*ni,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const ii=c.g;if(ii){const Ls=ii.g?ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ls){var Q=b.h;Q.g||Ls.indexOf("spdy")==-1&&Ls.indexOf("quic")==-1&&Ls.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Vo(Q,Q.h),Q.h=null))}if(b.G){const Ca=ii.g?ii.g.getResponseHeader("X-HTTP-Session-Id"):null;Ca&&(b.wa=Ca,Xe(b.J,b.G,Ca))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var ae=c;if(b.na=Gu(b,b.L?b.ba:null,b.W),ae.L){Uo(b.h,ae);var De=ae,_t=b.O;_t&&(De.H=_t),De.D&&(yi(De),gi(De)),b.g=ae}else ju(b);v.i.length>0&&wi(v)}else Ke[0]!="stop"&&Ke[0]!="close"||Ri(v,7);else v.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Ri(v,7):Go(v):Ke[0]!="noop"&&v.l&&v.l.qa(Ke),v.A=0)}}hi(4)}catch{}}var Ct=class{constructor(c,y){this.g=c,this.map=y}};function Mo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ko(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function vi(c){return c.h?1:c.g?c.g.size:0}function Ei(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Vo(c,y){c.g?c.g.add(y):c.h=y}function Uo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Mo.prototype.cancel=function(){if(this.i=Lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Lo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return I(c.i)}var ku=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function va(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const b=c[v].indexOf("=");let q,Q=null;b>=0?(q=c[v].substring(0,b),Q=c[v].substring(b+1)):q=c[v],y(q,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function bn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof bn?(this.l=c.l,Bt(this,c.j),this.o=c.o,this.g=c.g,Sr(this,c.u),this.h=c.h,Po(this,Pu(c.i)),this.m=c.m):c&&(y=String(c).match(ku))?(this.l=!1,Bt(this,y[1]||"",!0),this.o=Ti(y[2]||""),this.g=Ti(y[3]||"",!0),Sr(this,y[4]),this.h=Ti(y[5]||"",!0),Po(this,y[6]||"",!0),this.m=Ti(y[7]||"")):(this.l=!1,this.i=new Ar(null,this.l))}bn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(xs(y,Ea,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(xs(y,Ea,!0),"@"),c.push(Gi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(xs(v,v.charAt(0)=="/"?zo:Vu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",xs(v,Uu)),c.join("")},bn.prototype.resolve=function(c){const y=It(this);let v=!!c.j;v?Bt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var b=c.h;if(v)Sr(y,c.u);else if(v=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var q=y.h.lastIndexOf("/");q!=-1&&(b=y.h.slice(0,q+1)+b)}if(q=b,q==".."||q==".")b="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){b=q.lastIndexOf("/",0)==0,q=q.split("/");const Q=[];for(let ae=0;ae<q.length;){const De=q[ae++];De=="."?b&&ae==q.length&&Q.push(""):De==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),b&&ae==q.length&&Q.push("")):(Q.push(De),b=!0)}b=Q.join("/")}else b=q}return v?y.h=b:v=c.i.toString()!=="",v?Po(y,Pu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function It(c){return new bn(c)}function Bt(c,y,v){c.j=v?Ti(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Sr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Po(c,y,v){y instanceof Ar?(c.i=y,Sa(c.i,c.l)):(v||(y=xs(y,br)),c.i=new Ar(y,c.l))}function Xe(c,y,v){c.i.set(y,v)}function Ds(c){return Xe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ti(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function xs(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,hn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function hn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ea=/[#\/\?@]/g,Vu=/[#\?:]/g,zo=/[#\?]/g,br=/[#\?@]/g,Uu=/#/g;function Ar(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function fn(c){c.g||(c.g=new Map,c.h=0,c.i&&va(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Ar.prototype,r.add=function(c,y){fn(this),this.i=null,c=wr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Lu(c,y){fn(c),y=wr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function jo(c,y){return fn(c),y=wr(c,y),c.g.has(y)}r.forEach=function(c,y){fn(this),this.g.forEach(function(v,b){v.forEach(function(q){c.call(y,q,b,this)},this)},this)};function Bo(c,y){fn(c);let v=[];if(typeof y=="string")jo(c,y)&&(v=v.concat(c.g.get(wr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return fn(this),this.i=null,c=wr(this,c),jo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Bo(this,c),c.length>0?String(c[0]):y):y};function Ta(c,y,v){Lu(c,y),v.length>0&&(c.i=null,c.g.set(wr(c,y),I(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let b=0;b<y.length;b++){var v=y[b];const q=Gi(v);v=Bo(this,v);for(let Q=0;Q<v.length;Q++){let ae=q;v[Q]!==""&&(ae+="="+Gi(v[Q])),c.push(ae)}}return this.i=c.join("&")};function Pu(c){const y=new Ar;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function wr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Sa(c,y){y&&!c.j&&(fn(c),c.i=null,c.g.forEach(function(v,b){const q=b.toLowerCase();b!=q&&(Lu(this,b),Ta(this,q,v))},c)),c.j=y}function Zn(c,y){const v=new $n;if(h.Image){const b=new Image;b.onload=E(Vn,v,"TestLoadImage: loaded",!0,y,b),b.onerror=E(Vn,v,"TestLoadImage: error",!1,y,b),b.onabort=E(Vn,v,"TestLoadImage: abort",!1,y,b),b.ontimeout=E(Vn,v,"TestLoadImage: timeout",!1,y,b),h.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function Ho(c,y){const v=new $n,b=new AbortController,q=setTimeout(()=>{b.abort(),Vn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(Q=>{clearTimeout(q),Q.ok?Vn(v,"TestPingServer: ok",!0,y):Vn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),Vn(v,"TestPingServer: error",!1,y)})}function Vn(c,y,v,b,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),b(v)}catch{}}function Rr(){this.g=new wu}function Si(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Si,Ru),Si.prototype.g=function(){return new Ns(this.i,this.h)};function Ns(c,y){At.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ns,At),r=Ns.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,ei(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ba(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ba(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Cr(this):ei(this),this.readyState==3&&ba(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Cr(this))},r.Na=function(c){this.g&&(this.response=c,Cr(this))},r.ga=function(){this.g&&Cr(this)};function Cr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ei(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function ei(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ns.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Un(c){let y="";return ke(c,function(v,b){y+=b,y+=":",y+=v,y+=`\r
`}),y}function Os(c,y,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=Un(v),typeof c=="string"?v!=null&&Gi(v):Xe(c,y,v))}function Je(c){At.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Je,At);var bi=/^https?$/i,qo=["POST","PUT"];r=Je.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Oo.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){Ms(this,Q);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var q in b)v.set(q,b[q]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Q of b.keys())v.set(Q,b.get(Q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(qo,y,void 0)>=0)||b||q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of v)this.g.setRequestHeader(Q,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){Ms(this,Q)}};function Ms(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Fo(c),Ki(c)}function Fo(c){c.A||(c.A=!0,Vt(c,"complete"),Vt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Vt(this,"complete"),Vt(this,"abort"),Ki(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ki(this,!0)),Je.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ks(this):this.Xa())},r.Xa=function(){ks(this)};function ks(c){if(c.h&&typeof u<"u"){if(c.v&&ti(c)==4)setTimeout(c.Ca.bind(c),0);else if(Vt(c,"readystatechange"),ti(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var b;if(b=Q===0){let ae=String(c.D).match(ku)[1]||null;!ae&&h.self&&h.self.location&&(ae=h.self.location.protocol.slice(0,-1)),b=!bi.test(ae?ae.toLowerCase():"")}v=b}if(v)Vt(c,"complete"),Vt(c,"success");else{c.o=6;try{var q=ti(c)>2?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.ca()+"]",Fo(c)}}finally{Ki(c)}}}}function Ki(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Vt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ti(c){return c.g?c.g.readyState:0}r.ca=function(){try{return ti(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),df(y)}};function Kt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Yi(c){const y={};c=(c.g&&ti(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(x(c[b]))continue;var v=Nu(c[b]);const q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=y[q]||[];y[q]=Q,Q.push(v)}qe(y,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ai(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ir(c){this.za=0,this.i=[],this.j=new $n,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ai("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ai("baseRetryDelayMs",5e3,c),this.Za=Ai("retryDelaySeedMs",1e4,c),this.Ta=Ai("forwardChannelMaxRetries",2,c),this.va=Ai("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Mo(c&&c.concurrentRequestLimit),this.Ba=new Rr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ir.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,b){wt(0),this.W=c,this.H=y||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Gu(this,null,this.W),wi(this)};function Go(c){if(Aa(c),c.I==3){var y=c.V++,v=It(c.J);if(Xe(v,"SID",c.M),Xe(v,"RID",y),Xe(v,"TYPE","terminate"),Vs(c,v),y=new Wn(c,c.j,y),y.M=2,y.A=Ds(It(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=y.A,v=!0),v||(y.g=Ku(y.j,null),y.g.ea(y.A)),y.F=Date.now(),gi(y)}Fu(c)}function Dr(c){c.g&&(Yo(c),c.g.cancel(),c.g=null)}function Aa(c){Dr(c),c.v&&(h.clearTimeout(c.v),c.v=null),Ra(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function wi(c){if(!ko(c.h)&&!c.m){c.m=!0;var y=c.Ea;de||R(),pe||(de(),pe=!0),C.add(y,c),c.D=0}}function wa(c,y){return vi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=di(g(c.Ea,c,y),qu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const q=new Wn(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=U(Q),le(Q,this.U)):Q=this.U),this.u!==null||this.R||(q.J=Q,Q=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=zu(this,q,y),v=It(this.J),Xe(v,"RID",c),Xe(v,"CVER",22),this.G&&Xe(v,"X-HTTP-Session-Id",this.G),Vs(this,v),Q&&(this.R?y="headers="+Gi(Un(Q))+"&"+y:this.u&&Os(v,this.u,Q)),Vo(this.h,q),this.Ra&&Xe(v,"TYPE","init"),this.S?(Xe(v,"$req",y),Xe(v,"SID","null"),q.U=!0,pi(q,v,null)):pi(q,v,y),this.I=2}}else this.I==3&&(c?Ko(this,c):this.i.length==0||ko(this.h)||Ko(this))};function Ko(c,y){var v;y?v=y.l:v=c.V++;const b=It(c.J);Xe(b,"SID",c.M),Xe(b,"RID",v),Xe(b,"AID",c.K),Vs(c,b),c.u&&c.o&&Os(b,c.u,c.o),v=new Wn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=zu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Vo(c.h,v),pi(v,b,y)}function Vs(c,y){c.H&&ke(c.H,function(v,b){Xe(y,b,v)}),c.l&&ke({},function(v,b){Xe(y,b,v)})}function zu(c,y,v){v=Math.min(c.i.length,v);const b=c.l?g(c.l.Ka,c.l,c):null;e:{var q=c.i;let De=-1;for(;;){const _t=["count="+v];De==-1?v>0?(De=q[0].g,_t.push("ofs="+De)):De=0:_t.push("ofs="+De);let Ke=!0;for(let ot=0;ot<v;ot++){var Q=q[ot].g;const Ln=q[ot].map;if(Q-=De,Q<0)De=Math.max(0,q[ot].g-100),Ke=!1;else try{Q="req"+Q+"_"||"";try{var ae=Ln instanceof Map?Ln:Object.entries(Ln);for(const[Ci,ni]of ae){let ii=ni;m(ni)&&(ii=Tr(ni)),_t.push(Q+Ci+"="+encodeURIComponent(ii))}}catch(Ci){throw _t.push(Q+"type="+encodeURIComponent("_badmap")),Ci}}catch{b&&b(Ln)}}if(Ke){ae=_t.join("&");break e}}ae=void 0}return c=c.i.splice(0,v),y.G=c,ae}function ju(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;de||R(),pe||(de(),pe=!0),C.add(y,c),c.A=0}}function Us(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=di(g(c.Da,c),qu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Bu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=di(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Dr(this),Bu(this))};function Yo(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Bu(c){c.g=new Wn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=It(c.na);Xe(y,"RID","rpc"),Xe(y,"SID",c.M),Xe(y,"AID",c.K),Xe(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Xe(y,"TO",c.ia),Xe(y,"TYPE","xmlhttp"),Vs(c,y),c.u&&c.o&&Os(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Ds(It(y)),v.u=null,v.R=!0,ya(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Dr(this),Us(this),wt(19))};function Ra(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Hu(c,y){var v=null;if(c.g==y){Ra(c),Yo(c),c.g=null;var b=2}else if(Ei(c.h,y))v=y.G,Uo(c.h,y),b=1;else return;if(c.I!=0){if(y.o)if(b==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var q=c.D;b=ga(),Vt(b,new fi(b,v)),wi(c)}else ju(c);else if(q=y.m,q==3||q==0&&y.X>0||!(b==1&&wa(c,y)||b==2&&Us(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),q){case 1:Ri(c,5);break;case 4:Ri(c,10);break;case 3:Ri(c,6);break;default:Ri(c,2)}}}function qu(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Ri(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),b=c.Ua;const q=!b;b=new bn(b||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Bt(b,"https"),Ds(b),q?Zn(b.toString(),v):Ho(b.toString(),v)}else wt(2);c.I=0,c.l&&c.l.pa(y),Fu(c),Aa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Fu(c){if(c.I=0,c.ja=[],c.l){const y=Lo(c.h);(y.length!=0||c.i.length!=0)&&(F(c.ja,y),F(c.ja,c.i),c.h.i.length=0,I(c.i),c.i.length=0),c.l.oa()}}function Gu(c,y,v){var b=v instanceof bn?It(v):new bn(v);if(b.g!="")y&&(b.g=y+"."+b.g),Sr(b,b.u);else{var q=h.location;b=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;const Q=new bn(null);b&&Bt(Q,b),y&&(Q.g=y),q&&Sr(Q,q),v&&(Q.h=v),b=Q}return v=c.G,y=c.wa,v&&y&&Xe(b,v,y),Xe(b,"VER",c.ka),Vs(c,b),b}function Ku(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Je(new Si({ab:v})):new Je(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yu(){}r=Yu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function xr(){}xr.prototype.g=function(c,y){return new ln(c,y)};function ln(c,y){At.call(this),this.g=new Ir(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!x(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!x(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Qi(this)}T(ln,At),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Go(this.g)},ln.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Tr(c),c=v);y.i.push(new Ct(y.Ya++,c)),y.I==3&&wi(y)},ln.prototype.N=function(){this.g.l=null,delete this.j,Go(this.g),delete this.g,ln.Z.N.call(this)};function Qu(c){Gt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(Qu,Gt);function Xu(){Mn.call(this),this.status=1}T(Xu,Mn);function Qi(c){this.g=c}T(Qi,Yu),Qi.prototype.ra=function(){Vt(this.g,"a")},Qi.prototype.qa=function(c){Vt(this.g,new Qu(c))},Qi.prototype.pa=function(c){Vt(this.g,new Xu)},Qi.prototype.oa=function(){Vt(this.g,"b")},xr.prototype.createWebChannel=xr.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,W0=function(){return new xr},$0=function(){return ga()},X0=yt,Gm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Cs.NO_ERROR=0,Cs.TIMEOUT=8,Cs.HTTP_ERROR=6,gh=Cs,No.COMPLETE="complete",Q0=No,Cu.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",At.prototype.listen=At.prototype.J,jl=Cu,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,Y0=Je}).apply(typeof th<"u"?th:typeof self<"u"?self:typeof window<"u"?window:{});class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let So="12.8.0";function lD(r){So=r}const ua=new yp("@firebase/firestore");function io(){return ua.logLevel}function he(r,...e){if(ua.logLevel<=Pe.DEBUG){const n=e.map(xp);ua.debug(`Firestore (${So}): ${r}`,...n)}}function _r(r,...e){if(ua.logLevel<=Pe.ERROR){const n=e.map(xp);ua.error(`Firestore (${So}): ${r}`,...n)}}function mo(r,...e){if(ua.logLevel<=Pe.WARN){const n=e.map(xp);ua.warn(`Firestore (${So}): ${r}`,...n)}}function xp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Ae(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,J0(r,s,n)}function J0(r,e,n){let s=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw _r(s),new Error(s)}function Qe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||J0(e,o,s)}function Ie(r,e){return r}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends qi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class na{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Z0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(rn.UNAUTHENTICATED)))}shutdown(){}}class cD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class hD{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new na;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new na,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new na)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string",31837,{l:s}),new Z0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class fD{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class dD{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new fD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class DE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new DE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new DE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function pD(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Np{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=pD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ze(r,e){return r<e?-1:r>e?1:0}function Km(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Cm(o)===Cm(u)?ze(o,u):Cm(o)?1:-1}return ze(r.length,e.length)}const gD=55296,yD=57343;function Cm(r){const e=r.charCodeAt(0);return e>=gD&&e<=yD}function po(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const xE="__name__";class Oi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ae(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Oi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ze(e.length,n.length)}static compareSegments(e,n){const s=Oi.isNumericId(e),o=Oi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Oi.extractNumericId(e).compare(Oi.extractNumericId(n)):Km(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return os.fromString(e.substring(4,e.length-2))}}class ut extends Oi{construct(e,n,s){return new ut(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ut(n)}static emptyPath(){return new ut([])}}const _D=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends Oi{construct(e,n,s){return new Zt(e,n,s)}static isValidIdentifier(e){return _D.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xE}static keyField(){return new Zt([xE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ye(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ye(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ye(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ye(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}class Te{constructor(e){this.path=e}static fromPath(e){return new Te(ut.fromString(e))}static fromName(e){return new Te(ut.fromString(e).popFirst(5))}static empty(){return new Te(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new ut(e.slice()))}}function vD(r,e,n){if(!n)throw new ye(ie.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function ED(r,e,n,s){if(e===!0&&s===!0)throw new ye(ie.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function NE(r){if(!Te.isDocumentKey(r))throw new ye(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function eS(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Op(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ae(12329,{type:typeof r})}function ls(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ye(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Op(r);throw new ye(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function kt(r,e){const n={typeString:r};return e&&(n.value=e),n}function vu(r,e){if(!eS(r))throw new ye(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ye(ie.INVALID_ARGUMENT,n);return!0}const OE=-62135596800,ME=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*ME);return new at(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<OE)throw new ye(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ME}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vu(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-OE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:kt("string",at._jsonSchemaVersion),seconds:kt("number"),nanoseconds:kt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new at(0,0))}static max(){return new we(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const tu=-1;function TD(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new at(n+1,0):new at(n,s));return new cs(o,Te.empty(),e)}function SD(r){return new cs(r.readTime,r.key,tu)}class cs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new cs(we.min(),Te.empty(),tu)}static max(){return new cs(we.max(),Te.empty(),tu)}}function bD(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(r.documentKey,e.documentKey),n!==0?n:ze(r.largestBatchId,e.largestBatchId))}const AD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function bo(r){if(r.code!==ie.FAILED_PRECONDITION||r.message!==AD)throw r;he("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{h[g]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function RD(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ao(r){return r.name==="IndexedDbTransactionError"}class $h{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}$h.ce=-1;const Mp=-1;function Wh(r){return r==null}function Nh(r){return r===0&&1/r==-1/0}function CD(r){return typeof r=="number"&&Number.isInteger(r)&&!Nh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const tS="";function ID(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=kE(e)),e=DD(r.get(n),e);return kE(e)}function DD(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case tS:n+="";break;default:n+=u}}return n}function kE(r){return r+tS+""}function VE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ts(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function nS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ht{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nh(this.root,e,this.comparator,!0)}}class nh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Jt.RED,this.left=o??Jt.EMPTY,this.right=u??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Jt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Jt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new UE(this.data.getIterator())}getIteratorFrom(e){return new UE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class UE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nn{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new Nn([])}unionWith(e){let n=new zt(Zt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class iS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new iS("Invalid base64 string: "+u):u}})(e);return new en(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const xD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hs(r){if(Qe(!!r,39018),typeof r=="string"){let e=0;const n=xD.exec(r);if(Qe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Tt(r.seconds),nanos:Tt(r.nanos)}}function Tt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function fs(r){return typeof r=="string"?en.fromBase64String(r):en.fromUint8Array(r)}const rS="server_timestamp",sS="__type__",aS="__previous_value__",oS="__local_write_time__";function kp(r){return(r?.mapValue?.fields||{})[sS]?.stringValue===rS}function Jh(r){const e=r.mapValue.fields[aS];return kp(e)?Jh(e):e}function nu(r){const e=hs(r.mapValue.fields[oS].timestampValue);return new at(e.seconds,e.nanos)}class ND{constructor(e,n,s,o,u,h,m,p,g,E,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E,this.apiKey=T}}const Oh="(default)";class iu{constructor(e,n){this.projectId=e,this.database=n||Oh}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===Oh}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}function OD(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ye(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(r.options.projectId,e)}const lS="__type__",MD="__max__",ih={mapValue:{}},uS="__vector__",Mh="value";function ds(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?kp(r)?4:VD(r)?9007199254740991:kD(r)?10:11:Ae(28295,{value:r})}function ji(r,e){if(r===e)return!0;const n=ds(r);if(n!==ds(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return nu(r).isEqual(nu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=hs(o.timestampValue),m=hs(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return fs(o.bytesValue).isEqual(fs(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Tt(o.geoPointValue.latitude)===Tt(u.geoPointValue.latitude)&&Tt(o.geoPointValue.longitude)===Tt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Tt(o.integerValue)===Tt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Tt(o.doubleValue),m=Tt(u.doubleValue);return h===m?Nh(h)===Nh(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return po(r.arrayValue.values||[],e.arrayValue.values||[],ji);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(VE(h)!==VE(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!ji(h[p],m[p])))return!1;return!0})(r,e);default:return Ae(52216,{left:r})}}function ru(r,e){return(r.values||[]).find((n=>ji(n,e)))!==void 0}function go(r,e){if(r===e)return 0;const n=ds(r),s=ds(e);if(n!==s)return ze(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=Tt(u.integerValue||u.doubleValue),p=Tt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return LE(r.timestampValue,e.timestampValue);case 4:return LE(nu(r),nu(e));case 5:return Km(r.stringValue,e.stringValue);case 6:return(function(u,h){const m=fs(u),p=fs(h);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=ze(m[g],p[g]);if(E!==0)return E}return ze(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=ze(Tt(u.latitude),Tt(h.latitude));return m!==0?m:ze(Tt(u.longitude),Tt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return PE(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[Mh]?.arrayValue,E=p[Mh]?.arrayValue,T=ze(g?.values?.length||0,E?.values?.length||0);return T!==0?T:PE(g,E)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===ih.mapValue&&h===ih.mapValue)return 0;if(u===ih.mapValue)return 1;if(h===ih.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const A=Km(p[T],E[T]);if(A!==0)return A;const I=go(m[p[T]],g[E[T]]);if(I!==0)return I}return ze(p.length,E.length)})(r.mapValue,e.mapValue);default:throw Ae(23264,{he:n})}}function LE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ze(r,e);const n=hs(r),s=hs(e),o=ze(n.seconds,s.seconds);return o!==0?o:ze(n.nanos,s.nanos)}function PE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=go(n[o],s[o]);if(u)return u}return ze(n.length,s.length)}function yo(r){return Ym(r)}function Ym(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=hs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return fs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Te.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Ym(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Ym(n.fields[h])}`;return o+"}"})(r.mapValue):Ae(61005,{value:r})}function yh(r){switch(ds(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jh(r);return e?16+yh(e):16;case 5:return 2*r.stringValue.length;case 6:return fs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+yh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Ts(s.fields,((u,h)=>{o+=u.length+yh(h)})),o})(r.mapValue);default:throw Ae(13486,{value:r})}}function Qm(r){return!!r&&"integerValue"in r}function Vp(r){return!!r&&"arrayValue"in r}function zE(r){return!!r&&"nullValue"in r}function jE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function _h(r){return!!r&&"mapValue"in r}function kD(r){return(r?.mapValue?.fields||{})[lS]?.stringValue===uS}function Kl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ts(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Kl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kl(r.arrayValue.values[n]);return e}return{...r}}function VD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===MD}class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!_h(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(n)}setAll(e){let n=Zt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=Kl(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());_h(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];_h(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ts(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new En(Kl(this.value))}}function cS(r){const e=[];return Ts(r.fields,((n,s)=>{const o=new Zt([n]);if(_h(s)){const u=cS(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Nn(e)}class sn{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new sn(e,0,we.min(),we.min(),we.min(),En.empty(),0)}static newFoundDocument(e,n,s,o){return new sn(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new sn(e,2,n,we.min(),we.min(),En.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,we.min(),we.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class kh{constructor(e,n){this.position=e,this.inclusive=n}}function BE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=Te.comparator(Te.fromName(h.referenceValue),n.key):s=go(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function HE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ji(r.position[n],e.position[n]))return!1;return!0}class Vh{constructor(e,n="asc"){this.field=e,this.dir=n}}function UD(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class hS{}class Lt extends hS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new PD(e,n,s):n==="array-contains"?new BD(e,s):n==="in"?new HD(e,s):n==="not-in"?new qD(e,s):n==="array-contains-any"?new FD(e,s):new Lt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new zD(e,s):new jD(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(go(n,this.value)):n!==null&&ds(this.value)===ds(n)&&this.matchesComparison(go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bi extends hS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Bi(e,n)}matches(e){return fS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fS(r){return r.op==="and"}function dS(r){return LD(r)&&fS(r)}function LD(r){for(const e of r.filters)if(e instanceof Bi)return!1;return!0}function Xm(r){if(r instanceof Lt)return r.field.canonicalString()+r.op.toString()+yo(r.value);if(dS(r))return r.filters.map((e=>Xm(e))).join(",");{const e=r.filters.map((n=>Xm(n))).join(",");return`${r.op}(${e})`}}function mS(r,e){return r instanceof Lt?(function(s,o){return o instanceof Lt&&s.op===o.op&&s.field.isEqual(o.field)&&ji(s.value,o.value)})(r,e):r instanceof Bi?(function(s,o){return o instanceof Bi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&mS(h,o.filters[m])),!0):!1})(r,e):void Ae(19439)}function pS(r){return r instanceof Lt?(function(n){return`${n.field.canonicalString()} ${n.op} ${yo(n.value)}`})(r):r instanceof Bi?(function(n){return n.op.toString()+" {"+n.getFilters().map(pS).join(" ,")+"}"})(r):"Filter"}class PD extends Lt{constructor(e,n,s){super(e,n,s),this.key=Te.fromName(s.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class zD extends Lt{constructor(e,n){super(e,"in",n),this.keys=gS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class jD extends Lt{constructor(e,n){super(e,"not-in",n),this.keys=gS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function gS(r,e){return(e.arrayValue?.values||[]).map((n=>Te.fromName(n.referenceValue)))}class BD extends Lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Vp(n)&&ru(n.arrayValue,this.value)}}class HD extends Lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ru(this.value.arrayValue,n)}}class qD extends Lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ru(this.value.arrayValue,n)}}class FD extends Lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Vp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ru(this.value.arrayValue,s)))}}class GD{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function qE(r,e=null,n=[],s=[],o=null,u=null,h=null){return new GD(r,e,n,s,o,u,h)}function Up(r){const e=Ie(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Xm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Wh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>yo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>yo(s))).join(",")),e.Te=n}return e.Te}function Lp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!UD(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!mS(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!HE(r.startAt,e.startAt)&&HE(r.endAt,e.endAt)}function $m(r){return Te.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Zh{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function KD(r,e,n,s,o,u,h,m){return new Zh(r,e,n,s,o,u,h,m)}function Pp(r){return new Zh(r)}function FE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function YD(r){return Te.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function QD(r){return r.collectionGroup!==null}function Yl(r){const e=Ie(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new zt(Zt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Vh(u,s))})),n.has(Zt.keyField().canonicalString())||e.Ie.push(new Vh(Zt.keyField(),s))}return e.Ie}function Ui(r){const e=Ie(r);return e.Ee||(e.Ee=XD(e,Yl(r))),e.Ee}function XD(r,e){if(r.limitType==="F")return qE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Vh(o.field,u)}));const n=r.endAt?new kh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new kh(r.startAt.position,r.startAt.inclusive):null;return qE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Wm(r,e,n){return new Zh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function ef(r,e){return Lp(Ui(r),Ui(e))&&r.limitType===e.limitType}function yS(r){return`${Up(Ui(r))}|lt:${r.limitType}`}function ro(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>pS(o))).join(", ")}]`),Wh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>yo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>yo(o))).join(",")),`Target(${s})`})(Ui(r))}; limitType=${r.limitType})`}function tf(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Te.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Yl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=BE(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,Yl(s),o)||s.endAt&&!(function(h,m,p){const g=BE(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,Yl(s),o))})(r,e)}function $D(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function _S(r){return(e,n)=>{let s=!1;for(const o of Yl(r)){const u=WD(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function WD(r,e,n){const s=r.field.isKeyField()?Te.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?go(p,g):Ae(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:r.dir})}}class ma{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ts(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return nS(this.inner)}size(){return this.innerSize}}const JD=new ht(Te.comparator);function vr(){return JD}const vS=new ht(Te.comparator);function Bl(...r){let e=vS;for(const n of r)e=e.insert(n.key,n);return e}function ES(r){let e=vS;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ta(){return Ql()}function TS(){return Ql()}function Ql(){return new ma((r=>r.toString()),((r,e)=>r.isEqual(e)))}const ZD=new ht(Te.comparator),ex=new zt(Te.comparator);function je(...r){let e=ex;for(const n of r)e=e.add(n);return e}const tx=new zt(ze);function nx(){return tx}function zp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nh(e)?"-0":e}}function SS(r){return{integerValue:""+r}}function ix(r,e){return CD(e)?SS(e):zp(r,e)}class nf{constructor(){this._=void 0}}function rx(r,e,n){return r instanceof Uh?(function(o,u){const h={fields:{[sS]:{stringValue:rS},[oS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&kp(u)&&(u=Jh(u)),u&&(h.fields[aS]=u),{mapValue:h}})(n,e):r instanceof su?AS(r,e):r instanceof au?wS(r,e):(function(o,u){const h=bS(o,u),m=GE(h)+GE(o.Ae);return Qm(h)&&Qm(o.Ae)?SS(m):zp(o.serializer,m)})(r,e)}function sx(r,e,n){return r instanceof su?AS(r,e):r instanceof au?wS(r,e):n}function bS(r,e){return r instanceof Lh?(function(s){return Qm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Uh extends nf{}class su extends nf{constructor(e){super(),this.elements=e}}function AS(r,e){const n=RS(e);for(const s of r.elements)n.some((o=>ji(o,s)))||n.push(s);return{arrayValue:{values:n}}}class au extends nf{constructor(e){super(),this.elements=e}}function wS(r,e){let n=RS(e);for(const s of r.elements)n=n.filter((o=>!ji(o,s)));return{arrayValue:{values:n}}}class Lh extends nf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function GE(r){return Tt(r.integerValue||r.doubleValue)}function RS(r){return Vp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function ax(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof su&&o instanceof su||s instanceof au&&o instanceof au?po(s.elements,o.elements,ji):s instanceof Lh&&o instanceof Lh?ji(s.Ae,o.Ae):s instanceof Uh&&o instanceof Uh})(r.transform,e.transform)}class ox{constructor(e,n){this.version=e,this.transformResults=n}}class Li{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Li}static exists(e){return new Li(void 0,e)}static updateTime(e){return new Li(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class rf{}function CS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new DS(r.key,Li.none()):new Eu(r.key,r.data,Li.none());{const n=r.data,s=En.empty();let o=new zt(Zt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Ss(r.key,s,new Nn(o.toArray()),Li.none())}}function lx(r,e,n){r instanceof Eu?(function(o,u,h){const m=o.value.clone(),p=YE(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Ss?(function(o,u,h){if(!vh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=YE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(IS(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Xl(r,e,n,s){return r instanceof Eu?(function(u,h,m,p){if(!vh(u.precondition,h))return m;const g=u.value.clone(),E=QE(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof Ss?(function(u,h,m,p){if(!vh(u.precondition,h))return m;const g=QE(u.fieldTransforms,p,h),E=h.data;return E.setAll(IS(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,h,m){return vh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,n)}function ux(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=bS(s.transform,o||null);u!=null&&(n===null&&(n=En.empty()),n.set(s.field,u))}return n||null}function KE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&po(s,o,((u,h)=>ax(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Eu extends rf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ss extends rf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function IS(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function YE(r,e,n){const s=new Map;Qe(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,sx(h,m,n[o]))}return s}function QE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,rx(u,h,e))}return s}class DS extends rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cx extends rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hx{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&lx(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Xl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Xl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=TS();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=CS(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),je())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,((n,s)=>KE(n,s)))&&po(this.baseMutations,e.baseMutations,((n,s)=>KE(n,s)))}}class jp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return ZD})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new jp(e,n,s,o)}}class fx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class dx{constructor(e,n){this.count=e,this.unchangedNames=n}}var Mt,He;function mx(r){switch(r){case ie.OK:return Ae(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ae(15467,{code:r})}}function xS(r){if(r===void 0)return _r("GRPC error has no .code"),ie.UNKNOWN;switch(r){case Mt.OK:return ie.OK;case Mt.CANCELLED:return ie.CANCELLED;case Mt.UNKNOWN:return ie.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return ie.INTERNAL;case Mt.UNAVAILABLE:return ie.UNAVAILABLE;case Mt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Mt.NOT_FOUND:return ie.NOT_FOUND;case Mt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Mt.ABORTED:return ie.ABORTED;case Mt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Mt.DATA_LOSS:return ie.DATA_LOSS;default:return Ae(39323,{code:r})}}(He=Mt||(Mt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";function px(){return new TextEncoder}const gx=new os([4294967295,4294967295],0);function XE(r){const e=px().encode(r),n=new K0;return n.update(e),new Uint8Array(n.digest())}function $E(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new os([n,s],0),new os([o,u],0)]}class Bp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Hl(`Invalid padding: ${n}`);if(s<0)throw new Hl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=os.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(os.fromNumber(s)));return o.compare(gx)===1&&(o=new os([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=XE(e),[s,o]=$E(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Bp(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=XE(e),[s,o]=$E(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.be(h)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class sf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Tu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new sf(we.min(),o,new ht(ze),vr(),je())}}class Tu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Tu(s,n,je(),je(),je())}}class Eh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class NS{constructor(e,n){this.targetId=e,this.Ce=n}}class OS{constructor(e,n,s=en.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class WE{constructor(){this.ve=0,this.Fe=JE(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),n=je(),s=je();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ae(38017,{changeType:u})}})),new Tu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=JE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class yx{constructor(e){this.Ge=e,this.ze=new Map,this.je=vr(),this.He=rh(),this.Je=rh(),this.Ze=new ht(ze)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if($m(u))if(s===0){const h=new Te(u.path);this.et(n,h,sn.newNoDocument(h,we.min()))}else Qe(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=fs(s).toUint8Array()}catch(p){if(p instanceof iS)return mo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Bp(h,o,u)}catch(p){return mo(p instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&$m(m.target)){const p=new Te(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,sn.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.Ke())}}));let s=je();this.Je.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new sf(e,n,this.Ze,this.je,s);return this.je=vr(),this.He=rh(),this.Je=rh(),this.Ze=new ht(ze),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new WE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new zt(ze),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new zt(ze),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new WE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function rh(){return new ht(Te.comparator)}function JE(){return new ht(Te.comparator)}const _x={asc:"ASCENDING",desc:"DESCENDING"},vx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ex={and:"AND",or:"OR"};class Tx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jm(r,e){return r.useProto3Json||Wh(e)?e:{value:e}}function Ph(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Sx(r,e){return Ph(r,e.toTimestamp())}function Pi(r){return Qe(!!r,49232),we.fromTimestamp((function(n){const s=hs(n);return new at(s.seconds,s.nanos)})(r))}function Hp(r,e){return Zm(r,e).canonicalString()}function Zm(r,e){const n=(function(o){return new ut(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function kS(r){const e=ut.fromString(r);return Qe(zS(e),10190,{key:e.toString()}),e}function ep(r,e){return Hp(r.databaseId,e.path)}function Im(r,e){const n=kS(e);if(n.get(1)!==r.databaseId.projectId)throw new ye(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ye(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Te(US(n))}function VS(r,e){return Hp(r.databaseId,e)}function bx(r){const e=kS(r);return e.length===4?ut.emptyPath():US(e)}function tp(r){return new ut(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function US(r){return Qe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function ZE(r,e,n){return{name:ep(r,e),fields:n.value.mapValue.fields}}function Ax(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Qe(E===void 0||typeof E=="string",58123),en.fromBase64String(E||"")):(Qe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),en.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const E=g.code===void 0?ie.UNKNOWN:xS(g.code);return new ye(E,g.message||"")})(h);n=new OS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Im(r,s.document.name),u=Pi(s.document.updateTime),h=s.document.createTime?Pi(s.document.createTime):we.min(),m=new En({mapValue:{fields:s.document.fields}}),p=sn.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Eh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Im(r,s.document),u=s.readTime?Pi(s.readTime):we.min(),h=sn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Eh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Im(r,s.document),u=s.removedTargetIds||[];n=new Eh([],u,o,null)}else{if(!("filter"in e))return Ae(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new dx(o,u),m=s.targetId;n=new NS(m,h)}}return n}function wx(r,e){let n;if(e instanceof Eu)n={update:ZE(r,e.key,e.value)};else if(e instanceof DS)n={delete:ep(r,e.key)};else if(e instanceof Ss)n={update:ZE(r,e.key,e.data),updateMask:kx(e.fieldMask)};else{if(!(e instanceof cx))return Ae(16599,{dt:e.type});n={verify:ep(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof Uh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof su)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof au)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Lh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Ae(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:Sx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae(27497)})(r,e.precondition)),n}function Rx(r,e){return r&&r.length>0?(Qe(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?Pi(o.updateTime):Pi(u);return h.isEqual(we.min())&&(h=Pi(u)),new ox(h,o.transformResults||[])})(n,e)))):[]}function Cx(r,e){return{documents:[VS(r,e.path)]}}function Ix(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=VS(r,o);const u=(function(g){if(g.length!==0)return PS(Bi.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((E=>(function(A){return{field:so(A.field),direction:Nx(A.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Jm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function Dx(r){let e=bx(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Qe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const A=LS(T);return A instanceof Bi&&dS(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((A=>(function(F){return new Vh(ao(F.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,Wh(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(T){const A=!!T.before,I=T.values||[];return new kh(I,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const A=!T.before,I=T.values||[];return new kh(I,A)})(n.endAt)),KD(e,o,h,u,m,"F",p,g)}function xx(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function LS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ao(n.unaryFilter.field);return Lt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ao(n.unaryFilter.field);return Lt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ao(n.unaryFilter.field);return Lt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ao(n.unaryFilter.field);return Lt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Lt.create(ao(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Bi.create(n.compositeFilter.filters.map((s=>LS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(n.compositeFilter.op))})(r):Ae(30097,{filter:r})}function Nx(r){return _x[r]}function Ox(r){return vx[r]}function Mx(r){return Ex[r]}function so(r){return{fieldPath:r.canonicalString()}}function ao(r){return Zt.fromServerFormat(r.fieldPath)}function PS(r){return r instanceof Lt?(function(n){if(n.op==="=="){if(jE(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NAN"}};if(zE(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jE(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NAN"}};if(zE(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(n.field),op:Ox(n.op),value:n.value}}})(r):r instanceof Bi?(function(n){const s=n.getFilters().map((o=>PS(o)));return s.length===1?s[0]:{compositeFilter:{op:Mx(n.op),filters:s}}})(r):Ae(54877,{filter:r})}function kx(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function zS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function jS(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class rs{constructor(e,n,s,o,u=we.min(),h=we.min(),m=en.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Vx{constructor(e){this.yt=e}}function Ux(r){const e=Dx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Wm(e,e.limit,"L"):e}class Lx{constructor(){this.Sn=new Px}addToCollectionParentIndex(e,n){return this.Sn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(cs.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(cs.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class Px{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new zt(ut.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new zt(ut.comparator)).toArray()}}const eT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BS=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(BS,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class _o{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new _o(0)}static ar(){return new _o(-1)}}const tT="LruGarbageCollector",zx=1048576;function nT([r,e],[n,s]){const o=ze(r,n);return o===0?ze(e,s):o}class jx{constructor(e){this.Pr=e,this.buffer=new zt(nT),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();nT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Bx{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){he(tT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ao(n)?he(tT,"Ignoring IndexedDB error during garbage collection: ",n):await bo(n)}await this.Ar(3e5)}))}}class Hx{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve($h.ce);const s=new jx(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(eT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eT):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),io()<=Pe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function qx(r,e){return new Hx(r,e)}class Fx{constructor(){this.changes=new ma((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Gx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Kx{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Xl(s.mutation,o,Nn.empty(),at.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,je()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=je()){const o=ta();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=Bl();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=ta();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,je())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=vr();const h=Ql(),m=(function(){return Ql()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Ss)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),Xl(E.mutation,g,E.mutation.getFieldMask(),at.now())):h.set(g.key,Nn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>h.set(g,E))),n.forEach(((g,E)=>m.set(g,new Gx(E,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Ql();let o=new ht(((h,m)=>h-m)),u=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Nn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||je()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=TS();E.forEach((A=>{if(!u.has(A)){const I=CS(n.get(A),s.get(A));I!==null&&T.set(A,I),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ne.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return YD(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):QD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(ta());let m=tu,p=u;return h.next((g=>ne.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next((A=>{p=p.insert(E,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,je()))).next((E=>({batchId:m,changes:ES(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next((s=>{let o=Bl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Bl();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(p=>{const g=(function(T,A){return new Zh(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((T,A)=>{h=h.insert(T,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,sn.newInvalidDocument(E)))}));let m=Bl();return h.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&Xl(E.mutation,g,Nn.empty(),at.now()),tf(n,g)&&(m=m.insert(p,g))})),m}))}}class Yx{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ne.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Pi(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:Ux(o.bundledQuery),readTime:Pi(o.readTime)}})(n)),ne.resolve()}}class Qx{constructor(){this.overlays=new ht(Te.comparator),this.Lr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ta();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=ta(),u=n.length+1,h=new Te(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ht(((g,E)=>g-E));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=ta(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=ta(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ne.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new fx(n,s));let u=this.Lr.get(n);u===void 0&&(u=je(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class Xx{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class qp{constructor(){this.kr=new zt(qt.Kr),this.qr=new zt(qt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new qt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new qt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new Te(new ut([])),s=new qt(n,e),o=new qt(n,e+1),u=[];return this.qr.forEachInRange([s,o],(h=>{this.Wr(h),u.push(h.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Te(new ut([])),s=new qt(n,e),o=new qt(n,e+1);let u=je();return this.qr.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new qt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class qt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Te.comparator(e.key,n.key)||ze(e.Hr,n.Hr)}static Ur(e,n){return ze(e.Hr,n.Hr)||Te.comparator(e.key,n.key)}}class $x{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new zt(qt.Kr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new hx(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Jr=this.Jr.add(new qt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,n){return ne.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Mp:this.Yn-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new qt(n,0),o=new qt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(h=>{const m=this.Zr(h.Hr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new zt(ze);return n.forEach((o=>{const u=new qt(o,0),h=new qt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,h],(m=>{s=s.add(m.Hr)}))})),ne.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Te.isDocumentKey(u)||(u=u.child(""));const h=new qt(new Te(u),0);let m=new zt(ze);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),h),ne.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Qe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ne.forEach(n.mutations,(o=>{const u=new qt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new qt(n,0),o=this.Jr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Wx{constructor(e){this.ti=e,this.docs=(function(){return new ht(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let s=vr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=vr();const h=n.path,m=new Te(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||bD(SD(E),s)<=0||(o.has(E.key)||tf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ae(9500)}ni(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new Jx(this)}getSize(e){return ne.resolve(this.size)}}class Jx extends Fx{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class Zx{constructor(e){this.persistence=e,this.ri=new ma((n=>Up(n)),Lp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.ii=0,this.si=new qp,this.targetCount=0,this.oi=_o._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ne.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new _o(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.lr(n),ne.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this.si.containsKey(n))}}class HS{constructor(e,n){this._i={},this.overlays={},this.ai=new $h(0),this.ui=!1,this.ui=!0,this.ci=new Xx,this.referenceDelegate=e(this),this.li=new Zx(this),this.indexManager=new Lx,this.remoteDocumentCache=(function(o){return new Wx(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new Vx(n),this.Pi=new Yx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Qx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new $x(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const o=new eN(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ne.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class eN extends wD{constructor(e){super(),this.currentSequenceNumber=e}}class Fp{constructor(e){this.persistence=e,this.Ri=new qp,this.Ai=null}static Vi(e){return new Fp(e)}get di(){if(this.Ai)return this.Ai;throw Ae(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.di,(s=>{const o=Te.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,we.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class zh{constructor(e,n){this.persistence=e,this.fi=new ma((s=>ID(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=qx(this,n)}static Vi(e,n){return new zh(e,n)}Ti(){}Ii(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ne.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((m=>{m||(s++,u.removeEntry(h,we.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ne.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=yh(e.data.value)),n}wr(e,n,s){return ne.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Gp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=je(),o=je();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Gp(e,n.fromCache,s,o)}}class tN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class nN{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return RR()?8:RD(an())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new tN;return this.ys(e,n,h).next((m=>{if(u.result=m,this.As)return this.ws(e,n,h,m.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(io()<=Pe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ne.resolve()):(io()<=Pe.DEBUG&&he("QueryEngine","Query:",ro(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(io()<=Pe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ui(n))):ne.resolve())}gs(e,n){if(FE(n))return ne.resolve(null);let s=Ui(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Wm(n,null,"F"),s=Ui(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=je(...u);return this.fs.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.bs(n,m);return this.Ss(n,g,h,p.readTime)?this.gs(e,Wm(n,null,"F")):this.Ds(e,g,n,p)}))))})))))}ps(e,n,s,o){return FE(n)||o.isEqual(we.min())?ne.resolve(null):this.fs.getDocuments(e,s).next((u=>{const h=this.bs(n,u);return this.Ss(n,h,s,o)?ne.resolve(null):(io()<=Pe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ro(n)),this.Ds(e,h,n,TD(o,tu)).next((m=>m)))}))}bs(e,n){let s=new zt(_S(e));return n.forEach(((o,u)=>{tf(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return io()<=Pe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",ro(n)),this.fs.getDocumentsMatchingQuery(e,n,cs.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const Kp="LocalStore",iN=3e8;class rN{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new ht(ze),this.Fs=new ma((u=>Up(u)),Lp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Kx(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function sN(r,e,n,s){return new rN(r,e,n,s)}async function qS(r,e){const n=Ie(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=je();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ns:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function aN(r,e){const n=Ie(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,A=T.keys();let I=ne.resolve();return A.forEach((F=>{I=I.next((()=>E.getEntry(p,F))).next((H=>{const D=g.docVersions.get(F);Qe(D!==null,48541),H.version.compareTo(D)<0&&(T.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),E.addEntry(H)))}))})),I.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=je();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function FS(r){const e=Ie(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function oN(r,e){const n=Ie(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,T)=>{const A=o.get(T);if(!A)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,T))));let I=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?I=I.withResumeToken(en.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(E.resumeToken,s)),o=o.insert(T,I),(function(H,D,P){return H.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=iN?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(A,I,E)&&m.push(n.li.updateTargetData(u,I))}));let p=vr(),g=je();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(lN(u,h,e.documentUpdates).next((E=>{p=E.Bs,g=E.Ls}))),!s.isEqual(we.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((T=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ne.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.vs=o,u)))}function lN(r,e,n){let s=je(),o=je();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=vr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):he(Kp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Bs:h,Ls:o}}))}function uN(r,e){const n=Ie(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Mp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function cN(r,e){const n=Ie(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.li.allocateTargetId(s).next((h=>(o=new rs(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function np(r,e,n){const s=Ie(r),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Ao(h))throw h;he(Kp,`Failed to update sequence numbers for target ${e}: ${h}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function iT(r,e,n){const s=Ie(r);let o=we.min(),u=je();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,E){const T=Ie(p),A=T.Fs.get(E);return A!==void 0?ne.resolve(T.vs.get(A)):T.li.getTargetData(g,E)})(s,h,Ui(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,n?o:we.min(),n?u:je()))).next((m=>(hN(s,$D(e),m),{documents:m,ks:u})))))}function hN(r,e,n){let s=r.Ms.get(e)||we.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(e,s)}class rT{constructor(){this.activeTargetIds=nx()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fN{constructor(){this.vo=new rT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new rT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dN{Mo(e){}shutdown(){}}const sT="ConnectivityMonitor";class aT{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){he(sT,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){he(sT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let sh=null;function ip(){return sh===null?sh=(function(){return 268435456+Math.round(2147483648*Math.random())})():sh++,"0x"+sh.toString(16)}const Dm="RestConnection",mN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class pN{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Oh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const h=ip(),m=this.Qo(e,n.toUriEncodedString());he(Dm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:g}=new URL(m),E=ys(g);return this.zo(e,m,p,s,E).then((T=>(he(Dm,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw mo(Dm,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}jo(e,n,s,o,u,h){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+So})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=mN[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class gN{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const nn="WebChannelConnection",Ml=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class co extends pN{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!co.c_){const e=$0();Ml(e,X0.STAT_EVENT,(n=>{n.stat===Gm.PROXY?he(nn,"STAT_EVENT: detected buffering proxy"):n.stat===Gm.NOPROXY&&he(nn,"STAT_EVENT: detected no buffering proxy")})),co.c_=!0}}zo(e,n,s,o,u){const h=ip();return new Promise(((m,p)=>{const g=new Y0;g.setWithCredentials(!0),g.listenOnce(Q0.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case gh.NO_ERROR:const T=g.getResponseJson();he(nn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case gh.TIMEOUT:he(nn,`RPC '${e}' ${h} timed out`),p(new ye(ie.DEADLINE_EXCEEDED,"Request time out"));break;case gh.HTTP_ERROR:const A=g.getStatus();if(he(nn,`RPC '${e}' ${h} failed with status:`,A,"response text:",g.getResponseText()),A>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const F=I?.error;if(F&&F.status&&F.message){const H=(function(P){const B=P.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(B)>=0?B:ie.UNKNOWN})(F.status);p(new ye(H,F.message))}else p(new ye(ie.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ye(ie.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{he(nn,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);he(nn,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=ip(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const g=u.join("");he(nn,`Creating RPC '${e}' stream ${o}: ${g}`,m);const E=h.createWebChannel(g,m);this.I_(E);let T=!1,A=!1;const I=new gN({Ho:F=>{A?he(nn,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(T||(he(nn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),T=!0),he(nn,`RPC '${e}' stream ${o} sending:`,F),E.send(F))},Jo:()=>E.close()});return Ml(E,jl.EventType.OPEN,(()=>{A||(he(nn,`RPC '${e}' stream ${o} transport opened.`),I.i_())})),Ml(E,jl.EventType.CLOSE,(()=>{A||(A=!0,he(nn,`RPC '${e}' stream ${o} transport closed`),I.o_(),this.E_(E))})),Ml(E,jl.EventType.ERROR,(F=>{A||(A=!0,mo(nn,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),I.o_(new ye(ie.UNAVAILABLE,"The operation could not be completed")))})),Ml(E,jl.EventType.MESSAGE,(F=>{if(!A){const H=F.data[0];Qe(!!H,16349);const D=H,P=D?.error||D[0]?.error;if(P){he(nn,`RPC '${e}' stream ${o} received error:`,P);const B=P.status;let Z=(function(pe){const C=Mt[pe];if(C!==void 0)return xS(C)})(B),se=P.message;Z===void 0&&(Z=ie.INTERNAL,se="Unknown error status: "+B+" with message "+P.message),A=!0,I.o_(new ye(Z,se)),E.close()}else he(nn,`RPC '${e}' stream ${o} received:`,H),I.__(H)}})),co.u_(),setTimeout((()=>{I.s_()}),0),I}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return W0()}}function yN(r){return new co(r)}function xm(){return typeof document<"u"?document:null}function af(r){return new Tx(r,!0)}co.c_=!1;class GS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const oT="PersistentStream";class KS{constructor(e,n,s,o,u,h,m,p){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new GS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(_r(n.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ye(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(oT,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(he(oT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _N extends KS{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Ax(this.serializer,e),s=(function(u){if(!("targetChange"in u))return we.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?Pi(h.readTime):we.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=tp(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=$m(p)?{documents:Cx(u,p)}:{query:Ix(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=MS(u,h.resumeToken);const g=Jm(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(we.min())>0){m.readTime=Ph(u,h.snapshotVersion.toTimestamp());const g=Jm(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=xx(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=tp(this.serializer),n.removeTarget=e,this.K_(n)}}class vN extends KS{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Rx(e.writeResults,e.commitTime),s=Pi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=tp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>wx(this.serializer,s)))};this.K_(n)}}class EN{}class TN extends EN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ye(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(e,Zm(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(ie.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(e,Zm(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ye(ie.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function SN(r,e,n,s){return new TN(r,e,n,s)}class bN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_r(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ca="RemoteStore";class AN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((h=>{s.enqueueAndForget((async()=>{pa(this)&&(he(ca,"Restarting streams for network reachability change."),await(async function(p){const g=Ie(p);g.Ea.add(4),await Su(g),g.Va.set("Unknown"),g.Ea.delete(4),await of(g)})(this))}))})),this.Va=new bN(s,o)}}async function of(r){if(pa(r))for(const e of r.Ra)await e(!0)}async function Su(r){for(const e of r.Ra)await e(!1)}function YS(r,e){const n=Ie(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),$p(n)?Xp(n):wo(n).O_()&&Qp(n,e))}function Yp(r,e){const n=Ie(r),s=wo(n);n.Ia.delete(e),s.O_()&&QS(n,e),n.Ia.size===0&&(s.O_()?s.L_():pa(n)&&n.Va.set("Unknown"))}function Qp(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wo(r).Z_(e)}function QS(r,e){r.da.$e(e),wo(r).X_(e)}function Xp(r){r.da=new yx({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),wo(r).start(),r.Va.ua()}function $p(r){return pa(r)&&!wo(r).x_()&&r.Ia.size>0}function pa(r){return Ie(r).Ea.size===0}function XS(r){r.da=void 0}async function wN(r){r.Va.set("Online")}async function RN(r){r.Ia.forEach(((e,n)=>{Qp(r,e)}))}async function CN(r,e){XS(r),$p(r)?(r.Va.ha(e),Xp(r)):r.Va.set("Unknown")}async function IN(r,e,n){if(r.Va.set("Online"),e instanceof OS&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(s){he(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await jh(r,s)}else if(e instanceof Eh?r.da.Xe(e):e instanceof NS?r.da.st(e):r.da.tt(e),!n.isEqual(we.min()))try{const s=await FS(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.da.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(en.EMPTY_BYTE_STRING,E.snapshotVersion)),QS(u,p);const T=new rs(E.target,p,g,E.sequenceNumber);Qp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){he(ca,"Failed to raise snapshot:",s),await jh(r,s)}}async function jh(r,e,n){if(!Ao(e))throw e;r.Ea.add(1),await Su(r),r.Va.set("Offline"),n||(n=()=>FS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{he(ca,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await of(r)}))}function $S(r,e){return e().catch((n=>jh(r,n,e)))}async function lf(r){const e=Ie(r),n=ms(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Mp;for(;DN(e);)try{const o=await uN(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,xN(e,o)}catch(o){await jh(e,o)}WS(e)&&JS(e)}function DN(r){return pa(r)&&r.Ta.length<10}function xN(r,e){r.Ta.push(e);const n=ms(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function WS(r){return pa(r)&&!ms(r).x_()&&r.Ta.length>0}function JS(r){ms(r).start()}async function NN(r){ms(r).ra()}async function ON(r){const e=ms(r);for(const n of r.Ta)e.ea(n.mutations)}async function MN(r,e,n){const s=r.Ta.shift(),o=jp.from(s,e,n);await $S(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await lf(r)}async function kN(r,e){e&&ms(r).Y_&&await(async function(s,o){if((function(h){return mx(h)&&h!==ie.ABORTED})(o.code)){const u=s.Ta.shift();ms(s).B_(),await $S(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await lf(s)}})(r,e),WS(r)&&JS(r)}async function lT(r,e){const n=Ie(r);n.asyncQueue.verifyOperationInProgress(),he(ca,"RemoteStore received new credentials");const s=pa(n);n.Ea.add(3),await Su(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await of(n)}async function VN(r,e){const n=Ie(r);e?(n.Ea.delete(2),await of(n)):e||(n.Ea.add(2),await Su(n),n.Va.set("Unknown"))}function wo(r){return r.ma||(r.ma=(function(n,s,o){const u=Ie(n);return u.sa(),new _N(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:wN.bind(null,r),Yo:RN.bind(null,r),t_:CN.bind(null,r),J_:IN.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),$p(r)?Xp(r):r.Va.set("Unknown")):(await r.ma.stop(),XS(r))}))),r.ma}function ms(r){return r.fa||(r.fa=(function(n,s,o){const u=Ie(n);return u.sa(),new vN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:NN.bind(null,r),t_:kN.bind(null,r),ta:ON.bind(null,r),na:MN.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await lf(r)):(await r.fa.stop(),r.Ta.length>0&&(he(ca,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Wp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new Wp(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jp(r,e){if(_r("AsyncQueue",`${e}: ${r}`),Ao(r))return new ye(ie.UNAVAILABLE,`${e}: ${r}`);throw r}class ho{static emptySet(e){return new ho(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Te.comparator(n.key,s.key):(n,s)=>Te.comparator(n.key,s.key),this.keyedMap=Bl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ho)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ho;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class uT{constructor(){this.ga=new ht(Te.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ae(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class vo{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new vo(e,n,ho.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ef(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class UN{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class LN{constructor(){this.queries=cT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ie(n),u=o.queries;o.queries=cT(),u.forEach(((h,m)=>{for(const p of m.ba)p.onError(s)}))})(this,new ye(ie.ABORTED,"Firestore shutting down"))}}function cT(){return new ma((r=>yS(r)),ef)}async function PN(r,e){const n=Ie(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new UN,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Jp(h,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Zp(n)}async function zN(r,e){const n=Ie(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.ba.indexOf(e);h>=0&&(u.ba.splice(h,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function jN(r,e){const n=Ie(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.ba)m.Fa(o)&&(s=!0);h.wa=o}}s&&Zp(n)}function BN(r,e,n){const s=Ie(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function Zp(r){r.Ca.forEach((e=>{e.next()}))}var rp,hT;(hT=rp||(rp={})).Ma="default",hT.Cache="cache";class HN{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new vo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==rp.Cache}}class ZS{constructor(e){this.key=e}}class eb{constructor(e){this.key=e}}class qN{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=je(),this.mutatedKeys=je(),this.eu=_S(e),this.tu=new ho(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new uT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const A=o.get(E),I=tf(this.query,T)?T:null,F=!!A&&this.mutatedKeys.has(A.key),H=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let D=!1;A&&I?A.data.isEqual(I.data)?F!==H&&(s.track({type:3,doc:I}),D=!0):this.su(A,I)||(s.track({type:2,doc:I}),D=!0,(p&&this.eu(I,p)>0||g&&this.eu(I,g)<0)&&(m=!0)):!A&&I?(s.track({type:0,doc:I}),D=!0):A&&!I&&(s.track({type:1,doc:A}),D=!0,(p||g)&&(m=!0)),D&&(I?(h=h.add(I),u=H?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,T)=>(function(I,F){const H=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Vt:D})}};return H(I)-H(F)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Xa;return this.Xa=p,h.length!==0||g?{snapshot:new vo(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new uT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=je(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new eb(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new ZS(s))})),n}cu(e){this.Za=e.ks,this.Ya=je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const eg="SyncEngine";class FN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class GN{constructor(e){this.key=e,this.hu=!1}}class KN{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ma((m=>yS(m)),ef),this.Iu=new Map,this.Eu=new Set,this.Ru=new ht(Te.comparator),this.Au=new Map,this.Vu=new qp,this.du={},this.mu=new Map,this.fu=_o.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function YN(r,e,n=!0){const s=ab(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await tb(s,e,n,!0),o}async function QN(r,e){const n=ab(r);await tb(n,e,!0,!1)}async function tb(r,e,n,s){const o=await cN(r.localStore,Ui(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await XN(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&YS(r.remoteStore,o),m}async function XN(r,e,n,s,o){r.pu=(T,A,I)=>(async function(H,D,P,B){let Z=D.view.ru(P);Z.Ss&&(Z=await iT(H.localStore,D.query,!1).then((({documents:C})=>D.view.ru(C,Z))));const se=B&&B.targetChanges.get(D.targetId),de=B&&B.targetMismatches.get(D.targetId)!=null,pe=D.view.applyChanges(Z,H.isPrimaryClient,se,de);return dT(H,D.targetId,pe.au),pe.snapshot})(r,T,A,I);const u=await iT(r.localStore,e,!0),h=new qN(e,u.ks),m=h.ru(u.documents),p=Tu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);dT(r,n,g.au);const E=new FN(e,n,h);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function $N(r,e,n){const s=Ie(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!ef(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await np(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Yp(s.remoteStore,o.targetId),sp(s,o.targetId)})).catch(bo)):(sp(s,o.targetId),await np(s.localStore,o.targetId,!0))}async function WN(r,e){const n=Ie(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Yp(n.remoteStore,s.targetId))}async function JN(r,e,n){const s=sO(r);try{const o=await(function(h,m){const p=Ie(h),g=at.now(),E=m.reduce(((I,F)=>I.add(F.key)),je());let T,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let F=vr(),H=je();return p.xs.getEntries(I,E).next((D=>{F=D,F.forEach(((P,B)=>{B.isValidDocument()||(H=H.add(P))}))})).next((()=>p.localDocuments.getOverlayedDocuments(I,F))).next((D=>{T=D;const P=[];for(const B of m){const Z=ux(B,T.get(B.key).overlayedDocument);Z!=null&&P.push(new Ss(B.key,Z,cS(Z.value.mapValue),Li.exists(!0)))}return p.mutationQueue.addMutationBatch(I,g,P,m)})).next((D=>{A=D;const P=D.applyToLocalDocumentSet(T,H);return p.documentOverlayCache.saveOverlays(I,D.batchId,P)}))})).then((()=>({batchId:A.batchId,changes:ES(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.du[h.currentUser.toKey()];g||(g=new ht(ze)),g=g.insert(m,p),h.du[h.currentUser.toKey()]=g})(s,o.batchId,n),await bu(s,o.changes),await lf(s.remoteStore)}catch(o){const u=Jp(o,"Failed to persist write");n.reject(u)}}async function nb(r,e){const n=Ie(r);try{const s=await oN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Qe(h.hu,14607):o.removedDocuments.size>0&&(Qe(h.hu,42227),h.hu=!1))})),await bu(n,s,e)}catch(s){await bo(s)}}function fT(r,e,n){const s=Ie(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=Ie(h);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const A of T.ba)A.va(m)&&(g=!0)})),g&&Zp(p)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function ZN(r,e,n){const s=Ie(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ht(Te.comparator);h=h.insert(u,sn.newNoDocument(u,we.min()));const m=je().add(u),p=new sf(we.min(),new Map,new ht(ze),h,m);await nb(s,p),s.Ru=s.Ru.remove(u),s.Au.delete(e),tg(s)}else await np(s.localStore,e,!1).then((()=>sp(s,e,n))).catch(bo)}async function eO(r,e){const n=Ie(r),s=e.batch.batchId;try{const o=await aN(n.localStore,e);rb(n,s,null),ib(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await bu(n,o)}catch(o){await bo(o)}}async function tO(r,e,n){const s=Ie(r);try{const o=await(function(h,m){const p=Ie(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Qe(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);rb(s,e,n),ib(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await bu(s,o)}catch(o){await bo(o)}}function ib(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function rb(r,e,n){const s=Ie(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function sp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||sb(r,s)}))}function sb(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(Yp(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),tg(r))}function dT(r,e,n){for(const s of n)s instanceof ZS?(r.Vu.addReference(s.key,e),nO(r,s)):s instanceof eb?(he(eg,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||sb(r,s.key)):Ae(19791,{wu:s})}function nO(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(he(eg,"New document in limbo: "+n),r.Eu.add(s),tg(r))}function tg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new Te(ut.fromString(e)),s=r.fu.next();r.Au.set(s,new GN(n)),r.Ru=r.Ru.insert(n,s),YS(r.remoteStore,new rs(Ui(Pp(n.path)),s,"TargetPurposeLimboResolution",$h.ce))}}async function bu(r,e,n){const s=Ie(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Gp.Es(p.targetId,g);u.push(E)}})))})),await Promise.all(h),s.Pu.J_(o),await(async function(p,g){const E=Ie(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ne.forEach(g,(A=>ne.forEach(A.Ts,(I=>E.persistence.referenceDelegate.addReference(T,A.targetId,I))).next((()=>ne.forEach(A.Is,(I=>E.persistence.referenceDelegate.removeReference(T,A.targetId,I)))))))))}catch(T){if(!Ao(T))throw T;he(Kp,"Failed to update sequence numbers: "+T)}for(const T of g){const A=T.targetId;if(!T.fromCache){const I=E.vs.get(A),F=I.snapshotVersion,H=I.withLastLimboFreeSnapshotVersion(F);E.vs=E.vs.insert(A,H)}}})(s.localStore,u))}async function iO(r,e){const n=Ie(r);if(!n.currentUser.isEqual(e)){he(eg,"User change. New user:",e.toKey());const s=await qS(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ye(ie.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await bu(n,s.Ns)}}function rO(r,e){const n=Ie(r),s=n.Au.get(e);if(s&&s.hu)return je().add(s.key);{let o=je();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function ab(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=nb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZN.bind(null,e),e.Pu.J_=jN.bind(null,e.eventManager),e.Pu.yu=BN.bind(null,e.eventManager),e}function sO(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tO.bind(null,e),e}class Bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=af(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return sN(this.persistence,new nN,e.initialUser,this.serializer)}Cu(e){return new HS(Fp.Vi,this.serializer)}Du(e){return new fN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bh.provider={build:()=>new Bh};class aO extends Bh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof zh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Bx(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new HS((s=>zh.Vi(s,n)),this.serializer)}}class ap{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>fT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=iO.bind(null,this.syncEngine),await VN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new LN})()}createDatastore(e){const n=af(e.databaseInfo.databaseId),s=yN(e.databaseInfo);return SN(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new AN(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>fT(this.syncEngine,n,0)),(function(){return aT.v()?new aT:new dN})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,E){const T=new KN(o,u,h,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ie(n);he(ca,"RemoteStore shutting down."),s.Ea.add(5),await Su(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ap.provider={build:()=>new ap};class oO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ps="FirestoreClient";class lO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=Np.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{he(ps,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(he(ps,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Jp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Nm(r,e){r.asyncQueue.verifyOperationInProgress(),he(ps,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await qS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function mT(r,e){r.asyncQueue.verifyOperationInProgress();const n=await uO(r);he(ps,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>lT(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>lT(e.remoteStore,o))),r._onlineComponents=e}async function uO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(ps,"Using user provided OfflineComponentProvider");try{await Nm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;mo("Error using user provided cache. Falling back to memory cache: "+n),await Nm(r,new Bh)}}else he(ps,"Using default OfflineComponentProvider"),await Nm(r,new aO(void 0));return r._offlineComponents}async function ob(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(ps,"Using user provided OnlineComponentProvider"),await mT(r,r._uninitializedComponentsProvider._online)):(he(ps,"Using default OnlineComponentProvider"),await mT(r,new ap))),r._onlineComponents}function cO(r){return ob(r).then((e=>e.syncEngine))}async function pT(r){const e=await ob(r),n=e.eventManager;return n.onListen=YN.bind(null,e.syncEngine),n.onUnlisten=$N.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=QN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=WN.bind(null,e.syncEngine),n}function hO(r,e,n,s){const o=new oO(s),u=new HN(e,o,n);return r.asyncQueue.enqueueAndForget((async()=>PN(await pT(r),u))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>zN(await pT(r),u)))}}function fO(r,e){const n=new na;return r.asyncQueue.enqueueAndForget((async()=>JN(await cO(r),e,n))),n.promise}function lb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const dO="ComponentProvider",gT=new Map;function mO(r,e,n,s,o){return new ND(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,lb(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const ub="firestore.googleapis.com",yT=!0;class _T{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ub,this.ssl=yT}else this.host=e.host,this.ssl=e.ssl??yT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=BS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zx)throw new ye(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ED("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lb(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ye(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ye(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ye(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ng{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _T({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _T(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new uD;switch(s.type){case"firstParty":return new dD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=gT.get(n);s&&(he(dO,"Removing Datastore"),gT.delete(n),s.terminate())})(this),Promise.resolve()}}function pO(r,e,n,s={}){r=ls(r,ng);const o=ys(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(pp(`https://${m}`),gp("Firestore",!0)),u.host!==ub&&u.host!==m&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!sa(p,h)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=rn.MOCK_USER;else{g=o0(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ye(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new rn(T)}r._authCredentials=new cD(new Z0(g,E))}}class uf{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new uf(this.firestore,e,this._query)}}class Pt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ou(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}toJSON(){return{type:Pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(vu(n,Pt._jsonSchema))return new Pt(e,s||null,new Te(ut.fromString(n.referencePath)))}}Pt._jsonSchemaVersion="firestore/documentReference/1.0",Pt._jsonSchema={type:kt("string",Pt._jsonSchemaVersion),referencePath:kt("string")};class ou extends uf{constructor(e,n,s){super(e,n,Pp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new Te(e))}withConverter(e){return new ou(this.firestore,e,this._path)}}function ah(r,e,...n){if(r=St(r),arguments.length===1&&(e=Np.newId()),vD("doc","path",e),r instanceof ng){const s=ut.fromString(e,...n);return NE(s),new Pt(r,null,new Te(s))}{if(!(r instanceof Pt||r instanceof ou))throw new ye(ie.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ut.fromString(e,...n));return NE(s),new Pt(r.firestore,r instanceof ou?r.converter:null,new Te(s))}}const vT="AsyncQueue";class ET{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new GS(this,"async_queue_retry"),this._c=()=>{const s=xm();s&&he(vT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=xm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=xm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new na;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ao(e))throw e;he(vT,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,_r("INTERNAL UNHANDLED ERROR: ",TT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Wp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ae(47125,{Pc:TT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function TT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class lu extends ng{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new ET,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ET(e),this._firestoreClient=void 0,await e}}}function gO(r,e){const n=typeof r=="object"?r:vp(),s=typeof r=="string"?r:Oh,o=Kh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=r0("firestore");u&&pO(o,...u)}return o}function cb(r){if(r._terminated)throw new ye(ie.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||yO(r),r._firestoreClient}function yO(r){const e=r._freezeSettings(),n=mO(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new lO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kn(en.fromBase64String(e))}catch(n){throw new ye(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Kn(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vu(e,Kn._jsonSchema))return Kn.fromBase64String(e.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:kt("string",Kn._jsonSchemaVersion),bytes:kt("string")};class ig{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class rg{constructor(e){this._methodName=e}}class zi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(e){if(vu(e,zi._jsonSchema))return new zi(e.latitude,e.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:kt("string",zi._jsonSchemaVersion),latitude:kt("number"),longitude:kt("number")};class ui{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vu(e,ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ui(e.vectorValues);throw new ye(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ui._jsonSchemaVersion="firestore/vectorValue/1.0",ui._jsonSchema={type:kt("string",ui._jsonSchemaVersion),vectorValues:kt("object")};const _O=/^__.*__$/;class vO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms):new Eu(e,this.data,n,this.fieldTransforms)}}class hb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function fb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{dataSource:r})}}class sg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new sg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Hh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(fb(this.dataSource)&&_O.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class EO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||af(e)}createContext(e,n,s,o=!1){return new sg({dataSource:e,methodName:n,targetDoc:s,path:Zt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function db(r){const e=r._freezeSettings(),n=af(r._databaseId);return new EO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function TO(r,e,n,s,o,u={}){const h=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);ag("Data must be an object, but it was:",h,s);const m=mb(s,h);let p,g;if(u.merge)p=new Nn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const A=uu(e,T,n);if(!h.contains(A))throw new ye(ie.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);yb(E,A)||E.push(A)}p=new Nn(E),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new vO(new En(m),p,g)}class cf extends rg{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cf}}function SO(r,e,n,s){const o=r.createContext(1,e,n);ag("Data must be an object, but it was:",o,s);const u=[],h=En.empty();Ts(s,((p,g)=>{const E=gb(e,p,n);g=St(g);const T=o.childContextForFieldPath(E);if(g instanceof cf)u.push(E);else{const A=hf(g,T);A!=null&&(u.push(E),h.set(E,A))}}));const m=new Nn(u);return new hb(h,m,o.fieldTransforms)}function bO(r,e,n,s,o,u){const h=r.createContext(1,e,n),m=[uu(e,s,n)],p=[o];if(u.length%2!=0)throw new ye(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(uu(e,u[A])),p.push(u[A+1]);const g=[],E=En.empty();for(let A=m.length-1;A>=0;--A)if(!yb(g,m[A])){const I=m[A];let F=p[A];F=St(F);const H=h.childContextForFieldPath(I);if(F instanceof cf)g.push(I);else{const D=hf(F,H);D!=null&&(g.push(I),E.set(I,D))}}const T=new Nn(g);return new hb(E,T,h.fieldTransforms)}function hf(r,e){if(pb(r=St(r)))return ag("Unsupported field value:",e,r),mb(r,e);if(r instanceof rg)return(function(s,o){if(!fb(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=hf(m,o.childContextForArray(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=St(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return ix(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=at.fromDate(s);return{timestampValue:Ph(o.serializer,u)}}if(s instanceof at){const u=new at(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ph(o.serializer,u)}}if(s instanceof zi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Kn)return{bytesValue:MS(o.serializer,s._byteString)};if(s instanceof Pt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Hp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ui)return(function(h,m){const p=h instanceof ui?h.toArray():h;return{mapValue:{fields:{[lS]:{stringValue:uS},[Mh]:{arrayValue:{values:p.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return zp(m.serializer,E)}))}}}}}})(s,o);if(jS(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Op(s)}`)})(r,e)}function mb(r,e){const n={};return nS(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ts(r,((s,o)=>{const u=hf(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function pb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof at||r instanceof zi||r instanceof Kn||r instanceof Pt||r instanceof rg||r instanceof ui||jS(r))}function ag(r,e,n){if(!pb(n)||!eS(n)){const s=Op(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function uu(r,e,n){if((e=St(e))instanceof ig)return e._internalPath;if(typeof e=="string")return gb(r,e);throw Hh("Field path arguments must be of type string or ",r,!1,void 0,n)}const AO=new RegExp("[~\\*/\\[\\]]");function gb(r,e,n){if(e.search(AO)>=0)throw Hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new ig(...e.split("."))._internalPath}catch{throw Hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Hh(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ye(ie.INVALID_ARGUMENT,m+r+p)}function yb(r,e){return r.some((n=>n.isEqual(e)))}class wO{convertValue(e,n="none"){switch(ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ts(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Mh].arrayValue?.values?.map((s=>Tt(s.doubleValue)));return new ui(n)}convertGeoPoint(e){return new zi(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Jh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const n=hs(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ut.fromString(e);Qe(zS(s),9688,{name:e});const o=new iu(s.get(1),s.get(3)),u=new Te(s.popFirst(5));return o.isEqual(n)||_r(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class _b extends wO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,n)}}const ST="@firebase/firestore",bT="4.10.0";function AT(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class vb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(uu("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class RO extends vb{data(){return super.data()}}function CO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ye(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function IO(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class ql{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ia extends vb{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(uu("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ia._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",ia._jsonSchema={type:kt("string",ia._jsonSchemaVersion),bundleSource:kt("string","DocumentSnapshot"),bundleName:kt("string"),bundle:kt("string")};class Th extends ia{data(e={}){return super.data(e)}}class fo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ql(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Th(this._firestore,this._userDataWriter,s.key,s,new ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:DO(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Np.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function DO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:r})}}fo._jsonSchemaVersion="firestore/querySnapshot/1.0",fo._jsonSchema={type:kt("string",fo._jsonSchemaVersion),bundleSource:kt("string","QuerySnapshot"),bundleName:kt("string"),bundle:kt("string")};function wT(r,e,n){r=ls(r,Pt);const s=ls(r.firestore,lu),o=IO(r.converter,e,n),u=db(s);return Eb(s,[TO(u,"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Li.none())])}function xO(r,e,n,...s){r=ls(r,Pt);const o=ls(r.firestore,lu),u=db(o);let h;return h=typeof(e=St(e))=="string"||e instanceof ig?bO(u,"updateDoc",r._key,e,n,s):SO(u,"updateDoc",r._key,e),Eb(o,[h.toMutation(r._key,Li.exists(!0))])}function NO(r,...e){r=St(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||AT(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(AT(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let u,h,m;if(r instanceof Pt)h=ls(r.firestore,lu),m=Pp(r._key.path),u={next:g=>{e[s]&&e[s](OO(h,r,g))},error:e[s+1],complete:e[s+2]};else{const g=ls(r,uf);h=ls(g.firestore,lu),m=g._query;const E=new _b(h);u={next:T=>{e[s]&&e[s](new fo(h,E,g,T))},error:e[s+1],complete:e[s+2]},CO(r._query)}const p=cb(h);return hO(p,m,o,u)}function Eb(r,e){const n=cb(r);return fO(n,e)}function OO(r,e,n){const s=n.docs.get(e._key),o=new _b(r);return new ia(r,o,e._key,s,new ql(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){lD(da),aa(new us("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new lu(new hD(s.getProvider("auth-internal")),new mD(h,s.getProvider("app-check-internal")),OD(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ki(ST,bT,e),ki(ST,bT,"esm2020")})();const Tb="firebasestorage.googleapis.com",Sb="storageBucket",MO=120*1e3,kO=600*1e3;class pt extends qi{constructor(e,n,s=0){super(Om(e),`Firebase Storage: ${n} (${Om(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Om(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var mt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(mt||(mt={}));function Om(r){return"storage/"+r}function og(){const r="An unknown error occurred, please check the error payload for server response.";return new pt(mt.UNKNOWN,r)}function VO(r){return new pt(mt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function UO(r){return new pt(mt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function LO(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new pt(mt.UNAUTHENTICATED,r)}function PO(){return new pt(mt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function zO(r){return new pt(mt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function jO(){return new pt(mt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function BO(){return new pt(mt.CANCELED,"User canceled the upload/download.")}function HO(r){return new pt(mt.INVALID_URL,"Invalid URL '"+r+"'.")}function qO(r){return new pt(mt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function FO(){return new pt(mt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Sb+"' property when initializing the app?")}function GO(){return new pt(mt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function KO(){return new pt(mt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function YO(r){return new pt(mt.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function op(r){return new pt(mt.INVALID_ARGUMENT,r)}function bb(){return new pt(mt.APP_DELETED,"The Firebase app was deleted.")}function QO(r){return new pt(mt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function $l(r,e){return new pt(mt.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function kl(r){throw new pt(mt.INTERNAL_ERROR,"Internal error: "+r)}class On{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=On.makeFromUrl(e,n)}catch{return new On(e,"")}if(s.path==="")return s;throw qO(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(se){se.path_=decodeURIComponent(se.path)}const E="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",I=new RegExp(`^https?://${T}/${E}/b/${o}/o${A}`,"i"),F={bucket:1,path:3},H=n===Tb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,D="([^?#]*)",P=new RegExp(`^https?://${H}/${o}/${D}`,"i"),Z=[{regex:m,indices:p,postModify:u},{regex:I,indices:F,postModify:g},{regex:P,indices:{bucket:1,path:2},postModify:g}];for(let se=0;se<Z.length;se++){const de=Z[se],pe=de.regex.exec(e);if(pe){const C=pe[de.indices.bucket];let R=pe[de.indices.path];R||(R=""),s=new On(C,R),de.postModify(s);break}}if(s==null)throw HO(e);return s}}class XO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function $O(r,e,n){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function E(...D){g||(g=!0,e.apply(null,D))}function T(D){o=setTimeout(()=>{o=null,r(I,p())},D)}function A(){u&&clearTimeout(u)}function I(D,...P){if(g){A();return}if(D){A(),E.call(null,D,...P);return}if(p()||h){A(),E.call(null,D,...P);return}s<64&&(s*=2);let Z;m===1?(m=2,Z=0):Z=(s+Math.random())*1e3,T(Z)}let F=!1;function H(D){F||(F=!0,A(),!g&&(o!==null?(D||(m=2),clearTimeout(o),T(0)):D||(m=1)))}return T(0),u=setTimeout(()=>{h=!0,H(!0)},n),H}function WO(r){r(!1)}function JO(r){return r!==void 0}function ZO(r){return typeof r=="object"&&!Array.isArray(r)}function lg(r){return typeof r=="string"||r instanceof String}function RT(r){return ug()&&r instanceof Blob}function ug(){return typeof Blob<"u"}function CT(r,e,n,s){if(s<e)throw op(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw op(`Invalid value for '${r}'. Expected ${n} or less.`)}function cg(r,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${r}`}function Ab(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var ra;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(ra||(ra={}));function eM(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}class tM{constructor(e,n,s,o,u,h,m,p,g,E,T,A=!0,I=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=T,this.retry=A,this.isUsingEmulator=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((F,H)=>{this.resolve_=F,this.reject_=H,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new oh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===ra.NO_ERROR,p=u.getStatus();if(!m||eM(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===ra.ABORT;s(!1,new oh(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new oh(g,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());JO(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=og();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?bb():BO();h(p)}else{const p=jO();h(p)}};this.canceled_?n(!1,new oh(!1,null,!0)):this.backoffId_=$O(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&WO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class oh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function nM(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function iM(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function rM(r,e){e&&(r["X-Firebase-GMPID"]=e)}function sM(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function aM(r,e,n,s,o,u,h=!0,m=!1){const p=Ab(r.urlParams),g=r.url+p,E=Object.assign({},r.headers);return rM(E,e),nM(E,n),iM(E,u),sM(E,s),new tM(g,r.method,E,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h,m)}function oM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function lM(...r){const e=oM();if(e!==void 0){const n=new e;for(let s=0;s<r.length;s++)n.append(r[s]);return n.getBlob()}else{if(ug())return new Blob(r);throw new pt(mt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function uM(r,e,n){return r.webkitSlice?r.webkitSlice(e,n):r.mozSlice?r.mozSlice(e,n):r.slice?r.slice(e,n):null}function cM(r){if(typeof atob>"u")throw YO("base-64");return atob(r)}const Mi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Mm{constructor(e,n){this.data=e,this.contentType=n||null}}function hM(r,e){switch(r){case Mi.RAW:return new Mm(wb(e));case Mi.BASE64:case Mi.BASE64URL:return new Mm(Rb(r,e));case Mi.DATA_URL:return new Mm(dM(e),mM(e))}throw og()}function wb(r){const e=[];for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<r.length-1&&(r.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=r.charCodeAt(++n);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function fM(r){let e;try{e=decodeURIComponent(r)}catch{throw $l(Mi.DATA_URL,"Malformed data URL.")}return wb(e)}function Rb(r,e){switch(r){case Mi.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw $l(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Mi.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw $l(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=cM(e)}catch(o){throw o.message.includes("polyfill")?o:$l(r,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class Cb{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw $l(Mi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=pM(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function dM(r){const e=new Cb(r);return e.base64?Rb(Mi.BASE64,e.rest):fM(e.rest)}function mM(r){return new Cb(r).contentType}function pM(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}class is{constructor(e,n){let s=0,o="";RT(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(RT(this.data_)){const s=this.data_,o=uM(s,e,n);return o===null?null:new is(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new is(s,!0)}}static getBlob(...e){if(ug()){const n=e.map(s=>s instanceof is?s.data_:s);return new is(lM.apply(null,n))}else{const n=e.map(h=>lg(h)?hM(Mi.RAW,h).data:h.data_);let s=0;n.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(h=>{for(let m=0;m<h.length;m++)o[u++]=h[m]}),new is(o,!0)}}uploadData(){return this.data_}}function Ib(r){let e;try{e=JSON.parse(r)}catch{return null}return ZO(e)?e:null}function gM(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function yM(r,e){const n=e.split("/").filter(s=>s.length>0).join("/");return r.length===0?n:r+"/"+n}function Db(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}function _M(r,e){return e}class cn{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||_M}}let lh=null;function vM(r){return!lg(r)||r.length<2?r:Db(r)}function xb(){if(lh)return lh;const r=[];r.push(new cn("bucket")),r.push(new cn("generation")),r.push(new cn("metageneration")),r.push(new cn("name","fullPath",!0));function e(u,h){return vM(h)}const n=new cn("name");n.xform=e,r.push(n);function s(u,h){return h!==void 0?Number(h):h}const o=new cn("size");return o.xform=s,r.push(o),r.push(new cn("timeCreated")),r.push(new cn("updated")),r.push(new cn("md5Hash",null,!0)),r.push(new cn("cacheControl",null,!0)),r.push(new cn("contentDisposition",null,!0)),r.push(new cn("contentEncoding",null,!0)),r.push(new cn("contentLanguage",null,!0)),r.push(new cn("contentType",null,!0)),r.push(new cn("metadata","customMetadata",!0)),lh=r,lh}function EM(r,e){function n(){const s=r.bucket,o=r.fullPath,u=new On(s,o);return e._makeStorageReference(u)}Object.defineProperty(r,"ref",{get:n})}function TM(r,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const h=n[u];s[h.local]=h.xform(s,e[h.server])}return EM(s,r),s}function Nb(r,e,n){const s=Ib(e);return s===null?null:TM(r,s,n)}function SM(r,e,n,s){const o=Ib(e);if(o===null||!lg(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(g=>{const E=r.bucket,T=r.fullPath,A="/b/"+h(E)+"/o/"+h(T),I=cg(A,n,s),F=Ab({alt:"media",token:g});return I+F})[0]}function bM(r,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=r[u.local])}return JSON.stringify(n)}class Ob{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Mb(r){if(!r)throw og()}function AM(r,e){function n(s,o){const u=Nb(r,o,e);return Mb(u!==null),u}return n}function wM(r,e){function n(s,o){const u=Nb(r,o,e);return Mb(u!==null),SM(u,o,r.host,r._protocol)}return n}function kb(r){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=PO():o=LO():n.getStatus()===402?o=UO(r.bucket):n.getStatus()===403?o=zO(r.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function RM(r){const e=kb(r);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=VO(r.path)),u.serverResponse=o.serverResponse,u}return n}function CM(r,e,n){const s=e.fullServerUrl(),o=cg(s,r.host,r._protocol),u="GET",h=r.maxOperationRetryTime,m=new Ob(o,u,wM(r,n),h);return m.errorHandler=RM(e),m}function IM(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function DM(r,e,n){const s=Object.assign({},n);return s.fullPath=r.path,s.size=e.size(),s.contentType||(s.contentType=IM(null,e)),s}function xM(r,e,n,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let Z="";for(let se=0;se<2;se++)Z=Z+Math.random().toString().slice(2);return Z}const p=m();h["Content-Type"]="multipart/related; boundary="+p;const g=DM(e,s,o),E=bM(g,n),T="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,A=`\r
--`+p+"--",I=is.getBlob(T,s,A);if(I===null)throw GO();const F={name:g.fullPath},H=cg(u,r.host,r._protocol),D="POST",P=r.maxUploadRetryTime,B=new Ob(H,D,AM(r,n),P);return B.urlParams=F,B.headers=h,B.body=I.uploadData(),B.errorHandler=kb(e),B}class NM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ra.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ra.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ra.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,u){if(this.sent_)throw kl("cannot .send() more than once");if(ys(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw kl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw kl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw kl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw kl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class OM extends NM{initXhr(){this.xhr_.responseType="text"}}function Vb(){return new OM}class ha{constructor(e,n){this._service=e,n instanceof On?this._location=n:this._location=On.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ha(e,n)}get root(){const e=new On(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Db(this._location.path)}get storage(){return this._service}get parent(){const e=gM(this._location.path);if(e===null)return null;const n=new On(this._location.bucket,e);return new ha(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw QO(e)}}function MM(r,e,n){r._throwIfRoot("uploadBytes");const s=xM(r.storage,r._location,xb(),new is(e,!0),n);return r.storage.makeRequestWithTokens(s,Vb).then(o=>({metadata:o,ref:r}))}function kM(r){r._throwIfRoot("getDownloadURL");const e=CM(r.storage,r._location,xb());return r.storage.makeRequestWithTokens(e,Vb).then(n=>{if(n===null)throw KO();return n})}function VM(r,e){const n=yM(r._location.path,e),s=new On(r._location.bucket,n);return new ha(r.storage,s)}function UM(r){return/^[A-Za-z]+:\/\//.test(r)}function LM(r,e){return new ha(r,e)}function Ub(r,e){if(r instanceof hg){const n=r;if(n._bucket==null)throw FO();const s=new ha(n,n._bucket);return e!=null?Ub(s,e):s}else return e!==void 0?VM(r,e):r}function PM(r,e){if(e&&UM(e)){if(r instanceof hg)return LM(r,e);throw op("To use ref(service, url), the first argument must be a Storage instance.")}else return Ub(r,e)}function IT(r,e){const n=e?.[Sb];return n==null?null:On.makeFromBucketSpec(n,r)}function zM(r,e,n,s={}){r.host=`${e}:${n}`;const o=ys(e);o&&(pp(`https://${r.host}/b`),gp("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:o0(u,r.app.options.projectId))}class hg{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=Tb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=MO,this._maxUploadRetryTime=kO,this._requests=new Set,o!=null?this._bucket=On.makeFromBucketSpec(o,this._host):this._bucket=IT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=On.makeFromBucketSpec(this._url,e):this._bucket=IT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){CT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){CT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ha(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new XO(bb());{const h=aM(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const DT="@firebase/storage",xT="0.14.0";const Lb="storage";function jM(r,e,n){return r=St(r),MM(r,e,n)}function BM(r){return r=St(r),kM(r)}function HM(r,e){return r=St(r),PM(r,e)}function qM(r=vp(),e){r=St(r);const s=Kh(r,Lb).getImmediate({identifier:e}),o=r0("storage");return o&&FM(s,...o),s}function FM(r,e,n,s={}){zM(r,e,n,s)}function GM(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new hg(n,s,o,e,da)}function KM(){aa(new us(Lb,GM,"PUBLIC").setMultipleInstances(!0)),ki(DT,xT,""),ki(DT,xT,"esm2020")}KM();const YM={apiKey:"AIzaSyDu6Rx9OztT3_1XkJZXwTbZyixrvRCiv0M",authDomain:"super-simple-flashcards.firebaseapp.com",projectId:"super-simple-flashcards",storageBucket:"super-simple-flashcards.firebasestorage.app",messagingSenderId:"555056147081",appId:"1:555056147081:web:de944beb9672949e94b458",measurementId:"G-KZB4QQGCR0"},fg=c0(YM),Vl=aD(fg),QM=new cr,uh=gO(fg),XM=qM(fg),Ul={root:{id:"root",type:"folder",name:"Main",parentId:null,permissions:"private"}},$M=r=>{const e=D=>`flashcards_filesystem_${D||"local"}`,[n,s]=L.useState(()=>{const D=e(r),P=localStorage.getItem(D);if(P)try{return JSON.parse(P)}catch(B){console.error("Parse error",B)}return Ul}),[o,u]=L.useState(null),h=L.useRef(!1);L.useEffect(()=>{if(!r)return;const D=NO(ah(uh,"users",r),P=>{if(P.exists()){const B=P.data().fileSystem;B&&(h.current=!0,s(B),localStorage.setItem(e(r),JSON.stringify(B)))}else wT(ah(uh,"users",r),{fileSystem:Ul},{merge:!0}),s(Ul)},P=>{console.error("Firestore sync error:",P)});return()=>D()},[r]),L.useEffect(()=>{const D=e(r);if(n!==Ul&&localStorage.setItem(D,JSON.stringify(n)),r&&n!==Ul){if(h.current){h.current=!1;return}(async()=>{try{await xO(ah(uh,"users",r),{fileSystem:n})}catch(B){B.code==="not-found"?await wT(ah(uh,"users",r),{fileSystem:n}):console.error("Error saving to Firestore: ",B)}})()}},[n,r]);const m=L.useCallback(D=>Object.values(n).filter(P=>P.parentId===D),[n]),p=L.useCallback((D,P,B,Z=null)=>{console.log("Creating item:",D,P,B);const se=Wv(),de={id:se,type:D,name:P,parentId:B,content:Z,permissions:"private",created:Date.now(),modified:Date.now()};return s(pe=>({...pe,[se]:de})),se},[]),g=L.useCallback(D=>{console.log("Deleting items:",D),s(P=>{const B={...P},Z=new Set(D),se=de=>{Z.add(de),Object.values(P).filter(C=>C.parentId===de).forEach(C=>se(C.id))};return D.forEach(de=>se(de)),Z.forEach(de=>delete B[de]),B})},[]),E=L.useCallback((D,P)=>{console.log("Renaming item:",D,P),s(B=>({...B,[D]:{...B[D],name:P,modified:Date.now()}}))},[]),T=L.useCallback((D,P)=>{console.log("Moving items:",D,"to",P),s(B=>{const Z={...B};return D.forEach(se=>{Z[se]&&Z[se].id!=="root"&&(Z[se]={...Z[se],parentId:P,modified:Date.now()})}),Z})},[]),A=L.useCallback((D,P)=>{console.log("Updating content for:",D),s(B=>({...B,[D]:{...B[D],content:P,modified:Date.now()}}))},[]),I=L.useCallback((D,P)=>{console.log("Clipboard:",P,D),u({action:P,itemIds:D})},[]),F=L.useCallback(D=>{console.log("Pasting to:",D),o&&(o.action==="cut"?(T(o.itemIds,D),u(null)):o.action==="copy"&&s(P=>{const B={...P},Z=(se,de)=>{const pe=P[se];if(!pe)return;const C=Wv(),R={...pe,id:C,parentId:de,name:pe.name+(de===pe.parentId?" (Copy)":""),created:Date.now(),modified:Date.now()};B[C]=R,pe.type==="folder"&&Object.values(P).filter(O=>O.parentId===se).forEach(O=>Z(O.id,C))};return o.itemIds.forEach(se=>Z(se,D)),B}))},[o,T]),H=L.useCallback((D,P)=>{console.log("Updating permissions:",D,P),s(B=>({...B,[D]:{...B[D],permissions:P}}))},[]);return{items:n,getChildren:m,createItem:p,deleteItems:g,renameItem:E,moveItems:T,updateSetContent:A,copyToClipboard:I,pasteFromClipboard:F,clipboard:o,updatePermissions:H}},Pb=L.createContext(null),dg=()=>L.useContext(Pb),WM=({children:r})=>{const[e,n]=L.useState(null),[s,o]=L.useState(!0);L.useEffect(()=>{const g=QI(Vl,E=>{n(E?{id:E.uid,email:E.email,username:E.email?.split("@")[0]||"User"}:null),o(!1)});return()=>g()},[]);const u=(g,E)=>GI(Vl,g,E),h=(g,E)=>FI(Vl,g,E),m=()=>p2(Vl,QM),p=()=>XI(Vl);return M.jsx(Pb.Provider,{value:{user:e,login:u,signup:h,loginWithGoogle:m,logout:p,loading:s},children:!s&&r})},JM=({item:r,isSelected:e,onSelect:n,onNavigate:s,onContextMenu:o,isDragging:u,onDragStart:h,onDrop:m,isRenaming:p,onRename:g,viewMode:E})=>{const T=I=>{I.key==="Enter"?g(r.id,I.target.value):I.key==="Escape"&&g(r.id,null)},A=I=>I?new Date(I).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):"-";return E==="list"?M.jsxs("div",{draggable:!0,onDragStart:I=>h(I,r),onDragOver:I=>{I.preventDefault(),r.type==="folder"&&(I.currentTarget.style.background="#E8F0FE")},onDragLeave:I=>I.currentTarget.style.background=e?"rgba(232, 240, 254, 0.5)":"transparent",onDrop:I=>{I.preventDefault(),I.currentTarget.style.background="transparent",m(r)},onClick:I=>!p&&n(r,I.ctrlKey||I.metaKey),onDoubleClick:()=>!p&&s(r),onContextMenu:I=>o(I,r),style:{display:"grid",gridTemplateColumns:"minmax(250px, 2fr) 150px 150px",alignItems:"center",padding:"0.75rem 1rem",cursor:"pointer",background:e?"#E8F0FE":"transparent",borderBottom:"1px solid #f0f0f0",opacity:u?.5:1,transition:"background 0.1s"},children:[M.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",overflow:"hidden"},children:[M.jsx("div",{style:{fontSize:"1.5rem",flexShrink:0},children:r.type==="folder"?"":""}),p?M.jsx("input",{autoFocus:!0,onFocus:I=>I.target.select(),defaultValue:r.name,onBlur:I=>g(r.id,I.target.value),onKeyDown:T,onClick:I=>I.stopPropagation(),style:{width:"100%",fontSize:"0.9rem",padding:"2px",border:"1px solid var(--color-primary)",borderRadius:"4px"}}):M.jsx("div",{style:{fontSize:"0.9rem",fontWeight:e?600:500,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:r.name})]}),M.jsx("div",{style:{fontSize:"0.9rem",color:"#5f6368"},children:"me"}),M.jsx("div",{style:{fontSize:"0.85rem",color:"#5f6368"},children:A(r.modified||r.created)})]}):M.jsxs("div",{draggable:!0,onDragStart:I=>h(I,r),onDragOver:I=>{I.preventDefault(),r.type==="folder"&&(I.currentTarget.style.background="#E8F0FE")},onDragLeave:I=>I.currentTarget.style.background="transparent",onDrop:I=>{I.preventDefault(),I.currentTarget.style.background="transparent",m(r)},onClick:I=>!p&&n(r,I.ctrlKey||I.metaKey),onDoubleClick:()=>!p&&s(r),onContextMenu:I=>o(I,r),style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"1rem",borderRadius:"8px",cursor:"pointer",background:e?"#E8F0FE":"transparent",border:e?"1px solid var(--color-primary)":"1px solid transparent",width:"120px",opacity:u?.5:1,transition:"all 0.1s"},children:[M.jsx("div",{style:{fontSize:"3rem",marginBottom:"0.5rem"},children:r.type==="folder"?"":""}),p?M.jsx("input",{autoFocus:!0,onFocus:I=>I.target.select(),defaultValue:r.name,onBlur:I=>g(r.id,I.target.value),onKeyDown:T,onClick:I=>I.stopPropagation(),style:{width:"100%",textAlign:"center",fontSize:"0.9rem",padding:"2px",border:"1px solid var(--color-primary)",borderRadius:"4px"}}):M.jsx("div",{style:{fontSize:"0.9rem",textAlign:"center",wordBreak:"break-word",fontWeight:e?600:400},children:r.name}),M.jsx("div",{style:{fontSize:"0.7rem",color:"#999",marginTop:"0.2rem"},children:r.permissions})]})},ZM=({x:r,y:e,options:n,onClose:s})=>{const o=L.useRef(null);return L.useEffect(()=>{const u=h=>{o.current&&!o.current.contains(h.target)&&s()};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[s]),M.jsx("div",{ref:o,style:{position:"fixed",top:e,left:r,background:"white",border:"1px solid var(--color-border)",borderRadius:"8px",boxShadow:"var(--shadow-lg)",zIndex:1e3,minWidth:"160px",padding:"0.5rem 0"},children:n.map((u,h)=>M.jsx("div",{className:"context-menu-item",onClick:m=>{m.stopPropagation(),console.log("Context menu clicked:",u.label),u.action(),s()},style:{padding:"0.5rem 1rem",cursor:"pointer",fontSize:"0.9rem",color:u.danger?"var(--color-danger)":"var(--color-text)",display:"flex",alignItems:"center",gap:"0.5rem"},onMouseEnter:m=>m.target.style.background="#F5F5F7",onMouseLeave:m=>m.target.style.background="white",children:u.label},h))})},e4=({items:r,getChildren:e,createItem:n,deleteItems:s,renameItem:o,moveItems:u,onCopy:h,onPaste:m,onNavigateFile:p,updatePermissions:g,onNavigateNewSet:E})=>{const[T,A]=L.useState("root"),[I,F]=L.useState(new Set),[H,D]=L.useState(null),[P,B]=L.useState(null),[Z,se]=L.useState(null),[de,pe]=L.useState(!1),[C,R]=L.useState(null),w=L.useRef(null),O=e(T),j=(re=>{const ue=[];let _e=r[re];for(;_e;)ue.unshift(_e),_e=r[_e.parentId];return ue})(T),x=(re,ue)=>{re.preventDefault(),re.stopPropagation(),ue&&!I.has(ue.id)&&F(new Set([ue.id]));const _e=ue?I.has(ue.id)?Array.from(I):[ue.id]:[],Ve=[];ue?(Ve.push({label:"Open",action:()=>p(ue)}),Ve.push({label:"Rename",action:()=>se(ue.id)}),Ve.push({label:"Duplicate",action:()=>h(_e,"copy")}),Ve.push({label:"Copy",action:()=>h(_e,"copy")}),Ve.push({label:"Cut",action:()=>h(_e,"cut")}),Ve.push({label:"Delete",action:()=>s(_e),danger:!0}),Ve.push({label:"Make Public",action:()=>g(ue.id,"public")}),Ve.push({label:"Make Private",action:()=>g(ue.id,"private")})):Ve.push({label:"Paste",action:()=>m(T)}),D({x:re.clientX,y:re.clientY,options:Ve})},it=re=>{re.preventDefault();const ue=[{label:"New Folder",action:qe},{label:"New Set",action:U},{label:"Paste",action:()=>m(T)}];D({x:re.clientX,y:re.clientY,options:ue})},gt=re=>{if(P){if(re.type==="folder"&&re.id!==P.id){const ue=I.has(P.id)?Array.from(I):[P.id];u(ue,re.id)}B(null)}},$=L.useRef(null);L.useEffect(()=>{const re=ue=>{(ue.key==="Delete"||ue.key==="Backspace")&&I.size>0&&s(Array.from(I))};return window.addEventListener("keydown",re),()=>window.removeEventListener("keydown",re)},[I,s]);const oe=(re,ue)=>{ue&&ue.trim()!==""&&o(re,ue),se(null)},ve=(re,ue,_e)=>{F(Ve=>{let bt=new Set(ue?Ve:[]);if(window.event?.shiftKey&&$.current!==null){const Tn=Math.min($.current,_e),Fi=Math.max($.current,_e);for(let Ft=Tn;Ft<=Fi;Ft++)bt.add(O[Ft].id)}else bt.has(re.id)&&ue?bt.delete(re.id):bt.add(re.id),$.current=_e;return bt})},ke=re=>{const ue=O.map(bt=>bt.name);let _e=re,Ve=2;for(;ue.includes(_e);)_e=`${re} ${Ve}`,Ve++;return _e},qe=()=>{const re=ke("New Folder"),ue=n("folder",re,T);se(ue)},U=()=>{const re=ke("New Flashcard Set"),ue=n("set",re,T);E(ue)},ee=re=>{if(re.target===w.current||re.target.classList.contains("file-content-area")||re.target.classList.contains("dashboard-container")){pe(!0);const ue=w.current.getBoundingClientRect(),_e=re.clientX-ue.left+w.current.scrollLeft,Ve=re.clientY-ue.top+w.current.scrollTop;R({startX:re.clientX,startY:re.clientY,currentX:re.clientX,currentY:re.clientY,startRelX:_e,startRelY:Ve,currRelX:_e,currRelY:Ve}),!re.shiftKey&&!re.metaKey&&!re.ctrlKey&&(F(new Set),$.current=null)}},le=re=>{if(de&&C){const ue=w.current.getBoundingClientRect(),_e=re.clientX-ue.left+w.current.scrollLeft,Ve=re.clientY-ue.top+w.current.scrollTop;R(bt=>({...bt,currentX:re.clientX,currentY:re.clientY,currRelX:_e,currRelY:Ve}))}},ce=re=>{if(de&&C){const ue={left:Math.min(C.startX,C.currentX),top:Math.min(C.startY,C.currentY),right:Math.max(C.startX,C.currentX),bottom:Math.max(C.startY,C.currentY)},_e=document.querySelectorAll(".file-item-wrapper"),Ve=new Set(re.shiftKey?I:[]);_e.forEach(bt=>{const Tn=bt.getBoundingClientRect();if(!(Tn.right<ue.left||Tn.left>ue.right||Tn.bottom<ue.top||Tn.top>ue.bottom)){const Ft=bt.getAttribute("data-id");Ft&&Ve.add(Ft)}}),(Ve.size>0||!re.shiftKey)&&F(Ve),pe(!1),R(null)}},[ge,Re]=L.useState("grid");return M.jsxs("div",{className:"dashboard-container",ref:w,onContextMenu:it,onMouseDown:ee,onMouseMove:le,onMouseUp:ce,onClick:()=>{},style:{height:"100%",display:"flex",flexDirection:"column",position:"relative",userSelect:"none"},children:[M.jsxs("div",{className:"dashboard-toolbar",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",paddingBottom:"1rem",borderBottom:"1px solid var(--color-border)"},children:[M.jsx("div",{className:"breadcrumbs",style:{display:"flex",gap:"0.5rem",fontSize:"1.2rem",color:"var(--color-text-secondary)"},children:j.map((re,ue)=>M.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[M.jsx("span",{onClick:()=>A(re.id),style:{cursor:"pointer",color:ue===j.length-1?"var(--color-primary)":"inherit",fontWeight:ue===j.length-1?600:400,textDecoration:ue!==j.length-1?"underline":"none"},children:re.name}),ue<j.length-1&&M.jsx("span",{style:{color:"#ccc"},children:">"})]},re.id))}),M.jsxs("div",{className:"toolbar-actions",style:{display:"flex",gap:"1rem",alignItems:"center"},children:[M.jsxs("div",{style:{display:"flex",background:"#f0f2f5",borderRadius:"20px",padding:"2px",marginRight:"1rem"},children:[M.jsx("button",{onClick:()=>Re("list"),style:{background:ge==="list"?"white":"transparent",border:"none",borderRadius:"18px",padding:"6px 12px",cursor:"pointer",boxShadow:ge==="list"?"0 1px 3px rgba(0,0,0,0.1)":"none",display:"flex",alignItems:"center",gap:"5px"},children:M.jsx("span",{style:{fontSize:"14px"},children:""})}),M.jsx("button",{onClick:()=>Re("grid"),style:{background:ge==="grid"?"white":"transparent",border:"none",borderRadius:"18px",padding:"6px 12px",cursor:"pointer",boxShadow:ge==="grid"?"0 1px 3px rgba(0,0,0,0.1)":"none",display:"flex",alignItems:"center",gap:"5px"},children:M.jsx("span",{style:{fontSize:"14px"},children:""})})]}),M.jsx("button",{className:"action-btn",onClick:qe,style:{fontSize:"0.9rem",padding:"0.5rem 1rem"},children:"+ New Folder"}),M.jsx("button",{className:"action-btn",onClick:U,style:{fontSize:"0.9rem",padding:"0.5rem 1rem",background:"var(--color-primary)",color:"white",borderColor:"var(--color-primary)"},children:"+ New Set"})]})]}),ge==="list"&&O.length>0&&M.jsxs("div",{style:{display:"grid",gridTemplateColumns:"minmax(250px, 2fr) 150px 150px",padding:"0.5rem 1rem",borderBottom:"1px solid #eee",marginBottom:"0.5rem",color:"#666",fontSize:"0.9rem",fontWeight:"500"},children:[M.jsx("div",{children:"Name"}),M.jsx("div",{children:"Owner"}),M.jsx("div",{children:"Date Modified"})]}),M.jsxs("div",{className:`file-content-area ${ge}-view`,style:{display:"flex",flexDirection:ge==="list"?"column":"row",flexWrap:ge==="list"?"nowrap":"wrap",gap:ge==="list"?"0":"1.5rem",alignContent:"flex-start",flex:1},children:[O.map((re,ue)=>M.jsx("div",{className:"file-item-wrapper","data-id":re.id,style:{width:ge==="list"?"100%":"auto"},children:M.jsx(JM,{item:re,viewMode:ge,isSelected:I.has(re.id),onSelect:(_e,Ve)=>ve(_e,Ve,ue),onNavigate:_e=>{_e.type==="folder"?A(_e.id):p(_e)},onContextMenu:x,isDragging:P?.id===re.id,onDragStart:(_e,Ve)=>B(Ve),onDrop:gt,isRenaming:Z===re.id,onRename:oe})},re.id)),O.length===0&&M.jsxs("div",{style:{color:"var(--color-text-secondary)",width:"100%",textAlign:"center",marginTop:"2rem",display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem",opacity:.7},children:[M.jsx("div",{style:{fontSize:"3rem"},children:""}),M.jsx("div",{children:"This folder is empty"}),M.jsx("div",{style:{fontSize:"0.9rem"},children:"Use the buttons above to create content"})]})]}),de&&C&&M.jsx("div",{style:{position:"absolute",border:"1px solid #007bff",backgroundColor:"rgba(0, 123, 255, 0.2)",left:Math.min(C.startRelX,C.currRelX),top:Math.min(C.startRelY,C.currRelY),width:Math.abs(C.currRelX-C.startRelX),height:Math.abs(C.currRelY-C.startRelY),pointerEvents:"none",zIndex:100}}),H&&M.jsx(ZM,{...H,onClose:()=>D(null)})]})},t4=({isOpen:r,onClose:e,initialMode:n="login"})=>{const[s,o]=L.useState(n),[u,h]=L.useState(""),[m,p]=L.useState(""),[g,E]=L.useState(""),[T,A]=L.useState(!1),{login:I,signup:F,loginWithGoogle:H}=dg();if(!r)return null;const D=async B=>{B.preventDefault(),E(""),A(!0);try{s==="login"?await I(u,m):await F(u,m),e()}catch(Z){E(Z.toString())}finally{A(!1)}},P=async()=>{A(!0);try{await H(),e()}catch(B){console.error("Google Login Error:",B),E(B.message||"Google login failed")}finally{A(!1)}};return M.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(5px)"},onClick:e,children:M.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"20px",width:"100%",maxWidth:"400px",boxShadow:"0 20px 40px rgba(0,0,0,0.2)"},onClick:B=>B.stopPropagation(),children:[M.jsx("h2",{style:{marginBottom:"1.5rem",textAlign:"center",fontSize:"1.8rem"},children:s==="login"?"Welcome Back":"Create Account"}),g&&M.jsx("div",{style:{padding:"0.75rem",background:"#FEE2E2",color:"#DC2626",borderRadius:"8px",marginBottom:"1rem",fontSize:"0.9rem",textAlign:"center"},children:g}),M.jsxs("form",{onSubmit:D,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[M.jsxs("div",{children:[M.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",fontSize:"0.9rem"},children:"Email"}),M.jsx("input",{type:"email",value:u,onChange:B=>h(B.target.value),required:!0,placeholder:"name@example.com",style:{width:"100%",padding:"0.75rem",borderRadius:"10px",border:"1px solid #ddd"}})]}),M.jsxs("div",{children:[M.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500",fontSize:"0.9rem"},children:"Password"}),M.jsx("input",{type:"password",value:m,onChange:B=>p(B.target.value),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"10px",border:"1px solid #ddd"}})]}),M.jsx("button",{type:"submit",disabled:T,style:{marginTop:"0.5rem",padding:"0.8rem",background:"var(--color-primary)",color:"white",borderRadius:"10px",fontWeight:"600",fontSize:"1rem",opacity:T?.7:1},children:T?"Processing...":s==="login"?"Log In":"Sign Up"})]}),M.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",margin:"1.5rem 0"},children:[M.jsx("div",{style:{flex:1,height:"1px",background:"#eee"}}),M.jsx("span",{style:{color:"#999",fontSize:"0.8rem"},children:"OR"}),M.jsx("div",{style:{flex:1,height:"1px",background:"#eee"}})]}),M.jsxs("button",{onClick:P,type:"button",style:{width:"100%",padding:"0.8rem",background:"white",border:"1px solid #ddd",borderRadius:"10px",fontWeight:"500",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",color:"#333"},children:[M.jsxs("svg",{viewBox:"0 0 24 24",width:"20",height:"20",children:[M.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),M.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),M.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),M.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]}),M.jsxs("div",{style:{marginTop:"1.5rem",textAlign:"center",fontSize:"0.9rem",color:"#666"},children:[s==="login"?"Don't have an account? ":"Already have an account? ",M.jsx("button",{onClick:()=>{o(s==="login"?"signup":"login"),E("")},style:{color:"var(--color-primary)",fontWeight:"600",textDecoration:"underline"},children:s==="login"?"Sign Up":"Log In"})]})]})})},n4=()=>{const[r,e]=L.useState(!1),[n,s]=L.useState("login"),o=u=>{s(u),e(!0)};return M.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)",textAlign:"center",padding:"2rem"},children:[M.jsxs("div",{style:{background:"white",padding:"4rem 3rem",borderRadius:"24px",boxShadow:"0 20px 60px rgba(0,0,0,0.1)",maxWidth:"600px",width:"100%"},children:[M.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),M.jsx("h1",{style:{fontSize:"3rem",fontWeight:"800",color:"#2d3748",marginBottom:"1rem",lineHeight:"1.2"},children:"Super Simple Flashcards"}),M.jsxs("p",{style:{fontSize:"1.25rem",color:"#718096",marginBottom:"3rem",lineHeight:"1.6"},children:["Make flash cards simple and fast. ",M.jsx("br",{}),"No clutter, just learning."]}),M.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",flexDirection:"column"},children:[M.jsx("button",{onClick:()=>o("signup"),style:{padding:"1rem 2rem",fontSize:"1.1rem",fontWeight:"600",color:"white",background:"var(--color-primary, #FF9500)",border:"none",borderRadius:"12px",cursor:"pointer",transition:"transform 0.2s",boxShadow:"0 4px 12px rgba(255, 149, 0, 0.3)"},children:"Get Started for Free"}),M.jsx("button",{onClick:()=>o("login"),style:{padding:"1rem 2rem",fontSize:"1.1rem",fontWeight:"600",color:"#4a5568",background:"white",border:"2px solid #e2e8f0",borderRadius:"12px",cursor:"pointer",transition:"background 0.2s"},children:"Log In"})]})]}),M.jsx(t4,{isOpen:r,onClose:()=>e(!1),initialMode:n})]})},zb=()=>{const[r,e]=L.useState(""),[n,s]=L.useState([]),[o,u]=L.useState({card:`
`,term:","}),[h,m]=L.useState({term:"en-US",definition:"en-US"}),[p,g]=L.useState({}),E=L.useCallback((F,H)=>F.split(H.card).map((P,B)=>{if(!P.trim())return null;const Z=P.split(H.term),se=Z[0]?.trim()||"",de=Z.slice(1).join(H.term).trim()||"";return{id:`card-${B}`,term:se,definition:de,index:B}}).filter(Boolean),[]);return L.useEffect(()=>{s(E(r,o))},[r,o,E]),{inputText:r,setInputText:e,cards:n,separators:o,setSeparators:u,updateCard:(F,H,D)=>{const P=[...n],B=P[F];if(!B)return;H==="term"&&(B.term=D),H==="definition"&&(B.definition=D);const Z=P.map(se=>`${se.term}${o.term} ${se.definition}`).join(o.card);e(Z)},images:p,addImage:(F,H,D)=>{g(P=>({...P,[F]:{...P[F],[H]:D}}))},removeCard:F=>{const H=[...n];H.splice(F,1);const D=H.map(P=>`${P.term}${o.term} ${P.definition}`).join(o.card);e(D),g(P=>{const B={};return Object.keys(P).forEach(Z=>{const se=parseInt(Z);se<F&&(B[se]=P[se]),se>F&&(B[se-1]=P[se])}),B})},languages:h,setLanguages:m}},i4=({card:r,index:e,onUpdate:n,onAddImage:s,onDelete:o,images:u})=>{const h=L.useRef(null),m=L.useRef(null),{user:p}=dg(),[g,E]=E1.useState(!1),T=H=>{m.current=H,h.current?.click()},A=async H=>{const D=H.target.files?.[0];if(D&&m.current&&p){E(!0);try{const P=HM(XM,`users/${p.id}/images/${Date.now()}_${D.name}`);await jM(P,D);const B=await BM(P);s(e,m.current,B)}catch(P){console.error("Upload failed",P),alert("Image upload failed")}finally{E(!1),H.target.value=""}}},I=u?.[e]?.term,F=u?.[e]?.definition;return M.jsxs("div",{className:"card-preview",children:[M.jsxs("div",{className:"card-header",children:[M.jsx("span",{children:e+1}),M.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[M.jsx("button",{className:"delete-btn",onClick:()=>o(e),title:"Delete card",children:""}),g&&M.jsx("span",{style:{fontSize:"0.8rem",color:"#666"},children:"Uploading..."})]})]}),M.jsxs("div",{className:"card-row",children:[M.jsxs("div",{className:"preview-input-group",children:[M.jsx("label",{children:"Term"}),M.jsx("input",{className:"preview-input",value:r.term,onChange:H=>n(e,"term",H.target.value),placeholder:"Term"})]}),M.jsx("button",{className:"image-upload-btn",onClick:()=>T("term"),style:I?{backgroundImage:`url(${I})`,backgroundSize:"cover",border:"none"}:{},children:!I&&M.jsx("span",{children:"Image"})})]}),M.jsxs("div",{className:"card-row",children:[M.jsxs("div",{className:"preview-input-group",children:[M.jsx("label",{children:"Definition"}),M.jsx("input",{className:"preview-input",value:r.definition,onChange:H=>n(e,"definition",H.target.value),placeholder:"Definition"})]}),M.jsx("button",{className:"image-upload-btn",onClick:()=>T("definition"),style:F?{backgroundImage:`url(${F})`,backgroundSize:"cover",border:"none"}:{},children:!F&&M.jsx("span",{children:"Image"})})]}),M.jsx("input",{type:"file",ref:h,style:{display:"none"},accept:"image/*",onChange:A})]})},r4=({inputText:r,setInputText:e,cards:n,separators:s,setSeparators:o,updateCard:u,images:h,addImage:m,removeCard:p,languages:g,setLanguages:E,massCreateSettings:T,setMassCreateSettings:A})=>{const I=L.useRef(null),F=(D,P)=>{o(B=>({...B,[D]:P}))},H=(D,P)=>{E(B=>({...B,[D]:P}))};return M.jsxs("div",{className:"editor-layout",children:[M.jsxs("div",{className:"input-section",children:[M.jsx("div",{className:"editor-container",style:{display:"flex"},children:M.jsx("textarea",{ref:I,className:"main-input code-editor",value:r,onChange:D=>e(D.target.value),placeholder:`Word 1, Definition 1
Word 2, Definition 2...`,spellCheck:!1,style:{padding:"1rem",flex:1}})}),M.jsxs("div",{className:"settings-panel",children:[M.jsxs("div",{className:"setting-group",children:[M.jsx("label",{children:"Between term and definition"}),M.jsx("input",{type:"text",className:"separator-input",value:s.term,onChange:D=>F("term",D.target.value),placeholder:"e.g. , or -"})]}),M.jsxs("div",{className:"setting-group",children:[M.jsx("label",{children:"Between cards (New Line is default)"}),M.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",fontSize:"0.875rem",color:"var(--color-text-secondary)"},children:[M.jsx("span",{style:{background:"#eee",padding:"0.25rem 0.5rem",borderRadius:"4px"},children:" New Line"}),M.jsx("span",{children:"or"}),M.jsx("input",{type:"text",className:"separator-input",style:{width:"60px"},value:s.card===`
`?"":s.card,onChange:D=>F("card",D.target.value||`
`),placeholder:"Custom"})]})]}),M.jsxs("div",{className:"setting-group",style:{flexDirection:"row",gap:"1rem"},children:[M.jsxs("div",{style:{flex:1},children:[M.jsx("label",{children:"Term Language"}),M.jsxs("select",{value:g?.term||"en-US",onChange:D=>H("term",D.target.value),style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem"},children:[M.jsx("option",{value:"en-US",children:"English (US)"}),M.jsx("option",{value:"es-ES",children:"Spanish"}),M.jsx("option",{value:"fr-FR",children:"French"}),M.jsx("option",{value:"de-DE",children:"German"}),M.jsx("option",{value:"it-IT",children:"Italian"}),M.jsx("option",{value:"ja-JP",children:"Japanese"}),M.jsx("option",{value:"ko-KR",children:"Korean"}),M.jsx("option",{value:"zh-CN",children:"Chinese (Simplified)"})]})]}),M.jsxs("div",{style:{flex:1},children:[M.jsx("label",{children:"Definition Language"}),M.jsxs("select",{value:g?.definition||"en-US",onChange:D=>H("definition",D.target.value),style:{width:"100%",padding:"0.5rem",marginTop:"0.5rem"},children:[M.jsx("option",{value:"en-US",children:"English (US)"}),M.jsx("option",{value:"es-ES",children:"Spanish"}),M.jsx("option",{value:"fr-FR",children:"French"}),M.jsx("option",{value:"de-DE",children:"German"}),M.jsx("option",{value:"it-IT",children:"Italian"}),M.jsx("option",{value:"ja-JP",children:"Japanese"}),M.jsx("option",{value:"ko-KR",children:"Korean"}),M.jsx("option",{value:"zh-CN",children:"Chinese (Simplified)"})]}),M.jsxs("div",{className:"setting-group",children:[M.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[M.jsx("input",{type:"checkbox",id:"massCreate",checked:T?.enabled||!1,onChange:D=>A(P=>({...P,enabled:D.target.checked}))}),M.jsx("label",{htmlFor:"massCreate",style:{marginBottom:0,cursor:"pointer",color:"var(--color-primary)",fontWeight:"600"},children:"Mass Create Mode"})]}),T?.enabled&&M.jsxs("div",{style:{marginTop:"0.5rem"},children:[M.jsx("label",{style:{fontSize:"0.8rem"},children:"Max Cards per Set"}),M.jsx("input",{type:"number",className:"separator-input",style:{width:"80px",marginTop:"0.2rem"},value:T.maxCards,onChange:D=>A(P=>({...P,maxCards:parseInt(D.target.value)||10})),min:"1"}),M.jsx("div",{style:{fontSize:"0.75rem",color:"#888",marginTop:"0.25rem",lineHeight:"1.2"},children:"Large lists will be split into multiple sets (e.g. Set 1, Set 2...)"})]})]})]})]})]})]}),M.jsxs("div",{className:"preview-section",children:[M.jsxs("h2",{style:{fontSize:"1.25rem",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:["Preview ",M.jsxs("span",{className:"badge",children:[n.length," cards"]})]}),n.map((D,P)=>M.jsx(i4,{index:P,card:D,onUpdate:u,onAddImage:m,onDelete:p,images:h},D.id||P))]})]})},NT=({fs:r})=>{const{setId:e}=GT();cp();const n=zb(),[s,o]=L.useState({enabled:!1,maxCards:30});L.useEffect(()=>{if(e&&r.items[e]){const h=r.items[e];h.content&&(n.setInputText(h.content.text||""),h.content.languages&&n.setLanguages(h.content.languages))}else e||(n.setInputText(""),n.setLanguages({term:"en-US",definition:"en-US"}))},[e,r.items]),L.useEffect(()=>()=>{e&&r.items[e]&&r.updateSetContent(e,{text:n.inputText})},[]);const u=L.useRef({text:"",languages:null,massCreate:{enabled:!1,maxCards:30}});return L.useEffect(()=>{u.current={text:n.inputText,languages:n.languages,massCreate:s}},[n.inputText,n.languages,s]),L.useEffect(()=>()=>{if(e){const{text:h,languages:m,massCreate:p}=u.current,g=h.split(`
`).filter(E=>E.trim());if(p.enabled&&g.length>p.maxCards){console.log("Mass creating items...");const E=p.maxCards,T=[];for(let D=0;D<g.length;D+=E)T.push(g.slice(D,D+E));const A=T[0].join(`
`);r.updateSetContent(e,{text:A,languages:m});const I=r.items[e],F=I?.parentId||"root",H=I?.name||"New Set";T.slice(1).forEach((D,P)=>{const B=`${H} ${P+2}`,Z={text:D.join(`
`),languages:m};r.createItem("set",B,F,Z)})}else r.updateSetContent(e,{text:h,languages:m})}},[e]),M.jsx(r4,{...n,massCreateSettings:s,setMassCreateSettings:o})},OT=()=>M.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{display:"block"},children:[M.jsx("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),M.jsx("path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"})]}),s4=({card:r,isFlipped:e,onClick:n,images:s,languages:o})=>{const u=s?.[r.index]?.term,h=s?.[r.index]?.definition,m=(p,g,E)=>{if(p.stopPropagation(),!g)return;window.speechSynthesis.cancel();const T=new SpeechSynthesisUtterance(g);E&&(T.lang=E),window.speechSynthesis.speak(T)};return M.jsx("div",{className:"flashcard-scene",onClick:n,children:M.jsxs("div",{className:`flashcard ${e?"flipped":""}`,children:[M.jsxs("div",{className:"card-face front",children:[M.jsx("button",{onClick:p=>m(p,r.term,o?.term),className:"speaker-btn",style:{position:"absolute",top:"10px",right:"10px",background:"transparent",border:"none",cursor:"pointer",padding:"5px",color:"#666"},children:M.jsx(OT,{})}),u&&M.jsx("img",{src:u,alt:"Term",className:"card-image"}),M.jsx("div",{children:r.term})]}),M.jsxs("div",{className:"card-face back",children:[M.jsx("button",{onClick:p=>m(p,r.definition,o?.definition),className:"speaker-btn",style:{position:"absolute",top:"10px",right:"10px",background:"transparent",border:"none",cursor:"pointer",padding:"5px",color:"#666"},children:M.jsx(OT,{})}),h&&M.jsx("img",{src:h,alt:"Definition",className:"card-image"}),M.jsx("div",{children:r.definition})]})]})})},a4=({cards:r,images:e,languages:n})=>{const[s,o]=L.useState([]),[u,h]=L.useState(0),[m,p]=L.useState(!1),[g,E]=L.useState(new Set),[T,A]=L.useState(!1),[I,F]=L.useState(!1),[H,D]=L.useState(!1);L.useEffect(()=>{let w;return H&&!I&&(m?w=setTimeout(()=>{P()},3e3):w=setTimeout(()=>{p(!0)},3e3)),()=>clearTimeout(w)},[H,m,I,u,s.length]),L.useEffect(()=>{r.length>0&&o(w=>w.length===0?r.map(O=>O.id||O.index):w)},[r]);const P=L.useCallback(()=>{p(!1),u<s.length-1?h(w=>w+1):F(!0)},[u,s.length]),B=L.useCallback(()=>{u>0&&(p(!1),h(w=>w-1))},[u]),Z=L.useCallback(()=>{const w=s[u];E(O=>{const k=new Set(O);return k.delete(w),k}),P()},[P,u,s]),se=L.useCallback(()=>{const w=s[u];E(O=>new Set(O).add(w)),P()},[P,u,s]);L.useEffect(()=>{const w=O=>{if(!I)switch(O.code){case"Space":O.preventDefault(),p(k=>!k);break;case"ArrowRight":case"ArrowDown":O.preventDefault(),P();break;case"ArrowLeft":case"ArrowUp":O.preventDefault(),B();break;case"Digit1":case"Numpad1":Z();break;case"Digit2":case"Numpad2":se();break}};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[P,B,Z,se,I]);const de=()=>{o(r.map(w=>w.id||w.index)),h(0),p(!1),F(!1),A(!1),E(new Set)},pe=()=>{const w=r.filter(O=>g.has(O.id||O.index)).map(O=>O.id||O.index);w.length!==0&&(o(w),h(0),p(!1),F(!1),A(!0))},C=s[u],R=r.find(w=>(w.id||w.index)===C);return r.length?I?M.jsxs("div",{className:"completion-view",children:[M.jsx("h2",{style:{fontSize:"2rem"},children:"Set Complete!"}),M.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:[M.jsx("button",{className:"action-btn",onClick:de,children:"Redo All"}),g.size>0&&M.jsxs("button",{className:"action-btn btn-unknown",onClick:pe,children:["Redo Unknown (",g.size,")"]})]})]}):R?M.jsxs("div",{className:"study-container",children:[M.jsx(s4,{card:R,isFlipped:m,onClick:()=>p(!m),images:e,languages:n}),M.jsxs("div",{className:"autoplay-section",children:[M.jsx("button",{className:`autoplay-btn ${H?"active":""}`,onClick:()=>D(w=>!w),title:"Toggle Autoplay",children:H?"":""}),M.jsxs("span",{className:"autoplay-label",children:["Autoplay: ",H?"On":"Off"]})]}),M.jsxs("div",{className:"controls",children:[M.jsxs("div",{className:"stats-row",children:[M.jsx("span",{children:T?"Unknown Set":"All Cards"}),M.jsxs("span",{children:[u+1," / ",s.length]})]}),M.jsx("div",{className:"progress-bar",children:M.jsx("div",{className:"progress-fill",style:{width:`${u/s.length*100}%`}})}),M.jsxs("div",{className:"action-buttons",children:[M.jsx("button",{className:"action-btn btn-known",onClick:Z,children:"1 Known"}),M.jsx("button",{className:"action-btn btn-unknown",onClick:se,children:"2 Unknown"})]}),M.jsxs("div",{className:"nav-buttons",children:[M.jsx("button",{className:"nav-btn",onClick:B,disabled:u===0,children:" Previous"}),M.jsx("div",{style:{fontSize:"0.75rem",color:"var(--color-text-secondary)"},children:"Space to flip  Arrows to navigate"}),M.jsx("button",{className:"nav-btn",onClick:P,disabled:u===s.length-1,children:"Next "})]})]})]}):null:M.jsx("div",{className:"study-container",children:"Please add flashcards in the editor first."})},o4=({fs:r})=>{const{setId:e}=GT(),n=zb();return L.useEffect(()=>{if(e&&r.items[e]){const o=r.items[e];if(o.content){const u=o.content.languages||{term:"en-US",definition:"en-US"};n.setInputText(o.content.text||""),n.setLanguages(u)}}},[e,r.items]),r.items[e]?M.jsx(a4,{cards:n.cards,images:n.images,languages:n.languages}):M.jsx("div",{children:"Set not found"})};function l4(){const{user:r,logout:e}=dg(),n=$M(r?.id),s=cp(),o=gs(),[u,h]=L.useState(!1),[m,p]=L.useState(""),g=()=>{if(h(!1),!!m.trim()&&(o.pathname.startsWith("/edit/")||o.pathname.startsWith("/study/"))){const D=o.pathname.split("/")[2];n.renameItem(D,m)}},E=()=>{const D=o.pathname;if(D.startsWith("/edit/")||D.startsWith("/study/")){const P=D.split("/")[2];return n.items[P]?.name||"Untitled Set"}return""},T=D=>{D.type==="set"&&s(`/edit/${D.id}`)},A=D=>{s(`/edit/${D}`)};if(!r)return M.jsx(n4,{});const I=o.pathname==="/",F=o.pathname.startsWith("/edit/"),H=F?o.pathname.split("/")[2]:null;return M.jsxs("div",{className:"app-container",children:[M.jsxs("header",{style:{padding:"1rem 2rem",background:"var(--color-surface)",borderBottom:"1px solid var(--color-border)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[M.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[!I&&M.jsx("button",{onClick:()=>s("/"),className:"nav-btn",style:{padding:"0.5rem",display:"flex",alignItems:"center"},children:" Back"}),u?M.jsx("input",{autoFocus:!0,className:"nav-title-input",value:m,onChange:D=>p(D.target.value),onBlur:g,onKeyDown:D=>D.key==="Enter"&&g(),style:{fontSize:"1.25rem",fontWeight:"600",fontFamily:"inherit",border:"1px solid black",borderRadius:"4px",padding:"0 6px",lineHeight:"1.5",width:"auto",minWidth:"200px",margin:"-1px",color:"inherit",background:"white"}}):M.jsx("h1",{className:I?"":"editable-document-title",title:I?"":"Rename",style:{fontSize:"1.25rem"},onClick:()=>{I||(p(E()),h(!0))},children:I?"My Flashcards":E()})]}),M.jsxs("div",{style:{gap:"1rem",display:"flex",alignItems:"center"},children:[F&&M.jsxs(M.Fragment,{children:[M.jsx("button",{className:"action-btn",onClick:()=>s("/"),style:{padding:"0.5rem 1rem"},children:"Create"}),M.jsx("button",{className:"action-btn",onClick:()=>s(`/study/${H}`),style:{padding:"0.5rem 1rem",background:"var(--color-primary)",color:"white",borderColor:"var(--color-primary)"},children:"Create and Practice"})]}),M.jsxs("div",{style:{marginLeft:"1rem",paddingLeft:"1rem",borderLeft:"1px solid #eee",display:"flex",alignItems:"center",gap:"0.5rem"},children:[M.jsx("span",{style:{fontSize:"0.9rem",fontWeight:"500",color:"#666"},children:r.username}),M.jsx("button",{onClick:e,style:{fontSize:"0.8rem",color:"#999",cursor:"pointer",padding:"0.2rem 0.5rem",background:"#f5f5f7",borderRadius:"4px"},children:"Logout"})]})]})]}),M.jsx("main",{style:{padding:"2rem",maxWidth:"1200px",margin:"0 auto",height:"calc(100vh - 80px)"},children:M.jsxs(Aw,{children:[M.jsx(Ll,{path:"/",element:M.jsx(e4,{...n,onNavigateFile:T,onCopy:(D,P)=>n.copyToClipboard(D,P),onPaste:n.pasteFromClipboard,onNavigateNewSet:A})}),M.jsx(Ll,{path:"/edit/:setId",element:M.jsx(NT,{fs:n})}),M.jsx(Ll,{path:"/create",element:M.jsx(NT,{fs:n})}),M.jsx(Ll,{path:"/study/:setId",element:M.jsx(o4,{fs:n})})]})})]})}function u4(){return M.jsx(WM,{children:M.jsx(l4,{})})}C1.createRoot(document.getElementById("root")).render(M.jsx(L.StrictMode,{children:M.jsx(Qw,{children:M.jsx(u4,{})})}));
